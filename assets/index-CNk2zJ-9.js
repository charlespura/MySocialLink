(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function vv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},wo={};var f0;function MS(){if(f0)return wo;f0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return wo.Fragment=t,wo.jsx=n,wo.jsxs=n,wo}var d0;function VS(){return d0||(d0=1,Pd.exports=MS()),Pd.exports}var K=VS(),Bd={exports:{}},_t={};var m0;function LS(){if(m0)return _t;m0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,it={};function pt(M,Q,et){this.props=M,this.context=Q,this.refs=it,this.updater=et||Z}pt.prototype.isReactComponent={},pt.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},pt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function dt(){}dt.prototype=pt.prototype;function mt(M,Q,et){this.props=M,this.context=Q,this.refs=it,this.updater=et||Z}var Mt=mt.prototype=new dt;Mt.constructor=mt,W(Mt,pt.prototype),Mt.isPureReactComponent=!0;var ie=Array.isArray;function Vt(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(M,Q,et){var st=et.ref;return{$$typeof:s,type:M,key:Q,ref:st!==void 0?st:null,props:et}}function V(M,Q){return I(M.type,Q,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function w(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return Q[et]})}var b=/\/+/g;function bt(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?w(""+M.key):Q.toString(36)}function fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Vt,Vt):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Q,et,st,gt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(St){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case s:case t:Lt=!0;break;case E:return Lt=M._init,F(Lt(M._payload),Q,et,st,gt)}}if(Lt)return gt=gt(M),Lt=st===""?"."+bt(M,0):st,ie(gt)?(et="",Lt!=null&&(et=Lt.replace(b,"$&/")+"/"),F(gt,Q,et,"",function(or){return or})):gt!=null&&(O(gt)&&(gt=V(gt,et+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(b,"$&/")+"/")+Lt)),Q.push(gt)),1;Lt=0;var Le=st===""?".":st+":";if(ie(M))for(var ue=0;ue<M.length;ue++)st=M[ue],St=Le+bt(st,ue),Lt+=F(st,Q,et,St,gt);else if(ue=q(M),typeof ue=="function")for(M=ue.call(M),ue=0;!(st=M.next()).done;)st=st.value,St=Le+bt(st,ue++),Lt+=F(st,Q,et,St,gt);else if(St==="object"){if(typeof M.then=="function")return F(fe(M),Q,et,st,gt);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function tt(M,Q,et){if(M==null)return M;var st=[],gt=0;return F(M,st,"","",function(St){return Q.call(et,St,gt++)}),st}function ct(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Bt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qt={map:tt,forEach:function(M,Q,et){tt(M,function(){Q.apply(this,arguments)},et)},count:function(M){var Q=0;return tt(M,function(){Q++}),Q},toArray:function(M){return tt(M,function(Q){return Q})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _t.Activity=S,_t.Children=Qt,_t.Component=pt,_t.Fragment=n,_t.Profiler=l,_t.PureComponent=mt,_t.StrictMode=r,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},_t.cache=function(M){return function(){return M.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(M,Q,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=W({},M.props),gt=M.key;if(Q!=null)for(St in Q.key!==void 0&&(gt=""+Q.key),Q)!C.call(Q,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Q.ref===void 0||(st[St]=Q[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var Lt=Array(St),Le=0;Le<St;Le++)Lt[Le]=arguments[Le+2];st.children=Lt}return I(M.type,gt,st)},_t.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},_t.createElement=function(M,Q,et){var st,gt={},St=null;if(Q!=null)for(st in Q.key!==void 0&&(St=""+Q.key),Q)C.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=Q[st]);var Lt=arguments.length-2;if(Lt===1)gt.children=et;else if(1<Lt){for(var Le=Array(Lt),ue=0;ue<Lt;ue++)Le[ue]=arguments[ue+2];gt.children=Le}if(M&&M.defaultProps)for(st in Lt=M.defaultProps,Lt)gt[st]===void 0&&(gt[st]=Lt[st]);return I(M,St,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(M){return{$$typeof:m,render:M}},_t.isValidElement=O,_t.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ct}},_t.memo=function(M,Q){return{$$typeof:p,type:M,compare:Q===void 0?null:Q}},_t.startTransition=function(M){var Q=D.T,et={};D.T=et;try{var st=M(),gt=D.S;gt!==null&&gt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Vt,Bt)}catch(St){Bt(St)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),D.T=Q}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(M){return D.H.use(M)},_t.useActionState=function(M,Q,et){return D.H.useActionState(M,Q,et)},_t.useCallback=function(M,Q){return D.H.useCallback(M,Q)},_t.useContext=function(M){return D.H.useContext(M)},_t.useDebugValue=function(){},_t.useDeferredValue=function(M,Q){return D.H.useDeferredValue(M,Q)},_t.useEffect=function(M,Q){return D.H.useEffect(M,Q)},_t.useEffectEvent=function(M){return D.H.useEffectEvent(M)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(M,Q,et){return D.H.useImperativeHandle(M,Q,et)},_t.useInsertionEffect=function(M,Q){return D.H.useInsertionEffect(M,Q)},_t.useLayoutEffect=function(M,Q){return D.H.useLayoutEffect(M,Q)},_t.useMemo=function(M,Q){return D.H.useMemo(M,Q)},_t.useOptimistic=function(M,Q){return D.H.useOptimistic(M,Q)},_t.useReducer=function(M,Q,et){return D.H.useReducer(M,Q,et)},_t.useRef=function(M){return D.H.useRef(M)},_t.useState=function(M){return D.H.useState(M)},_t.useSyncExternalStore=function(M,Q,et){return D.H.useSyncExternalStore(M,Q,et)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.4",_t}var g0;function Qm(){return g0||(g0=1,Bd.exports=LS()),Bd.exports}var Sn=Qm();const Ys=vv(Sn);var jd={exports:{}},Ro={},qd={exports:{}},Hd={};var p0;function zS(){return p0||(p0=1,(function(s){function t(F,tt){var ct=F.length;F.push(tt);t:for(;0<ct;){var Bt=ct-1>>>1,Qt=F[Bt];if(0<l(Qt,tt))F[Bt]=tt,F[ct]=Qt,ct=Bt;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var tt=F[0],ct=F.pop();if(ct!==tt){F[0]=ct;t:for(var Bt=0,Qt=F.length,M=Qt>>>1;Bt<M;){var Q=2*(Bt+1)-1,et=F[Q],st=Q+1,gt=F[st];if(0>l(et,ct))st<Qt&&0>l(gt,et)?(F[Bt]=gt,F[st]=ct,Bt=st):(F[Bt]=et,F[Q]=ct,Bt=Q);else if(st<Qt&&0>l(gt,ct))F[Bt]=gt,F[st]=ct,Bt=st;else break t}}return tt}function l(F,tt){var ct=F.sortIndex-tt.sortIndex;return ct!==0?ct:F.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var _=[],p=[],E=1,S=null,R=3,q=!1,Z=!1,W=!1,it=!1,pt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Mt(F){for(var tt=n(p);tt!==null;){if(tt.callback===null)r(p);else if(tt.startTime<=F)r(p),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=n(p)}}function ie(F){if(W=!1,Mt(F),!Z)if(n(_)!==null)Z=!0,Vt||(Vt=!0,w());else{var tt=n(p);tt!==null&&fe(ie,tt.startTime-F)}}var Vt=!1,D=-1,C=5,I=-1;function V(){return it?!0:!(s.unstable_now()-I<C)}function O(){if(it=!1,Vt){var F=s.unstable_now();I=F;var tt=!0;try{t:{Z=!1,W&&(W=!1,dt(D),D=-1),q=!0;var ct=R;try{e:{for(Mt(F),S=n(_);S!==null&&!(S.expirationTime>F&&V());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,R=S.priorityLevel;var Qt=Bt(S.expirationTime<=F);if(F=s.unstable_now(),typeof Qt=="function"){S.callback=Qt,Mt(F),tt=!0;break e}S===n(_)&&r(_),Mt(F)}else r(_);S=n(_)}if(S!==null)tt=!0;else{var M=n(p);M!==null&&fe(ie,M.startTime-F),tt=!1}}break t}finally{S=null,R=ct,q=!1}tt=void 0}}finally{tt?w():Vt=!1}}}var w;if(typeof mt=="function")w=function(){mt(O)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,bt=b.port2;b.port1.onmessage=O,w=function(){bt.postMessage(null)}}else w=function(){pt(O,0)};function fe(F,tt){D=pt(function(){F(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(F){switch(R){case 1:case 2:case 3:var tt=3;break;default:tt=R}var ct=R;R=tt;try{return F()}finally{R=ct}},s.unstable_requestPaint=function(){it=!0},s.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=R;R=F;try{return tt()}finally{R=ct}},s.unstable_scheduleCallback=function(F,tt,ct){var Bt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Bt+ct:Bt):ct=Bt,F){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ct+Qt,F={id:E++,callback:tt,priorityLevel:F,startTime:ct,expirationTime:Qt,sortIndex:-1},ct>Bt?(F.sortIndex=ct,t(p,F),n(_)===null&&F===n(p)&&(W?(dt(D),D=-1):W=!0,fe(ie,ct-Bt))):(F.sortIndex=Qt,t(_,F),Z||q||(Z=!0,Vt||(Vt=!0,w()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var tt=R;return function(){var ct=R;R=tt;try{return F.apply(this,arguments)}finally{R=ct}}}})(Hd)),Hd}var _0;function US(){return _0||(_0=1,qd.exports=zS()),qd.exports}var Fd={exports:{}},nn={};var y0;function kS(){if(y0)return nn;y0=1;var s=Qm();function t(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:p,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(_,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(_,p,null,E)},nn.flushSync=function(_){var p=f.T,E=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=p,r.p=E,r.d.f()}},nn.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(_,p))},nn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},nn.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:q}):E==="script"&&r.d.X(_,{crossOrigin:S,integrity:R,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(_)},nn.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);r.d.L(_,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(_,p){if(typeof _=="string")if(p){var E=m(p.as,p.crossOrigin);r.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(_)},nn.requestFormReset=function(_){r.d.r(_)},nn.unstable_batchedUpdates=function(_,p){return _(p)},nn.useFormState=function(_,p,E){return f.H.useFormState(_,p,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var v0;function PS(){if(v0)return Fd.exports;v0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Fd.exports=kS(),Fd.exports}var E0;function BS(){if(E0)return Ro;E0=1;var s=US(),t=Qm(),n=PS();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),e;if(d===o)return _(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,o=d;break}if(T===o){y=!0,o=h,a=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===a){y=!0,a=d,o=h;break}if(T===o){y=!0,o=d,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function w(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case pt:return"Profiler";case it:return"StrictMode";case ie:return"Suspense";case Vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:bt(e.type)||"Memo";case C:i=e._payload,e=e._init;try{return bt(e(i))}catch{}}return null}var fe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Bt=[],Qt=-1;function M(e){return{current:e}}function Q(e){0>Qt||(e.current=Bt[Qt],Bt[Qt]=null,Qt--)}function et(e,i){Qt++,Bt[Qt]=e.current,e.current=i}var st=M(null),gt=M(null),St=M(null),Lt=M(null);function Le(e,i){switch(et(St,i),et(gt,e),et(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Ly(i),e=zy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),et(st,e)}function ue(){Q(st),Q(gt),Q(St)}function or(e){e.memoizedState!==null&&et(Lt,e);var i=st.current,a=zy(i,e.type);i!==a&&(et(gt,e),et(st,a))}function ea(e){gt.current===e&&(Q(st),Q(gt)),Lt.current===e&&(Q(Lt),So._currentValue=ct)}var na,ia;function hi(e){if(na===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);na=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+ia}var Tl=!1;function ur(e,i){if(!e||Tl)return"";Tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var P=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){P=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){P=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var N=y.split(`
`),k=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===k.length)for(o=N.length-1,h=k.length-1;1<=o&&0<=h&&N[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==k[h]){var H=`
`+N[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Tl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?hi(a):""}function Sl(e,i){switch(e.tag){case 26:case 27:case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return e.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return ur(e.type,!1);case 11:return ur(e.type.render,!1);case 1:return ur(e.type,!0);case 31:return hi("Activity");default:return""}}function Al(e){try{var i="",a=null;do i+=Sl(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Se=Object.prototype.hasOwnProperty,ze=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,Bh=s.unstable_shouldYield,du=s.unstable_requestPaint,cn=s.unstable_now,cr=s.unstable_getCurrentPriorityLevel,bl=s.unstable_ImmediatePriority,Cl=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,jh=s.unstable_LowPriority,mu=s.unstable_IdlePriority,gu=s.log,pu=s.unstable_setDisableYieldValue,Zn=null,Ke=null;function Ln(e){if(typeof gu=="function"&&pu(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Zn,e)}catch{}}var _e=Math.clz32?Math.clz32:yu,_u=Math.log,sa=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(_u(e)/sa|0)|0}var fi=256,hr=262144,Ae=4194304;function di(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=di(o):(y&=T,y!==0?h=di(y):a||(a=T&~e,a!==0&&(h=di(a))))):(T=o&~d,T!==0?h=di(T):y!==0?h=di(y):a||(a=o&~e,a!==0&&(h=di(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function gi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,i,a,o,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,N=e.expirationTimes,k=e.hiddenUpdates;for(a=y&~a;0<a;){var H=31-_e(a),Y=1<<H;T[H]=0,N[H]=-1;var P=k[H];if(P!==null)for(k[H]=null,H=0;H<P.length;H++){var j=P[H];j!==null&&(j.lane&=-536870913)}a&=~Y}o!==0&&dr(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function dr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-_e(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function wl(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-_e(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Rl(e,i){var a=i&-i;return a=(a&42)!==0?1:mr(a),(a&(e.suspendedLanes|i))!==0?0:a}function mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function $n(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var Wn=Math.random().toString(36).slice(2),be="__reactFiber$"+Wn,Be="__reactProps$"+Wn,pi="__reactContainer$"+Wn,ra="__reactEvents$"+Wn,Fh="__reactListeners$"+Wn,Tu="__reactHandles$"+Wn,Su="__reactResources$"+Wn,_i="__reactMarker$"+Wn;function aa(e){delete e[be],delete e[Be],delete e[ra],delete e[Fh],delete e[Tu]}function yi(e){var i=e[be];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[be]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Hy(e);e!==null;){if(a=e[be])return a;e=Hy(e)}return i}e=a,a=e.parentNode}return null}function zn(e){if(e=e[be]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Cn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function vi(e){var i=e[Su];return i||(i=e[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ce(e){e[_i]=!0}var Nl=new Set,Il={};function Ei(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(Il[e]=i,e=0;e<i.length;e++)Nl.add(i[e])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},xl={};function Au(e){return Se.call(xl,e)?!0:Se.call(Ol,e)?!1:Dl.test(e)?xl[e]=!0:(Ol[e]=!0,!1)}function la(e,i,a){if(Au(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function wn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ml(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=ds(e)?"checked":"value";e._valueTracker=Ml(e,i,""+e[i])}}function gr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=ds(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pr=/[\n"\\]/g;function gn(e){return e.replace(pr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oa(e,i,a,o,h,d,y,T){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+je(i)):e.value!==""+je(i)&&(e.value=""+je(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Vl(e,y,je(i)):a!=null?Vl(e,y,je(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+je(T):e.removeAttribute("name")}function bu(e,i,a,o,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+je(a):"",i=i!=null?""+je(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Kt(e)}function Vl(e,i,a){i==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ms(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+je(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Cu(e,i,a){if(i!=null&&(i=""+je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+je(a):""}function gs(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(fe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=je(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function zl(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Ll(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Ll(e,d,i[d])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var Ul=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Ai=null;function _r(e){var i=zn(e);if(i&&(e=i.stateNode)){var a=e[Be]||null;t:switch(e=i.stateNode,i.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(r(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&gr(o)}break t;case"textarea":Cu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ms(e,!!a.multiple,i,!1)}}}var ha=!1;function ys(e,i,a){if(ha)return e(i,a);ha=!0;try{var o=e(i);return o}finally{if(ha=!1,(_s!==null||Ai!==null)&&(Ec(),_s&&(i=_s,e=Ai,Ai=_s=null,_r(i),e)))for(i=0;i<e.length;i++)_r(e[i])}}function ei(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Be]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(kn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{yr=!1}var bi=null,kl=null,vr=null;function Pl(){if(vr)return vr;var e,i=kl,a=i.length,o,h="value"in bi?bi.value:bi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[d-o];o++);return vr=h.slice(e,1<o?1-o:void 0)}function Er(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function ni(){return!1}function Xe(e){function i(a,o,h,d,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:ni,this.isPropagationStopped=ni,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Xe(qi),vs=S({},qi,{view:0,detail:0}),Bl=Xe(vs),Es,fa,wi,da=S({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Es=e.screenX-wi.screenX,fa=e.screenY-wi.screenY):fa=Es=0,wi=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),jl=Xe(da),Tr=S({},da,{dataTransfer:0}),Nu=Xe(Tr),Iu=S({},vs,{relatedTarget:0}),Sr=Xe(Iu),ql=S({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Xe(ql),ma=S({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ou=Xe(ma),xu=S({},qi,{data:0}),Ri=Xe(xu),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Lu[e])?!!i[e]:!1}function Ts(){return zu}var hn=S({},vs,{key:function(e){if(e.key){var i=Mu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uu=Xe(hn),ku=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Xe(ku),c=S({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),g=Xe(c),v=S({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Xe(v),z=S({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xe(z),J=S({},qi,{newState:0,oldState:0}),Et=Xe(J),ye=[9,13,27,32],Ft=kn&&"CompositionEvent"in window,ce=null;kn&&"documentMode"in document&&(ce=document.documentMode);var Pn=kn&&"TextEvent"in window&&!ce,Ni=kn&&(!Ft||ce&&8<ce&&11>=ce),ii=" ",si=!1;function Ar(e,i){switch(e){case"keyup":return ye.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function iT(e,i){switch(e){case"compositionend":return ga(i);case"keypress":return i.which!==32?null:(si=!0,ii);case"textInput":return e=i.data,e===ii&&si?null:e;default:return null}}function sT(e,i){if(pa)return e==="compositionend"||!Ft&&Ar(e,i)?(e=Pl(),vr=kl=bi=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!rT[e.type]:i==="textarea"}function Qg(e,i,a,o){_s?Ai?Ai.push(o):Ai=[o]:_s=o,i=Rc(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Hl=null,Fl=null;function aT(e){Iy(e,0)}function Pu(e){var i=Cn(e);if(gr(i))return e}function Kg(e,i){if(e==="change")return i}var Xg=!1;if(kn){var Gh;if(kn){var Yh="oninput"in document;if(!Yh){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Yh=typeof Zg.oninput=="function"}Gh=Yh}else Gh=!1;Xg=Gh&&(!document.documentMode||9<document.documentMode)}function Jg(){Hl&&(Hl.detachEvent("onpropertychange",$g),Fl=Hl=null)}function $g(e){if(e.propertyName==="value"&&Pu(Fl)){var i=[];Qg(i,Fl,e,Un(e)),ys(aT,i)}}function lT(e,i,a){e==="focusin"?(Jg(),Hl=i,Fl=a,Hl.attachEvent("onpropertychange",$g)):e==="focusout"&&Jg()}function oT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(Fl)}function uT(e,i){if(e==="click")return Pu(i)}function cT(e,i){if(e==="input"||e==="change")return Pu(i)}function hT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Rn=typeof Object.is=="function"?Object.is:hT;function Gl(e,i){if(Rn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Se.call(i,h)||!Rn(e[h],i[h]))return!1}return!0}function Wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tp(e,i){var a=Wg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wg(a)}}function ep(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ep(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Si(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Si(e.document)}return i}function Qh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var fT=kn&&"documentMode"in document&&11>=document.documentMode,_a=null,Kh=null,Yl=null,Xh=!1;function ip(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||_a==null||_a!==Si(o)||(o=_a,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yl&&Gl(Yl,o)||(Yl=o,o=Rc(Kh,"onSelect"),0<o.length&&(i=new Ci("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=_a)))}function br(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ya={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Zh={},sp={};kn&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Cr(e){if(Zh[e])return Zh[e];if(!ya[e])return e;var i=ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sp)return Zh[e]=i[a];return e}var rp=Cr("animationend"),ap=Cr("animationiteration"),lp=Cr("animationstart"),dT=Cr("transitionrun"),mT=Cr("transitionstart"),gT=Cr("transitioncancel"),op=Cr("transitionend"),up=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function ri(e,i){up.set(e,i),Ei(i,[e])}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],va=0,$h=0;function ju(){for(var e=va,i=$h=va=0;i<e;){var a=Bn[i];Bn[i++]=null;var o=Bn[i];Bn[i++]=null;var h=Bn[i];Bn[i++]=null;var d=Bn[i];if(Bn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&cp(a,h,d)}}function qu(e,i,a,o){Bn[va++]=e,Bn[va++]=i,Bn[va++]=a,Bn[va++]=o,$h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,i,a,o){return qu(e,i,a,o),Hu(e)}function wr(e,i){return qu(e,null,null,i),Hu(e)}function cp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-_e(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Hu(e){if(50<go)throw go=0,ud=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ea={};function pT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,i,a,o){return new pT(e,i,a,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,i){var a=e.alternate;return a===null?(a=Nn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Fu(e,i,a,o,h,d){var y=0;if(o=e,typeof e=="function")tf(e)&&(y=1);else if(typeof e=="string")y=TS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Nn(31,a,i,h),e.elementType=I,e.lanes=d,e;case W:return Rr(a.children,h,d,i);case it:y=8,h|=24;break;case pt:return e=Nn(12,a,i,h|2),e.elementType=pt,e.lanes=d,e;case ie:return e=Nn(13,a,i,h),e.elementType=ie,e.lanes=d,e;case Vt:return e=Nn(19,a,i,h),e.elementType=Vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:y=10;break t;case dt:y=9;break t;case Mt:y=11;break t;case D:y=14;break t;case C:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=Nn(y,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Rr(e,i,a,o){return e=Nn(7,e,o,i),e.lanes=a,e}function ef(e,i,a){return e=Nn(6,e,null,i),e.lanes=a,e}function fp(e){var i=Nn(18,null,null,0);return i.stateNode=e,i}function nf(e,i,a){return i=Nn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var dp=new WeakMap;function jn(e,i){if(typeof e=="object"&&e!==null){var a=dp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Al(i)},dp.set(e,i),i)}return{value:e,source:i,stack:Al(i)}}var Ta=[],Sa=0,Gu=null,Ql=0,qn=[],Hn=0,Ss=null,Ii=1,Di="";function Gi(e,i){Ta[Sa++]=Ql,Ta[Sa++]=Gu,Gu=e,Ql=i}function mp(e,i,a){qn[Hn++]=Ii,qn[Hn++]=Di,qn[Hn++]=Ss,Ss=e;var o=Ii;e=Di;var h=32-_e(o)-1;o&=~(1<<h),a+=1;var d=32-_e(i)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ii=1<<32-_e(i)+h|a<<h|o,Di=d+e}else Ii=1<<d|a<<h|o,Di=e}function sf(e){e.return!==null&&(Gi(e,1),mp(e,1,0))}function rf(e){for(;e===Gu;)Gu=Ta[--Sa],Ta[Sa]=null,Ql=Ta[--Sa],Ta[Sa]=null;for(;e===Ss;)Ss=qn[--Hn],qn[Hn]=null,Di=qn[--Hn],qn[Hn]=null,Ii=qn[--Hn],qn[Hn]=null}function gp(e,i){qn[Hn++]=Ii,qn[Hn++]=Di,qn[Hn++]=Ss,Ii=i.id,Di=i.overflow,Ss=e}var Ze=null,se=null,It=!1,As=null,Fn=!1,af=Error(r(519));function bs(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(jn(i,e)),af}function pp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[be]=e,i[Be]=o,a){case"dialog":wt("cancel",i),wt("close",i);break;case"iframe":case"object":case"embed":wt("load",i);break;case"video":case"audio":for(a=0;a<_o.length;a++)wt(_o[a],i);break;case"source":wt("error",i);break;case"img":case"image":case"link":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"input":wt("invalid",i),bu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",i);break;case"textarea":wt("invalid",i),gs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||My(i.textContent,a)?(o.popover!=null&&(wt("beforetoggle",i),wt("toggle",i)),o.onScroll!=null&&wt("scroll",i),o.onScrollEnd!=null&&wt("scrollend",i),o.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||bs(e,!0)}function _p(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ze=Ze.return}}function Aa(e){if(e!==Ze)return!1;if(!It)return _p(e),It=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&se&&bs(e),_p(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=qy(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=qy(e)}else i===27?(i=se,ks(e.type)?(e=Id,Id=null,se=e):se=i):se=Ze?Yn(e.stateNode.nextSibling):null;return!0}function Nr(){se=Ze=null,It=!1}function lf(){var e=As;return e!==null&&(En===null?En=e:En.push.apply(En,e),As=null),e}function Kl(e){As===null?As=[e]:As.push(e)}var of=M(null),Ir=null,Yi=null;function Cs(e,i,a){et(of,i._currentValue),i._currentValue=a}function Qi(e){e._currentValue=of.current,Q(of)}function uf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),uf(d.return,a,e),o||(y=null);break t}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),uf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ba(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Rn(h.pendingProps.value,y.value)||(e!==null?e.push(T):e=[T])}}else if(h===Lt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(So):e=[So])}h=h.return}e!==null&&cf(i,e,a,o),i.flags|=262144}function Yu(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Ir=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return yp(Ir,e)}function Qu(e,i){return Ir===null&&Dr(e),yp(e,i)}function yp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(e===null)throw Error(r(308));Yi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Yi=Yi.next=i;return a}var _T=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},yT=s.unstable_scheduleCallback,vT=s.unstable_NormalPriority,Re={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new _T,data:new Map,refCount:0}}function Xl(e){e.refCount--,e.refCount===0&&yT(vT,function(){e.controller.abort()})}var Zl=null,ff=0,Ca=0,wa=null;function ET(e,i){if(Zl===null){var a=Zl=[];ff=0,Ca=gd(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,i.then(vp,vp),i}function vp(){if(--ff===0&&Zl!==null){wa!==null&&(wa.status="fulfilled");var e=Zl;Zl=null,Ca=0,wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function TT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ep=F.S;F.S=function(e,i){iy=cn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ET(e,i),Ep!==null&&Ep(e,i)};var Or=M(null);function df(){var e=Or.current;return e!==null?e:ne.pooledCache}function Ku(e,i){i===null?et(Or,Or.current):et(Or,i.pool)}function Tp(){var e=df();return e===null?null:{parent:Re._currentValue,pool:e}}var Ra=Error(r(460)),mf=Error(r(474)),Xu=Error(r(542)),Zu={then:function(){}};function Sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ap(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Cp(e),e;default:if(typeof i.status=="string")i.then(ti,ti);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Cp(e),e}throw Mr=i,Ra}}function xr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mr=a,Ra):a}}var Mr=null;function bp(){if(Mr===null)throw Error(r(459));var e=Mr;return Mr=null,e}function Cp(e){if(e===Ra||e===Xu)throw Error(r(483))}var Na=null,Jl=0;function Ju(e){var i=Jl;return Jl+=1,Na===null&&(Na=[]),Ap(Na,e,i)}function $l(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $u(e,i){throw i.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function wp(e){function i(L,x){if(e){var U=L.deletions;U===null?(L.deletions=[x],L.flags|=16):U.push(x)}}function a(L,x){if(!e)return null;for(;x!==null;)i(L,x),x=x.sibling;return null}function o(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=Fi(L,x),L.index=0,L.sibling=null,L}function d(L,x,U){return L.index=U,e?(U=L.alternate,U!==null?(U=U.index,U<x?(L.flags|=67108866,x):U):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function y(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,x,U,G){return x===null||x.tag!==6?(x=ef(U,L.mode,G),x.return=L,x):(x=h(x,U),x.return=L,x)}function N(L,x,U,G){var ut=U.type;return ut===W?H(L,x,U.props.children,G,U.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===C&&xr(ut)===x.type)?(x=h(x,U.props),$l(x,U),x.return=L,x):(x=Fu(U.type,U.key,U.props,null,L.mode,G),$l(x,U),x.return=L,x)}function k(L,x,U,G){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=nf(U,L.mode,G),x.return=L,x):(x=h(x,U.children||[]),x.return=L,x)}function H(L,x,U,G,ut){return x===null||x.tag!==7?(x=Rr(U,L.mode,G,ut),x.return=L,x):(x=h(x,U),x.return=L,x)}function Y(L,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ef(""+x,L.mode,U),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case q:return U=Fu(x.type,x.key,x.props,null,L.mode,U),$l(U,x),U.return=L,U;case Z:return x=nf(x,L.mode,U),x.return=L,x;case C:return x=xr(x),Y(L,x,U)}if(fe(x)||w(x))return x=Rr(x,L.mode,U,null),x.return=L,x;if(typeof x.then=="function")return Y(L,Ju(x),U);if(x.$$typeof===mt)return Y(L,Qu(L,x),U);$u(L,x)}return null}function P(L,x,U,G){var ut=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:T(L,x,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===ut?N(L,x,U,G):null;case Z:return U.key===ut?k(L,x,U,G):null;case C:return U=xr(U),P(L,x,U,G)}if(fe(U)||w(U))return ut!==null?null:H(L,x,U,G,null);if(typeof U.then=="function")return P(L,x,Ju(U),G);if(U.$$typeof===mt)return P(L,x,Qu(L,U),G);$u(L,U)}return null}function j(L,x,U,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return L=L.get(U)||null,T(x,L,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return L=L.get(G.key===null?U:G.key)||null,N(x,L,G,ut);case Z:return L=L.get(G.key===null?U:G.key)||null,k(x,L,G,ut);case C:return G=xr(G),j(L,x,U,G,ut)}if(fe(G)||w(G))return L=L.get(U)||null,H(x,L,G,ut,null);if(typeof G.then=="function")return j(L,x,U,Ju(G),ut);if(G.$$typeof===mt)return j(L,x,U,Qu(x,G),ut);$u(x,G)}return null}function at(L,x,U,G){for(var ut=null,qt=null,lt=x,At=x=0,Nt=null;lt!==null&&At<U.length;At++){lt.index>At?(Nt=lt,lt=null):Nt=lt.sibling;var Ht=P(L,lt,U[At],G);if(Ht===null){lt===null&&(lt=Nt);break}e&&lt&&Ht.alternate===null&&i(L,lt),x=d(Ht,x,At),qt===null?ut=Ht:qt.sibling=Ht,qt=Ht,lt=Nt}if(At===U.length)return a(L,lt),It&&Gi(L,At),ut;if(lt===null){for(;At<U.length;At++)lt=Y(L,U[At],G),lt!==null&&(x=d(lt,x,At),qt===null?ut=lt:qt.sibling=lt,qt=lt);return It&&Gi(L,At),ut}for(lt=o(lt);At<U.length;At++)Nt=j(lt,L,At,U[At],G),Nt!==null&&(e&&Nt.alternate!==null&&lt.delete(Nt.key===null?At:Nt.key),x=d(Nt,x,At),qt===null?ut=Nt:qt.sibling=Nt,qt=Nt);return e&&lt.forEach(function(Hs){return i(L,Hs)}),It&&Gi(L,At),ut}function ht(L,x,U,G){if(U==null)throw Error(r(151));for(var ut=null,qt=null,lt=x,At=x=0,Nt=null,Ht=U.next();lt!==null&&!Ht.done;At++,Ht=U.next()){lt.index>At?(Nt=lt,lt=null):Nt=lt.sibling;var Hs=P(L,lt,Ht.value,G);if(Hs===null){lt===null&&(lt=Nt);break}e&&lt&&Hs.alternate===null&&i(L,lt),x=d(Hs,x,At),qt===null?ut=Hs:qt.sibling=Hs,qt=Hs,lt=Nt}if(Ht.done)return a(L,lt),It&&Gi(L,At),ut;if(lt===null){for(;!Ht.done;At++,Ht=U.next())Ht=Y(L,Ht.value,G),Ht!==null&&(x=d(Ht,x,At),qt===null?ut=Ht:qt.sibling=Ht,qt=Ht);return It&&Gi(L,At),ut}for(lt=o(lt);!Ht.done;At++,Ht=U.next())Ht=j(lt,L,At,Ht.value,G),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?At:Ht.key),x=d(Ht,x,At),qt===null?ut=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(xS){return i(L,xS)}),It&&Gi(L,At),ut}function te(L,x,U,G){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:t:{for(var ut=U.key;x!==null;){if(x.key===ut){if(ut=U.type,ut===W){if(x.tag===7){a(L,x.sibling),G=h(x,U.props.children),G.return=L,L=G;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===C&&xr(ut)===x.type){a(L,x.sibling),G=h(x,U.props),$l(G,U),G.return=L,L=G;break t}a(L,x);break}else i(L,x);x=x.sibling}U.type===W?(G=Rr(U.props.children,L.mode,G,U.key),G.return=L,L=G):(G=Fu(U.type,U.key,U.props,null,L.mode,G),$l(G,U),G.return=L,L=G)}return y(L);case Z:t:{for(ut=U.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(L,x.sibling),G=h(x,U.children||[]),G.return=L,L=G;break t}else{a(L,x);break}else i(L,x);x=x.sibling}G=nf(U,L.mode,G),G.return=L,L=G}return y(L);case C:return U=xr(U),te(L,x,U,G)}if(fe(U))return at(L,x,U,G);if(w(U)){if(ut=w(U),typeof ut!="function")throw Error(r(150));return U=ut.call(U),ht(L,x,U,G)}if(typeof U.then=="function")return te(L,x,Ju(U),G);if(U.$$typeof===mt)return te(L,x,Qu(L,U),G);$u(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(L,x.sibling),G=h(x,U),G.return=L,L=G):(a(L,x),G=ef(U,L.mode,G),G.return=L,L=G),y(L)):a(L,x)}return function(L,x,U,G){try{Jl=0;var ut=te(L,x,U,G);return Na=null,ut}catch(lt){if(lt===Ra||lt===Xu)throw lt;var qt=Nn(29,lt,null,L.mode);return qt.lanes=G,qt.return=L,qt}}}var Vr=wp(!0),Rp=wp(!1),ws=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Hu(e),cp(e,null,a),i}return qu(e,o,i,a),Hu(e)}function Wl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wl(e,a)}}function _f(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var yf=!1;function to(){if(yf){var e=wa;if(e!==null)throw e}}function eo(e,i,a,o){yf=!1;var h=e.updateQueue;ws=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,k=N.next;N.next=null,y===null?d=k:y.next=k,y=N;var H=e.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==y&&(T===null?H.firstBaseUpdate=k:T.next=k,H.lastBaseUpdate=N))}if(d!==null){var Y=h.baseState;y=0,H=k=N=null,T=d;do{var P=T.lane&-536870913,j=P!==T.lane;if(j?(Rt&P)===P:(o&P)===P){P!==0&&P===Ca&&(yf=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,ht=T;P=i;var te=a;switch(ht.tag){case 1:if(at=ht.payload,typeof at=="function"){Y=at.call(te,Y,P);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,P=typeof at=="function"?at.call(te,Y,P):at,P==null)break t;Y=S({},Y,P);break t;case 2:ws=!0}}P=T.callback,P!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[P]:j.push(P))}else j={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(k=H=j,N=Y):H=H.next=j,y|=P;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=k,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),Ms|=y,e.lanes=y,e.memoizedState=Y}}function Np(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ip(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Np(a[e],i)}var Ia=M(null),Wu=M(0);function Dp(e,i){e=ns,et(Wu,e),et(Ia,i),ns=e|i.baseLanes}function vf(){et(Wu,ns),et(Ia,Ia.current)}function Ef(){ns=Wu.current,Q(Ia),Q(Wu)}var In=M(null),Gn=null;function Is(e){var i=e.alternate;et(ve,ve.current&1),et(In,e),Gn===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(Gn=e)}function Tf(e){et(ve,ve.current),et(In,e),Gn===null&&(Gn=e)}function Op(e){e.tag===22?(et(ve,ve.current),et(In,e),Gn===null&&(Gn=e)):Ds()}function Ds(){et(ve,ve.current),et(In,In.current)}function Dn(e){Q(In),Gn===e&&(Gn=null),Q(ve)}var ve=M(0);function tc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Nd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Tt=null,$t=null,Ne=null,ec=!1,Da=!1,Lr=!1,nc=0,no=0,Oa=null,ST=0;function ge(){throw Error(r(321))}function Sf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Rn(e[a],i[a]))return!1;return!0}function Af(e,i,a,o,h,d){return Ki=d,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?m_:kf,Lr=!1,d=a(o,h),Lr=!1,Da&&(d=Mp(i,a,o,h)),xp(e),d}function xp(e){F.H=ro;var i=$t!==null&&$t.next!==null;if(Ki=0,Ne=$t=Tt=null,ec=!1,no=0,Oa=null,i)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Yu(e)&&(Ie=!0))}function Mp(e,i,a,o){Tt=e;var h=0;do{if(Da&&(Oa=null),no=0,Da=!1,25<=h)throw Error(r(301));if(h+=1,Ne=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=g_,d=i(a,o)}while(Da);return d}function AT(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?io(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Tt.flags|=1024),i}function bf(){var e=nc!==0;return nc=0,e}function Cf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(ec){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ec=!1}Ki=0,Ne=$t=Tt=null,Da=!1,no=nc=0,Oa=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Tt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Ee(){if($t===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Ne===null?Tt.memoizedState:Ne.next;if(i!==null)Ne=i,$t=e;else{if(e===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ne===null?Tt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(e){var i=no;return no+=1,Oa===null&&(Oa=[]),e=Ap(Oa,e,i),i=Tt,(Ne===null?i.memoizedState:Ne.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?m_:kf),e}function sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return io(e);if(e.$$typeof===mt)return Je(e)}throw Error(r(438,String(e)))}function Rf(e){var i=null,a=Tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),Tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Xi(e,i){return typeof i=="function"?i(e):i}function rc(e){var i=Ee();return Nf(i,$t,e)}function Nf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=y=null,N=null,k=i,H=!1;do{var Y=k.lane&-536870913;if(Y!==k.lane?(Rt&Y)===Y:(Ki&Y)===Y){var P=k.revertLane;if(P===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Y===Ca&&(H=!0);else if((Ki&P)===P){k=k.next,P===Ca&&(H=!0);continue}else Y={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(T=N=Y,y=d):N=N.next=Y,Tt.lanes|=P,Ms|=P;Y=k.action,Lr&&a(d,Y),d=k.hasEagerState?k.eagerState:a(d,Y)}else P={lane:Y,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(T=N=P,y=d):N=N.next=P,Tt.lanes|=Y,Ms|=Y;k=k.next}while(k!==null&&k!==i);if(N===null?y=d:N.next=T,!Rn(d,e.memoizedState)&&(Ie=!0,H&&(a=wa,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=N,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function If(e){var i=Ee(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Rn(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Vp(e,i,a){var o=Tt,h=Ee(),d=It;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!Rn(($t||h).memoizedState,a);if(y&&(h.memoizedState=a,Ie=!0),h=h.queue,xf(Up.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},zp.bind(null,o,h,a,i),null),ne===null)throw Error(r(349));d||(Ki&127)!==0||Lp(o,i,a)}return a}function Lp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Tt.updateQueue,i===null?(i=ic(),Tt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function zp(e,i,a,o){i.value=a,i.getSnapshot=o,kp(i)&&Pp(e)}function Up(e,i,a){return a(function(){kp(i)&&Pp(e)})}function kp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Rn(e,a)}catch{return!0}}function Pp(e){var i=wr(e,2);i!==null&&Tn(i,e,2)}function Df(e){var i=fn();if(typeof e=="function"){var a=e;if(e=a(),Lr){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},i}function Bp(e,i,a,o){return e.baseState=a,Nf(e,$t,typeof o=="function"?o:Xi)}function bT(e,i,a,o,h){if(oc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};F.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,jp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function jp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=F.T,y={};F.T=y;try{var T=a(h,o),N=F.S;N!==null&&N(y,T),qp(e,i,T)}catch(k){Of(e,i,k)}finally{d!==null&&y.types!==null&&(d.types=y.types),F.T=d}}else try{d=a(h,o),qp(e,i,d)}catch(k){Of(e,i,k)}}function qp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Hp(e,i,o)},function(o){return Of(e,i,o)}):Hp(e,i,a)}function Hp(e,i,a){i.status="fulfilled",i.value=a,Fp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,jp(e,a)))}function Of(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Fp(i),i=i.next;while(i!==o)}e.action=null}function Fp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Gp(e,i){return i}function Yp(e,i){if(It){var a=ne.formState;if(a!==null){t:{var o=Tt;if(It){if(se){e:{for(var h=se,d=Fn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=Yn(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:i},a.queue=o,a=h_.bind(null,Tt,o),o.dispatch=a,o=Df(!1),d=Uf.bind(null,Tt,!1,o.queue),o=fn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=bT.bind(null,Tt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Qp(e){var i=Ee();return Kp(i,$t,e)}function Kp(e,i,a){if(i=Nf(e,i,Gp)[0],e=rc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=io(i)}catch(y){throw y===Ra?Xu:y}else o=i;i=Ee();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Tt.flags|=2048,xa(9,{destroy:void 0},CT.bind(null,h,a),null)),[o,d,e]}function CT(e,i){e.action=i}function Xp(e){var i=Ee(),a=$t;if(a!==null)return Kp(i,a,e);Ee(),i=i.memoizedState,a=Ee();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function xa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Tt.updateQueue,i===null&&(i=ic(),Tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Zp(){return Ee().memoizedState}function ac(e,i,a,o){var h=fn();Tt.flags|=e,h.memoizedState=xa(1|i,{destroy:void 0},a,o===void 0?null:o)}function lc(e,i,a,o){var h=Ee();o=o===void 0?null:o;var d=h.memoizedState.inst;$t!==null&&o!==null&&Sf(o,$t.memoizedState.deps)?h.memoizedState=xa(i,d,a,o):(Tt.flags|=e,h.memoizedState=xa(1|i,d,a,o))}function Jp(e,i){ac(8390656,8,e,i)}function xf(e,i){lc(2048,8,e,i)}function wT(e){Tt.flags|=4;var i=Tt.updateQueue;if(i===null)i=ic(),Tt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function $p(e){var i=Ee().memoizedState;return wT({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Wp(e,i){return lc(4,2,e,i)}function t_(e,i){return lc(4,4,e,i)}function e_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function n_(e,i,a){a=a!=null?a.concat([e]):null,lc(4,4,e_.bind(null,i,e),a)}function Mf(){}function i_(e,i){var a=Ee();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Sf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function s_(e,i){var a=Ee();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Sf(i,o[1]))return o[0];if(o=e(),Lr){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,i],o}function Vf(e,i,a){return a===void 0||(Ki&1073741824)!==0&&(Rt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=ry(),Tt.lanes|=e,Ms|=e,a)}function r_(e,i,a,o){return Rn(a,i)?a:Ia.current!==null?(e=Vf(e,a,o),Rn(e,i)||(Ie=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Rt&261930)===0?(Ie=!0,e.memoizedState=a):(e=ry(),Tt.lanes|=e,Ms|=e,i)}function a_(e,i,a,o,h){var d=tt.p;tt.p=d!==0&&8>d?d:8;var y=F.T,T={};F.T=T,Uf(e,!1,i,a);try{var N=h(),k=F.S;if(k!==null&&k(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=TT(N,o);so(e,i,H,Mn(e))}else so(e,i,o,Mn(e))}catch(Y){so(e,i,{then:function(){},status:"rejected",reason:Y},Mn())}finally{tt.p=d,y!==null&&T.types!==null&&(y.types=T.types),F.T=y}}function RT(){}function Lf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=l_(e).queue;a_(e,h,i,ct,a===null?RT:function(){return o_(e),a(o)})}function l_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function o_(e){var i=l_(e);i.next===null&&(i=e.alternate.memoizedState),so(e,i.next.queue,{},Mn())}function zf(){return Je(So)}function u_(){return Ee().memoizedState}function c_(){return Ee().memoizedState}function NT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();e=Rs(a);var o=Ns(i,e,a);o!==null&&(Tn(o,i,a),Wl(o,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function IT(e,i,a){var o=Mn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?f_(i,a):(a=Wh(e,i,a,o),a!==null&&(Tn(a,e,o),d_(a,i,o)))}function h_(e,i,a){var o=Mn();so(e,i,a,o)}function so(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))f_(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,T=d(y,a);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,y))return qu(e,i,h,0),ne===null&&ju(),!1}catch{}if(a=Wh(e,i,h,o),a!==null)return Tn(a,e,o),d_(a,i,o),!0}return!1}function Uf(e,i,a,o){if(o={lane:2,revertLane:gd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(i)throw Error(r(479))}else i=Wh(e,a,o,2),i!==null&&Tn(i,e,2)}function oc(e){var i=e.alternate;return e===Tt||i!==null&&i===Tt}function f_(e,i){Da=ec=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function d_(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,wl(e,a)}}var ro={readContext:Je,use:sc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};ro.useEffectEvent=ge;var m_={readContext:Je,use:sc,useCallback:function(e,i){return fn().memoizedState=[e,i===void 0?null:i],e},useContext:Je,useEffect:Jp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ac(4194308,4,e_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ac(4194308,4,e,i)},useInsertionEffect:function(e,i){ac(4,2,e,i)},useMemo:function(e,i){var a=fn();i=i===void 0?null:i;var o=e();if(Lr){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=fn();if(a!==void 0){var h=a(i);if(Lr){Ln(!0);try{a(i)}finally{Ln(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=IT.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var i=fn();return e={current:e},i.memoizedState=e},useState:function(e){e=Df(e);var i=e.queue,a=h_.bind(null,Tt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(e,i){var a=fn();return Vf(a,e,i)},useTransition:function(){var e=Df(!1);return e=a_.bind(null,Tt,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Tt,h=fn();if(It){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(Rt&127)!==0||Lp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Jp(Up.bind(null,o,d,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},zp.bind(null,o,d,a,i),null),a},useId:function(){var e=fn(),i=ne.identifierPrefix;if(It){var a=Di,o=Ii;a=(o&~(1<<32-_e(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ST++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:zf,useFormState:Yp,useActionState:Yp,useOptimistic:function(e){var i=fn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,Tt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Rf,useCacheRefresh:function(){return fn().memoizedState=NT.bind(null,Tt)},useEffectEvent:function(e){var i=fn(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Je,use:sc,useCallback:i_,useContext:Je,useEffect:xf,useImperativeHandle:n_,useInsertionEffect:Wp,useLayoutEffect:t_,useMemo:s_,useReducer:rc,useRef:Zp,useState:function(){return rc(Xi)},useDebugValue:Mf,useDeferredValue:function(e,i){var a=Ee();return r_(a,$t.memoizedState,e,i)},useTransition:function(){var e=rc(Xi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:io(e),i]},useSyncExternalStore:Vp,useId:u_,useHostTransitionStatus:zf,useFormState:Qp,useActionState:Qp,useOptimistic:function(e,i){var a=Ee();return Bp(a,$t,e,i)},useMemoCache:Rf,useCacheRefresh:c_};kf.useEffectEvent=$p;var g_={readContext:Je,use:sc,useCallback:i_,useContext:Je,useEffect:xf,useImperativeHandle:n_,useInsertionEffect:Wp,useLayoutEffect:t_,useMemo:s_,useReducer:If,useRef:Zp,useState:function(){return If(Xi)},useDebugValue:Mf,useDeferredValue:function(e,i){var a=Ee();return $t===null?Vf(a,e,i):r_(a,$t.memoizedState,e,i)},useTransition:function(){var e=If(Xi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:io(e),i]},useSyncExternalStore:Vp,useId:u_,useHostTransitionStatus:zf,useFormState:Xp,useActionState:Xp,useOptimistic:function(e,i){var a=Ee();return $t!==null?Bp(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:c_};g_.useEffectEvent=$p;function Pf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Mn(),h=Rs(o);h.payload=i,a!=null&&(h.callback=a),i=Ns(e,h,o),i!==null&&(Tn(i,e,o),Wl(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Mn(),h=Rs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ns(e,h,o),i!==null&&(Tn(i,e,o),Wl(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Mn(),o=Rs(a);o.tag=2,i!=null&&(o.callback=i),i=Ns(e,o,a),i!==null&&(Tn(i,e,a),Wl(i,e,a))}};function p_(e,i,a,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):i.prototype&&i.prototype.isPureReactComponent?!Gl(a,o)||!Gl(h,d):!0}function __(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Bf.enqueueReplaceState(i,i.state,null)}function zr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function y_(e){Bu(e)}function v_(e){console.error(e)}function E_(e){Bu(e)}function uc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function T_(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,i,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(e,i)},a}function S_(e){return e=Rs(e),e.tag=3,e}function A_(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){T_(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){T_(i,a,o),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function DT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ba(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?Tc():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Zu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),fd(e,o,h)),!1;case 22:return a.flags|=65536,o===Zu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),fd(e,o,h)),!1}throw Error(r(435,a.tag))}return fd(e,o,h),Tc(),!1}if(It)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==af&&(e=Error(r(422),{cause:o}),Kl(jn(e,a)))):(o!==af&&(i=Error(r(423),{cause:o}),Kl(jn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=jn(o,a),h=jf(e.stateNode,o,h),_f(e,h),pe!==4&&(pe=2)),!1;var d=Error(r(520),{cause:o});if(d=jn(d,a),mo===null?mo=[d]:mo.push(d),pe!==4&&(pe=2),i===null)return!0;o=jn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),_f(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=S_(h),A_(h,e,a,o),_f(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),Ie=!1;function $e(e,i,a,o){i.child=e===null?Rp(i,null,a,o):Vr(i,e.child,a,o)}function b_(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return Dr(i),o=Af(e,i,a,y,d,h),T=bf(),e!==null&&!Ie?(Cf(e,i,h),Zi(e,i,h)):(It&&T&&sf(i),i.flags|=1,$e(e,i,o,h),i.child)}function C_(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,w_(e,i,d,o,h)):(e=Fu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Zf(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(y,o)&&e.ref===i.ref)return Zi(e,i,h)}return i.flags|=1,e=Fi(d,o),e.ref=i.ref,e.return=i,i.child=e}function w_(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Gl(d,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=d,Zf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Zi(e,i,h)}return Hf(e,i,a,o,h)}function R_(e,i,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return N_(e,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(i,d!==null?d.cachePool:null),d!==null?Dp(i,d):vf(),Op(i);else return o=i.lanes=536870912,N_(e,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Ku(i,d.cachePool),Dp(i,d),Ds(),i.memoizedState=null):(e!==null&&Ku(i,null),vf(),Ds());return $e(e,i,h,a),i.child}function ao(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function N_(e,i,a,o,h){var d=df();return d=d===null?null:{parent:Re._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Ku(i,null),vf(),Op(i),e!==null&&ba(e,i,o,!0),i.childLanes=h,null}function cc(e,i){return i=fc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function I_(e,i,a){return Vr(i,e.child,null,a),e=cc(i,i.pendingProps),e.flags|=2,Dn(i),i.memoizedState=null,e}function OT(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(It){if(o.mode==="hidden")return e=cc(i,o),i.lanes=536870912,ao(null,e);if(Tf(i),(e=se)?(e=jy(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=fp(e),a.return=i,i.child=a,Ze=i,se=null)):e=null,e===null)throw bs(i);return i.lanes=536870912,null}return cc(i,o)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=I_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ie||ba(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ne,o!==null&&(y=Rl(o,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,wr(e,y),Tn(o,e,y),qf;Tc(),i=I_(e,i,a)}else e=d.treeContext,se=Yn(y.nextSibling),Ze=i,It=!0,As=null,Fn=!1,e!==null&&gp(i,e),i=cc(i,o),i.flags|=4096;return i}return e=Fi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function hc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Hf(e,i,a,o,h){return Dr(i),a=Af(e,i,a,o,void 0,h),o=bf(),e!==null&&!Ie?(Cf(e,i,h),Zi(e,i,h)):(It&&o&&sf(i),i.flags|=1,$e(e,i,a,h),i.child)}function D_(e,i,a,o,h,d){return Dr(i),i.updateQueue=null,a=Mp(i,o,a,h),xp(e),o=bf(),e!==null&&!Ie?(Cf(e,i,d),Zi(e,i,d)):(It&&o&&sf(i),i.flags|=1,$e(e,i,a,d),i.child)}function O_(e,i,a,o,h){if(Dr(i),i.stateNode===null){var d=Ea,y=a.contextType;typeof y=="object"&&y!==null&&(d=Je(y)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},gf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Je(y):Ea,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Pf(i,a,y,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Bf.enqueueReplaceState(d,d.state,null),eo(i,o,d,h),to(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,N=zr(a,T);d.props=N;var k=d.context,H=a.contextType;y=Ea,typeof H=="object"&&H!==null&&(y=Je(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==y)&&__(i,d,o,y),ws=!1;var P=i.memoizedState;d.state=P,eo(i,o,d,h),to(),k=i.memoizedState,T||P!==k||ws?(typeof Y=="function"&&(Pf(i,a,Y,o),k=i.memoizedState),(N=ws||p_(i,a,N,o,P,k,y))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),d.props=o,d.state=k,d.context=y,o=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,pf(e,i),y=i.memoizedProps,H=zr(a,y),d.props=H,Y=i.pendingProps,P=d.context,k=a.contextType,N=Ea,typeof k=="object"&&k!==null&&(N=Je(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Y||P!==N)&&__(i,d,o,N),ws=!1,P=i.memoizedState,d.state=P,eo(i,o,d,h),to();var j=i.memoizedState;y!==Y||P!==j||ws||e!==null&&e.dependencies!==null&&Yu(e.dependencies)?(typeof T=="function"&&(Pf(i,a,T,o),j=i.memoizedState),(H=ws||p_(i,a,H,o,P,j,N)||e!==null&&e.dependencies!==null&&Yu(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,j,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,j,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=N,o=H):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,hc(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Vr(i,e.child,null,h),i.child=Vr(i,null,a,h)):$e(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Zi(e,i,h),e}function x_(e,i,a,o){return Nr(),i.flags|=256,$e(e,i,a,o),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:Tp()}}function Yf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=xn),e}function M_(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(It){if(h?Is(i):Ds(),(e=se)?(e=jy(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=fp(e),a.return=i,i.child=a,Ze=i,se=null)):e=null,e===null)throw bs(i);return Nd(e)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ds(),h=i.mode,T=fc({mode:"hidden",children:T},h),o=Rr(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Gf(a),o.childLanes=Yf(e,y,a),i.memoizedState=Ff,ao(null,o)):(Is(i),Qf(i,T))}var N=e.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Is(i),i.flags&=-257,i=Kf(e,i,a)):i.memoizedState!==null?(Ds(),i.child=e.child,i.flags|=128,i=null):(Ds(),T=o.fallback,h=i.mode,o=fc({mode:"visible",children:o.children},h),T=Rr(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Vr(i,e.child,null,a),o=i.child,o.memoizedState=Gf(a),o.childLanes=Yf(e,y,a),i.memoizedState=Ff,i=ao(null,o));else if(Is(i),Nd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var k=y.dgst;y=k,o=Error(r(419)),o.stack="",o.digest=y,Kl({value:o,source:null,stack:null}),i=Kf(e,i,a)}else if(Ie||ba(e,i,a,!1),y=(a&e.childLanes)!==0,Ie||y){if(y=ne,y!==null&&(o=Rl(y,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,wr(e,o),Tn(y,e,o),qf;Rd(T)||Tc(),i=Kf(e,i,a)}else Rd(T)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,se=Yn(T.nextSibling),Ze=i,It=!0,As=null,Fn=!1,e!==null&&gp(i,e),i=Qf(i,o.children),i.flags|=4096);return i}return h?(Ds(),T=o.fallback,h=i.mode,N=e.child,k=N.sibling,o=Fi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,k!==null?T=Fi(k,T):(T=Rr(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,ao(null,o),o=i.child,T=e.child.memoizedState,T===null?T=Gf(a):(h=T.cachePool,h!==null?(N=Re._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Tp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Yf(e,y,a),i.memoizedState=Ff,ao(e.child,o)):(Is(i),a=e.child,e=a.sibling,a=Fi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Qf(e,i){return i=fc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function fc(e,i){return e=Nn(22,e,null,i),e.lanes=0,e}function Kf(e,i,a){return Vr(i,e.child,null,a),e=Qf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function V_(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),uf(e.return,i,a)}function Xf(e,i,a,o,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function L_(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=ve.current,T=(y&2)!==0;if(T?(y=y&1|2,i.flags|=128):y&=1,et(ve,y),$e(e,i,o,a),o=It?Ql:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V_(e,a,i);else if(e.tag===19)V_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&tc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&tc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xf(i,!0,a,null,d,o);break;case"together":Xf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ms|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ba(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Fi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Fi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Yu(e)))}function xT(e,i,a){switch(i.tag){case 3:Le(i,i.stateNode.containerInfo),Cs(i,Re,e.memoizedState.cache),Nr();break;case 27:case 5:or(i);break;case 4:Le(i,i.stateNode.containerInfo);break;case 10:Cs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Is(i),i.flags|=128,null):(a&i.child.childLanes)!==0?M_(e,i,a):(Is(i),e=Zi(e,i,a),e!==null?e.sibling:null);Is(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ba(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return L_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ve,ve.current),o)break;return null;case 22:return i.lanes=0,R_(e,i,a,i.pendingProps);case 24:Cs(i,Re,e.memoizedState.cache)}return Zi(e,i,a)}function z_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!Zf(e,a)&&(i.flags&128)===0)return Ie=!1,xT(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,It&&(i.flags&1048576)!==0&&mp(i,Ql,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=xr(i.elementType),i.type=e,typeof e=="function")tf(e)?(o=zr(e,o),i.tag=1,i=O_(null,i,e,o,a)):(i.tag=0,i=Hf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Mt){i.tag=11,i=b_(null,i,e,o,a);break t}else if(h===D){i.tag=14,i=C_(null,i,e,o,a);break t}}throw i=bt(e)||e,Error(r(306,i,""))}}return i;case 0:return Hf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=zr(o,i.pendingProps),O_(e,i,o,h,a);case 3:t:{if(Le(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,pf(e,i),eo(i,o,null,a);var y=i.memoizedState;if(o=y.cache,Cs(i,Re,o),o!==d.cache&&cf(i,[Re],a,!0),to(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=x_(e,i,o,a);break t}else if(o!==h){h=jn(Error(r(424)),i),Kl(h),i=x_(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Yn(e.firstChild),Ze=i,It=!0,As=null,Fn=!0,a=Rp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Nr(),o===h){i=Zi(e,i,a);break t}$e(e,i,o,a)}i=i.child}return i;case 26:return hc(e,i),e===null?(a=Qy(i.type,null,i.pendingProps,null))?i.memoizedState=a:It||(a=i.type,e=i.pendingProps,o=Nc(St.current).createElement(a),o[be]=i,o[Be]=e,We(o,a,e),Ce(o),i.stateNode=o):i.memoizedState=Qy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return or(i),e===null&&It&&(o=i.stateNode=Fy(i.type,i.pendingProps,St.current),Ze=i,Fn=!0,h=se,ks(i.type)?(Id=h,se=Yn(o.firstChild)):se=h),$e(e,i,i.pendingProps.children,a),hc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&It&&((h=o=se)&&(o=oS(o,i.type,i.pendingProps,Fn),o!==null?(i.stateNode=o,Ze=i,se=Yn(o.firstChild),Fn=!1,h=!0):h=!1),h||bs(i)),or(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,bd(h,d)?o=null:y!==null&&bd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(e,i,AT,null,null,a),So._currentValue=h),hc(e,i),$e(e,i,o,a),i.child;case 6:return e===null&&It&&((e=a=se)&&(a=uS(a,i.pendingProps,Fn),a!==null?(i.stateNode=a,Ze=i,se=null,e=!0):e=!1),e||bs(i)),null;case 13:return M_(e,i,a);case 4:return Le(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Vr(i,null,o,a):$e(e,i,o,a),i.child;case 11:return b_(e,i,i.type,i.pendingProps,a);case 7:return $e(e,i,i.pendingProps,a),i.child;case 8:return $e(e,i,i.pendingProps.children,a),i.child;case 12:return $e(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Cs(i,i.type,o.value),$e(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Dr(i),h=Je(h),o=o(h),i.flags|=1,$e(e,i,o,a),i.child;case 14:return C_(e,i,i.type,i.pendingProps,a);case 15:return w_(e,i,i.type,i.pendingProps,a);case 19:return L_(e,i,a);case 31:return OT(e,i,a);case 22:return R_(e,i,a,i.pendingProps);case 24:return Dr(i),o=Je(Re),e===null?(h=df(),h===null&&(h=ne,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},gf(i),Cs(i,Re,h)):((e.lanes&a)!==0&&(pf(e,i),eo(i,null,null,a),to()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cs(i,Re,o)):(o=d.cache,Cs(i,Re,o),o!==h.cache&&cf(i,[Re],a,!0))),$e(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ji(e){e.flags|=4}function Jf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(uy())e.flags|=8192;else throw Mr=Zu,mf}else e.flags&=-16777217}function U_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$y(i))if(uy())e.flags|=8192;else throw Mr=Zu,mf}function dc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?vu():536870912,e.lanes|=i,za|=i)}function lo(e,i){if(!It)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function MT(e,i,a){var o=i.pendingProps;switch(rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qi(Re),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(i)?Ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Ji(i),d!==null?(re(i),U_(i,d)):(re(i),Jf(i,h,null,o,a))):d?d!==e.memoizedState?(Ji(i),re(i),U_(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ji(i),re(i),Jf(i,h,e,o,a)),null;case 27:if(ea(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ji(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return re(i),null}e=st.current,Aa(i)?pp(i):(e=Fy(h,o,a),i.stateNode=e,Ji(i))}return re(i),null;case 5:if(ea(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ji(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return re(i),null}if(d=st.current,Aa(i))pp(i);else{var y=Nc(St.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[be]=i,d[Be]=o;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;t:switch(We(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ji(i)}}return re(i),Jf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ji(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=St.current,Aa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||My(e.nodeValue,a)),e||bs(i,!0)}else e=Nc(e).createTextNode(o),e[be]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[be]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Dn(i),i):(Dn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[be]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Dn(i),i):(Dn(i),null)}return Dn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),re(i),null);case 4:return ue(),e===null&&vd(i.stateNode.containerInfo),re(i),null;case 10:return Qi(i.type),re(i),null;case 19:if(Q(ve),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)lo(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=tc(e),d!==null){for(i.flags|=128,lo(o,!1),e=d.updateQueue,i.updateQueue=e,dc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)hp(a,e),a=a.sibling;return et(ve,ve.current&1|2),It&&Gi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&cn()>yc&&(i.flags|=128,h=!0,lo(o,!1),i.lanes=4194304)}else{if(!h)if(e=tc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,dc(i,e),lo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!It)return re(i),null}else 2*cn()-o.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,h=!0,lo(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=cn(),e.sibling=null,a=ve.current,et(ve,h?a&1|2:a&1),It&&Gi(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return Dn(i),Ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Q(Or),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(Re),re(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function VT(e,i){switch(rf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Qi(Re),ue(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ea(i),null;case 31:if(i.memoizedState!==null){if(Dn(i),i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Dn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Q(ve),null;case 4:return ue(),null;case 10:return Qi(i.type),null;case 22:case 23:return Dn(i),Ef(),e!==null&&Q(Or),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Qi(Re),null;case 25:return null;default:return null}}function k_(e,i){switch(rf(i),i.tag){case 3:Qi(Re),ue();break;case 26:case 27:case 5:ea(i);break;case 4:ue();break;case 31:i.memoizedState!==null&&Dn(i);break;case 13:Dn(i);break;case 19:Q(ve);break;case 10:Qi(i.type);break;case 22:case 23:Dn(i),Ef(),e!==null&&Q(Or);break;case 24:Qi(Re)}}function oo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function Os(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=i;var N=a,k=T;try{k()}catch(H){Zt(h,N,H)}}}o=o.next}while(o!==d)}}catch(H){Zt(i,i.return,H)}}function P_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ip(i,a)}catch(o){Zt(e,e.return,o)}}}function B_(e,i,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(e,i,o)}}function uo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Zt(e,i,h)}}function Oi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function j_(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function $f(e,i,a){try{var o=e.stateNode;nS(o,e.type,a,i),o[Be]=i}catch(h){Zt(e,e.return,h)}}function q_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||q_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(o!==4&&(o===27&&ks(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(td(e,i,a),e=e.sibling;e!==null;)td(e,i,a),e=e.sibling}function mc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(mc(e,i,a),e=e.sibling;e!==null;)mc(e,i,a),e=e.sibling}function H_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);We(i,o,a),i[be]=e,i[Be]=a}catch(d){Zt(e,e.return,d)}}var $i=!1,De=!1,ed=!1,F_=typeof WeakSet=="function"?WeakSet:Set,qe=null;function LT(e,i){if(e=e.containerInfo,Sd=Lc,e=np(e),Qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,T=-1,N=-1,k=0,H=0,Y=e,P=null;e:for(;;){for(var j;Y!==a||h!==0&&Y.nodeType!==3||(T=y+h),Y!==d||o!==0&&Y.nodeType!==3||(N=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(j=Y.firstChild)!==null;)P=Y,Y=j;for(;;){if(Y===e)break e;if(P===a&&++k===h&&(T=y),P===d&&++H===o&&(N=y),(j=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=j}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Lc=!1,qe=i;qe!==null;)if(i=qe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,qe=e;else for(;qe!==null;){switch(i=qe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var at=zr(a.type,h);e=o.getSnapshotBeforeUpdate(at,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Zt(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,qe=e;break}qe=i.return}}function G_(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ts(e,a),o&4&&oo(5,a);break;case 1:if(ts(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){Zt(a,a.return,y)}else{var h=zr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(a,a.return,y)}}o&64&&P_(a),o&512&&uo(a,a.return);break;case 3:if(ts(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ip(e,i)}catch(y){Zt(a,a.return,y)}}break;case 27:i===null&&o&4&&H_(a);case 26:case 5:ts(e,a),i===null&&o&4&&j_(a),o&512&&uo(a,a.return);break;case 12:ts(e,a);break;case 31:ts(e,a),o&4&&K_(e,a);break;case 13:ts(e,a),o&4&&X_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=FT.bind(null,a),cS(e,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){i=i!==null&&i.memoizedState!==null||De,h=$i;var d=De;$i=o,(De=i)&&!d?es(e,a,(a.subtreeFlags&8772)!==0):ts(e,a),$i=h,De=d}break;case 30:break;default:ts(e,a)}}function Y_(e){var i=e.alternate;i!==null&&(e.alternate=null,Y_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&aa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,_n=!1;function Wi(e,i,a){for(a=a.child;a!==null;)Q_(e,i,a),a=a.sibling}function Q_(e,i,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:De||Oi(a,i),Wi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Oi(a,i);var o=he,h=_n;ks(a.type)&&(he=a.stateNode,_n=!1),Wi(e,i,a),vo(a.stateNode),he=o,_n=h;break;case 5:De||Oi(a,i);case 6:if(o=he,h=_n,he=null,Wi(e,i,a),he=o,_n=h,he!==null)if(_n)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{he.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:he!==null&&(_n?(e=he,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fa(e)):Py(he,a.stateNode));break;case 4:o=he,h=_n,he=a.stateNode.containerInfo,_n=!0,Wi(e,i,a),he=o,_n=h;break;case 0:case 11:case 14:case 15:Os(2,a,i),De||Os(4,a,i),Wi(e,i,a);break;case 1:De||(Oi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&B_(a,i,o)),Wi(e,i,a);break;case 21:Wi(e,i,a);break;case 22:De=(o=De)||a.memoizedState!==null,Wi(e,i,a),De=o;break;default:Wi(e,i,a)}}function K_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(a){Zt(i,i.return,a)}}}function X_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(a){Zt(i,i.return,a)}}function zT(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new F_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new F_),i;default:throw Error(r(435,e.tag))}}function gc(e,i){var a=zT(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=GT.bind(null,e,o);o.then(h,h)}})}function yn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,y=i,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){he=T.stateNode,_n=!1;break t}break;case 5:he=T.stateNode,_n=!1;break t;case 3:case 4:he=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(he===null)throw Error(r(160));Q_(d,y,h),he=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Z_(i,e),i=i.sibling}var ai=null;function Z_(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(i,e),vn(e),o&4&&(Os(3,e,e.return),oo(3,e),Os(5,e,e.return));break;case 1:yn(i,e),vn(e),o&512&&(De||a===null||Oi(a,a.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ai;if(yn(i,e),vn(e),o&512&&(De||a===null||Oi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_i]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),We(d,o,a),d[be]=e,Ce(d),o=d;break t;case"link":var y=Zy("link","href",h).get(o+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break e}}d=h.createElement(o),We(d,o,a),h.head.appendChild(d);break;case"meta":if(y=Zy("meta","content",h).get(o+(a.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break e}}d=h.createElement(o),We(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[be]=e,Ce(d),o=d}e.stateNode=o}else Jy(h,e.type,e.stateNode);else e.stateNode=Xy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Jy(h,e.type,e.stateNode):Xy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(i,e),vn(e),o&512&&(De||a===null||Oi(a,a.return)),a!==null&&o&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,e),vn(e),o&512&&(De||a===null||Oi(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(at){Zt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,$f(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(yn(i,e),vn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Zt(e,e.return,at)}}break;case 3:if(Oc=null,h=ai,ai=Ic(i.containerInfo),yn(i,e),ai=h,vn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(at){Zt(e,e.return,at)}ed&&(ed=!1,J_(e));break;case 4:o=ai,ai=Ic(e.stateNode.containerInfo),yn(i,e),vn(e),ai=o;break;case 12:yn(i,e),vn(e);break;case 31:yn(i,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,gc(e,o)));break;case 13:yn(i,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=cn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,gc(e,o)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,k=$i,H=De;if($i=k||h,De=H||N,yn(i,e),De=H,$i=k,vn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||$i||De||Ur(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=N.stateNode;var Y=N.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(at){Zt(N,N.return,at)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(at){Zt(N,N.return,at)}}}else if(i.tag===18){if(a===null){N=i;try{var j=N.stateNode;h?By(j,!0):By(N.stateNode,!1)}catch(at){Zt(N,N.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,gc(e,a))));break;case 19:yn(i,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,gc(e,o)));break;case 30:break;case 21:break;default:yn(i,e),vn(e)}}function vn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(q_(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(e);mc(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(pn(y,""),a.flags&=-33);var T=Wf(e);mc(e,T,y);break;case 3:case 4:var N=a.stateNode.containerInfo,k=Wf(e);td(e,k,N);break;default:throw Error(r(161))}}catch(H){Zt(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function J_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;J_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ts(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)G_(e,i.alternate,i),i=i.sibling}function Ur(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Os(4,i,i.return),Ur(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&B_(i,i.return,a),Ur(i);break;case 27:vo(i.stateNode);case 26:case 5:Oi(i,i.return),Ur(i);break;case 22:i.memoizedState===null&&Ur(i);break;case 30:Ur(i);break;default:Ur(i)}e=e.sibling}}function es(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:es(h,d,a),oo(4,d);break;case 1:if(es(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Zt(o,o.return,k)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Np(N[h],T)}catch(k){Zt(o,o.return,k)}}a&&y&64&&P_(d),uo(d,d.return);break;case 27:H_(d);case 26:case 5:es(h,d,a),a&&o===null&&y&4&&j_(d),uo(d,d.return);break;case 12:es(h,d,a);break;case 31:es(h,d,a),a&&y&4&&K_(h,d);break;case 13:es(h,d,a),a&&y&4&&X_(h,d);break;case 22:d.memoizedState===null&&es(h,d,a),uo(d,d.return);break;case 30:break;default:es(h,d,a)}i=i.sibling}}function nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xl(a))}function id(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Xl(e))}function li(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$_(e,i,a,o),i=i.sibling}function $_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(e,i,a,o),h&2048&&oo(9,i);break;case 1:li(e,i,a,o);break;case 3:li(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Xl(e)));break;case 12:if(h&2048){li(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Zt(i,i.return,N)}}else li(e,i,a,o);break;case 31:li(e,i,a,o);break;case 13:li(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?li(e,i,a,o):co(e,i):d._visibility&2?li(e,i,a,o):(d._visibility|=2,Ma(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(y,i);break;case 24:li(e,i,a,o),h&2048&&id(i.alternate,i);break;default:li(e,i,a,o)}}function Ma(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,T=a,N=o,k=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(d,y,T,N,h),oo(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ma(d,y,T,N,h):co(d,y):(H._visibility|=2,Ma(d,y,T,N,h)),h&&k&2048&&nd(y.alternate,y);break;case 24:Ma(d,y,T,N,h),h&&k&2048&&id(y.alternate,y);break;default:Ma(d,y,T,N,h)}i=i.sibling}}function co(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:co(a,o),h&2048&&nd(o.alternate,o);break;case 24:co(a,o),h&2048&&id(o.alternate,o);break;default:co(a,o)}i=i.sibling}}var ho=8192;function Va(e,i,a){if(e.subtreeFlags&ho)for(e=e.child;e!==null;)W_(e,i,a),e=e.sibling}function W_(e,i,a){switch(e.tag){case 26:Va(e,i,a),e.flags&ho&&e.memoizedState!==null&&SS(a,ai,e.memoizedState,e.memoizedProps);break;case 5:Va(e,i,a);break;case 3:case 4:var o=ai;ai=Ic(e.stateNode.containerInfo),Va(e,i,a),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ho,ho=16777216,Va(e,i,a),ho=o):Va(e,i,a));break;default:Va(e,i,a)}}function ty(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qe=o,ny(o,e)}ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ey(e),e=e.sibling}function ey(e){switch(e.tag){case 0:case 11:case 15:fo(e),e.flags&2048&&Os(9,e,e.return);break;case 3:fo(e);break;case 12:fo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,pc(e)):fo(e);break;default:fo(e)}}function pc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qe=o,ny(o,e)}ty(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Os(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pc(i));break;default:pc(i)}e=e.sibling}}function ny(e,i){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:Os(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,qe=o;else t:for(a=e;qe!==null;){o=qe;var h=o.sibling,d=o.return;if(Y_(o),o===a){qe=null;break t}if(h!==null){h.return=d,qe=h;break t}qe=d}}}var UT={getCacheForType:function(e){var i=Je(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Je(Re).controller.signal}},kT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Ct=null,Rt=0,Xt=0,On=null,xs=!1,La=!1,sd=!1,ns=0,pe=0,Ms=0,kr=0,rd=0,xn=0,za=0,mo=null,En=null,ad=!1,_c=0,iy=0,yc=1/0,vc=null,Vs=null,Ue=0,Ls=null,Ua=null,is=0,ld=0,od=null,sy=null,go=0,ud=null;function Mn(){return(Gt&2)!==0&&Rt!==0?Rt&-Rt:F.T!==null?gd():Eu()}function ry(){if(xn===0)if((Rt&536870912)===0||It){var e=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),xn=e}else xn=536870912;return e=In.current,e!==null&&(e.flags|=32),xn}function Tn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),zs(e,Rt,xn,!1)),fr(e,a),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(kr|=a),pe===4&&zs(e,Rt,xn,!1)),xi(e))}function ay(e,i,a){if((Gt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Jn(e,i),h=o?jT(e,i):hd(e,i,!0),d=o;do{if(h===0){La&&!o&&zs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!PT(a)){h=hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var T=e;h=mo;var N=T.current.memoizedState.isDehydrated;if(N&&(ka(T,y).flags|=256),y=hd(T,y,!1),y!==2){if(sd&&!N){T.errorRecoveryDisabledLanes|=d,kr|=d,h=4;break t}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){ka(e,0),zs(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:zs(o,i,xn,!xs);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=_c+300-cn(),10<h)){if(zs(o,i,xn,!xs),mi(o,0,!0)!==0)break t;is=i,o.timeoutHandle=Uy(ly.bind(null,o,a,En,vc,ad,i,xn,kr,za,xs,d,"Throttled",-0,0),h);break t}ly(o,a,En,vc,ad,i,xn,kr,za,xs,d,null,-0,0)}}break}while(!0);xi(e)}function ly(e,i,a,o,h,d,y,T,N,k,H,Y,P,j){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},W_(i,d,Y);var at=(d&62914560)===d?_c-cn():(d&4194048)===d?iy-cn():0;if(at=AS(Y,at),at!==null){is=d,e.cancelPendingCommit=at(gy.bind(null,e,i,d,a,o,h,y,T,N,H,Y,null,P,j)),zs(e,d,y,!k);return}}gy(e,i,d,a,o,h,y,T,N)}function PT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!Rn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zs(e,i,a,o){i&=~rd,i&=~kr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-_e(h),y=1<<d;o[d]=-1,h&=~y}a!==0&&dr(e,a,i)}function Ec(){return(Gt&6)===0?(po(0),!1):!0}function cd(){if(Ct!==null){if(Xt===0)var e=Ct.return;else e=Ct,Yi=Ir=null,wf(e),Na=null,Jl=0,e=Ct;for(;e!==null;)k_(e.alternate,e),e=e.return;Ct=null}}function ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),is=0,cd(),ne=e,Ct=a=Fi(e.current,null),Rt=i,Xt=0,On=null,xs=!1,La=Jn(e,i),sd=!1,za=xn=rd=kr=Ms=pe=0,En=mo=null,ad=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-_e(o),d=1<<h;i|=e[h],o&=~d}return ns=i,ju(),a}function oy(e,i){Tt=null,F.H=ro,i===Ra||i===Xu?(i=bp(),Xt=3):i===mf?(i=bp(),Xt=4):Xt=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Ct===null&&(pe=1,uc(e,jn(i,e.current)))}function uy(){var e=In.current;return e===null?!0:(Rt&4194048)===Rt?Gn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?e===Gn:!1}function cy(){var e=F.H;return F.H=ro,e===null?ro:e}function hy(){var e=F.A;return F.A=UT,e}function Tc(){pe=4,xs||(Rt&4194048)!==Rt&&In.current!==null||(La=!0),(Ms&134217727)===0&&(kr&134217727)===0||ne===null||zs(ne,Rt,xn,!1)}function hd(e,i,a){var o=Gt;Gt|=2;var h=cy(),d=hy();(ne!==e||Rt!==i)&&(vc=null,ka(e,i)),i=!1;var y=pe;t:do try{if(Xt!==0&&Ct!==null){var T=Ct,N=On;switch(Xt){case 8:cd(),y=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var k=Xt;if(Xt=0,On=null,Pa(e,T,N,k),a&&La){y=0;break t}break;default:k=Xt,Xt=0,On=null,Pa(e,T,N,k)}}BT(),y=pe;break}catch(H){oy(e,H)}while(!0);return i&&e.shellSuspendCounter++,Yi=Ir=null,Gt=o,F.H=h,F.A=d,Ct===null&&(ne=null,Rt=0,ju()),y}function BT(){for(;Ct!==null;)fy(Ct)}function jT(e,i){var a=Gt;Gt|=2;var o=cy(),h=hy();ne!==e||Rt!==i?(vc=null,yc=cn()+500,ka(e,i)):La=Jn(e,i);t:do try{if(Xt!==0&&Ct!==null){i=Ct;var d=On;e:switch(Xt){case 1:Xt=0,On=null,Pa(e,i,d,1);break;case 2:case 9:if(Sp(d)){Xt=0,On=null,dy(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),xi(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Sp(d)?(Xt=0,On=null,dy(i)):(Xt=0,On=null,Pa(e,i,d,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var T=Ct;if(y?$y(y):T.stateNode.complete){Xt=0,On=null;var N=T.sibling;if(N!==null)Ct=N;else{var k=T.return;k!==null?(Ct=k,Sc(k)):Ct=null}break e}}Xt=0,On=null,Pa(e,i,d,5);break;case 6:Xt=0,On=null,Pa(e,i,d,6);break;case 8:cd(),pe=6;break t;default:throw Error(r(462))}}qT();break}catch(H){oy(e,H)}while(!0);return Yi=Ir=null,F.H=o,F.A=h,Gt=a,Ct!==null?0:(ne=null,Rt=0,ju(),pe)}function qT(){for(;Ct!==null&&!Bh();)fy(Ct)}function fy(e){var i=z_(e.alternate,e,ns);e.memoizedProps=e.pendingProps,i===null?Sc(e):Ct=i}function dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=D_(a,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=D_(a,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:wf(i);default:k_(a,i),i=Ct=hp(i,ns),i=z_(a,i,ns)}e.memoizedProps=e.pendingProps,i===null?Sc(e):Ct=i}function Pa(e,i,a,o){Yi=Ir=null,wf(i),Na=null,Jl=0;var h=i.return;try{if(DT(e,h,i,a,Rt)){pe=1,uc(e,jn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;pe=1,uc(e,jn(a,e.current)),Ct=null;return}i.flags&32768?(It||o===1?e=!0:La||(Rt&536870912)!==0?e=!1:(xs=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),my(i,e)):Sc(i)}function Sc(e){var i=e;do{if((i.flags&32768)!==0){my(i,xs);return}e=i.return;var a=MT(i.alternate,i,ns);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);pe===0&&(pe=5)}function my(e,i){do{var a=VT(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);pe=6,Ct=null}function gy(e,i,a,o,h,d,y,T,N){e.cancelPendingCommit=null;do Ac();while(Ue!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=$h,Hh(e,a,d,y,T,N),e===ne&&(Ct=ne=null,Rt=0),Ua=i,Ls=e,is=a,ld=d,od=h,sy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YT(fs,function(){return Ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,y=Gt,Gt|=4;try{LT(e,i,a)}finally{Gt=y,tt.p=h,F.T=o}}Ue=1,py(),_y(),yy()}}function py(){if(Ue===1){Ue=0;var e=Ls,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Z_(i,e);var d=Ad,y=np(e.containerInfo),T=d.focusedElem,N=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&ep(T.ownerDocument.documentElement,T)){if(N!==null&&Qh(T)){var k=N.start,H=N.end;if(H===void 0&&(H=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(H,T.value.length);else{var Y=T.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var j=P.getSelection(),at=T.textContent.length,ht=Math.min(N.start,at),te=N.end===void 0?ht:Math.min(N.end,at);!j.extend&&ht>te&&(y=te,te=ht,ht=y);var L=tp(T,ht),x=tp(T,te);if(L&&x&&(j.rangeCount!==1||j.anchorNode!==L.node||j.anchorOffset!==L.offset||j.focusNode!==x.node||j.focusOffset!==x.offset)){var U=Y.createRange();U.setStart(L.node,L.offset),j.removeAllRanges(),ht>te?(j.addRange(U),j.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),j.addRange(U))}}}}for(Y=[],j=T;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var G=Y[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Lc=!!Sd,Ad=Sd=null}finally{Gt=h,tt.p=o,F.T=a}}e.current=i,Ue=2}}function _y(){if(Ue===2){Ue=0;var e=Ls,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{G_(e,i.alternate,i)}finally{Gt=h,tt.p=o,F.T=a}}Ue=3}}function yy(){if(Ue===4||Ue===3){Ue=0,du();var e=Ls,i=Ua,a=is,o=sy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,Ua=Ls=null,vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),Bi(a),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Zn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var T=o[y];d(T.value,{componentStack:T.stack})}}finally{F.T=i,tt.p=h}}(is&3)!==0&&Ac(),xi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ud?go++:(go=0,ud=e):go=0,po(0)}}function vy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Xl(i)))}function Ac(){return py(),_y(),yy(),Ey()}function Ey(){if(Ue!==5)return!1;var e=Ls,i=ld;ld=0;var a=Bi(is),o=F.T,h=tt.p;try{tt.p=32>a?32:a,F.T=null,a=od,od=null;var d=Ls,y=is;if(Ue=0,Ua=Ls=null,is=0,(Gt&6)!==0)throw Error(r(331));var T=Gt;if(Gt|=4,ey(d.current),$_(d,d.current,y,a),Gt=T,po(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Zn,d)}catch{}return!0}finally{tt.p=h,F.T=o,vy(e,i)}}function Ty(e,i,a){i=jn(a,i),i=jf(e.stateNode,i,2),e=Ns(e,i,2),e!==null&&(fr(e,2),xi(e))}function Zt(e,i,a){if(e.tag===3)Ty(e,e,a);else for(;i!==null;){if(i.tag===3){Ty(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vs===null||!Vs.has(o))){e=jn(a,e),a=S_(2),o=Ns(i,a,2),o!==null&&(A_(a,o,i,e),fr(o,2),xi(o));break}}i=i.return}}function fd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new kT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(sd=!0,h.add(a),e=HT.bind(null,e,i,a),i.then(e,e))}function HT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Rt&a)===a&&(pe===4||pe===3&&(Rt&62914560)===Rt&&300>cn()-_c?(Gt&2)===0&&ka(e,0):rd|=a,za===Rt&&(za=0)),xi(e)}function Sy(e,i){i===0&&(i=vu()),e=wr(e,i),e!==null&&(fr(e,i),xi(e))}function FT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Sy(e,a)}function GT(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Sy(e,a)}function YT(e,i){return ze(e,i)}var bc=null,Ba=null,dd=!1,Cc=!1,md=!1,Us=0;function xi(e){e!==Ba&&e.next===null&&(Ba===null?bc=Ba=e:Ba=Ba.next=e),Cc=!0,dd||(dd=!0,KT())}function po(e,i){if(!md&&Cc){md=!0;do for(var a=!1,o=bc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-_e(42|e)+1)-1,d&=h&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,wy(o,d))}else d=Rt,d=mi(o,o===ne?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Jn(o,d)||(a=!0,wy(o,d));o=o.next}while(a);md=!1}}function QT(){Ay()}function Ay(){Cc=dd=!1;var e=0;Us!==0&&sS()&&(e=Us);for(var i=cn(),a=null,o=bc;o!==null;){var h=o.next,d=by(o,i);d===0?(o.next=null,a===null?bc=h:a.next=h,h===null&&(Ba=a)):(a=o,(e!==0||(d&3)!==0)&&(Cc=!0)),o=h}Ue!==0&&Ue!==5||po(e),Us!==0&&(Us=0)}function by(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-_e(d),T=1<<y,N=h[y];N===-1?((T&a)===0||(T&o)!==0)&&(h[y]=qh(T,i)):N<=i&&(e.expiredLanes|=T),d&=~T}if(i=ne,a=Rt,a=mi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&hs(o),Bi(a)){case 2:case 8:a=Cl;break;case 32:a=fs;break;case 268435456:a=mu;break;default:a=fs}return o=Cy.bind(null,e),a=ze(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&hs(o),e.callbackPriority=2,e.callbackNode=null,2}function Cy(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ac()&&e.callbackNode!==a)return null;var o=Rt;return o=mi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ay(e,o,i),by(e,cn()),e.callbackNode!=null&&e.callbackNode===a?Cy.bind(null,e):null)}function wy(e,i){if(Ac())return null;ay(e,i,!0)}function KT(){aS(function(){(Gt&6)!==0?ze(bl,QT):Ay()})}function gd(){if(Us===0){var e=Ca;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Us=e}return Us}function Ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function Ny(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function XT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ry((h[Be]||null).action),y=o.submitter;y&&(i=(i=y[Be]||null)?Ry(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var T=new Ci("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var N=y?Ny(h,y):new FormData(h);Lf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=y?Ny(h,y):new FormData(h),Lf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var pd=0;pd<Jh.length;pd++){var _d=Jh[pd],ZT=_d.toLowerCase(),JT=_d[0].toUpperCase()+_d.slice(1);ri(ZT,"on"+JT)}ri(rp,"onAnimationEnd"),ri(ap,"onAnimationIteration"),ri(lp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(dT,"onTransitionRun"),ri(mT,"onTransitionStart"),ri(gT,"onTransitionCancel"),ri(op,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function Iy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var y=o.length-1;0<=y;y--){var T=o[y],N=T.instance,k=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=k;try{d(h)}catch(H){Bu(H)}h.currentTarget=null,d=N}else for(y=0;y<o.length;y++){if(T=o[y],N=T.instance,k=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=k;try{d(h)}catch(H){Bu(H)}h.currentTarget=null,d=N}}}}function wt(e,i){var a=i[ra];a===void 0&&(a=i[ra]=new Set);var o=e+"__bubble";a.has(o)||(Dy(i,e,2,!1),a.add(o))}function yd(e,i,a){var o=0;i&&(o|=4),Dy(a,e,o,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[wc]){e[wc]=!0,Nl.forEach(function(a){a!=="selectionchange"&&($T.has(a)||yd(a,!1,e),yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[wc]||(i[wc]=!0,yd("selectionchange",!1,i))}}function Dy(e,i,a,o){switch(r0(i)){case 2:var h=wS;break;case 8:h=RS;break;default:h=Vd}a=h.bind(null,i,a,e),h=void 0,!yr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=yi(T),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){o=d=y;continue t}T=T.parentNode}}o=o.return}ys(function(){var k=d,H=Un(a),Y=[];t:{var P=up.get(e);if(P!==void 0){var j=Ci,at=e;switch(e){case"keypress":if(Er(a)===0)break t;case"keydown":case"keyup":j=Uu;break;case"focusin":at="focus",j=Sr;break;case"focusout":at="blur",j=Sr;break;case"beforeblur":case"afterblur":j=Sr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=g;break;case rp:case ap:case lp:j=Du;break;case op:j=A;break;case"scroll":case"scrollend":j=Bl;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Hi;break;case"toggle":case"beforetoggle":j=Et}var ht=(i&4)!==0,te=!ht&&(e==="scroll"||e==="scrollend"),L=ht?P!==null?P+"Capture":null:P;ht=[];for(var x=k,U;x!==null;){var G=x;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||L===null||(G=ei(x,L),G!=null&&ht.push(yo(x,G,U))),te)break;x=x.return}0<ht.length&&(P=new j(P,at,null,a,H),Y.push({event:P,listeners:ht}))}}if((i&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",P&&a!==Ul&&(at=a.relatedTarget||a.fromElement)&&(yi(at)||at[pi]))break t;if((j||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,j?(at=a.relatedTarget||a.toElement,j=k,at=at?yi(at):null,at!==null&&(te=u(at),ht=at.tag,at!==te||ht!==5&&ht!==27&&ht!==6)&&(at=null)):(j=null,at=k),j!==at)){if(ht=jl,G="onMouseLeave",L="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Hi,G="onPointerLeave",L="onPointerEnter",x="pointer"),te=j==null?P:Cn(j),U=at==null?P:Cn(at),P=new ht(G,x+"leave",j,a,H),P.target=te,P.relatedTarget=U,G=null,yi(H)===k&&(ht=new ht(L,x+"enter",at,a,H),ht.target=U,ht.relatedTarget=te,G=ht),te=G,j&&at)e:{for(ht=WT,L=j,x=at,U=0,G=L;G;G=ht(G))U++;G=0;for(var ut=x;ut;ut=ht(ut))G++;for(;0<U-G;)L=ht(L),U--;for(;0<G-U;)x=ht(x),G--;for(;U--;){if(L===x||x!==null&&L===x.alternate){ht=L;break e}L=ht(L),x=ht(x)}ht=null}else ht=null;j!==null&&Oy(Y,P,j,ht,!1),at!==null&&te!==null&&Oy(Y,te,at,ht,!0)}}t:{if(P=k?Cn(k):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var qt=Kg;else if(Yg(P))if(Xg)qt=cT;else{qt=oT;var lt=lT}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?k&&ua(k.elementType)&&(qt=Kg):qt=uT;if(qt&&(qt=qt(e,k))){Qg(Y,qt,a,H);break t}lt&&lt(e,P,k),e==="focusout"&&k&&P.type==="number"&&k.memoizedProps.value!=null&&Vl(P,"number",P.value)}switch(lt=k?Cn(k):window,e){case"focusin":(Yg(lt)||lt.contentEditable==="true")&&(_a=lt,Kh=k,Yl=null);break;case"focusout":Yl=Kh=_a=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,ip(Y,a,H);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":ip(Y,a,H)}var At;if(Ft)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else pa?Ar(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ni&&a.locale!=="ko"&&(pa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&pa&&(At=Pl()):(bi=H,kl="value"in bi?bi.value:bi.textContent,pa=!0)),lt=Rc(k,Nt),0<lt.length&&(Nt=new Ri(Nt,e,null,a,H),Y.push({event:Nt,listeners:lt}),At?Nt.data=At:(At=ga(a),At!==null&&(Nt.data=At)))),(At=Pn?iT(e,a):sT(e,a))&&(Nt=Rc(k,"onBeforeInput"),0<Nt.length&&(lt=new Ri("onBeforeInput","beforeinput",null,a,H),Y.push({event:lt,listeners:Nt}),lt.data=At)),XT(Y,e,k,a,H)}Iy(Y,i)})}function yo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ei(e,a),h!=null&&o.unshift(yo(e,h,d)),h=ei(e,i),h!=null&&o.push(yo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function WT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,i,a,o,h){for(var d=i._reactName,y=[];a!==null&&a!==o;){var T=a,N=T.alternate,k=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||k===null||(N=k,h?(k=ei(a,d),k!=null&&y.unshift(yo(a,k,N))):h||(k=ei(a,d),k!=null&&y.push(yo(a,k,N)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var tS=/\r\n?/g,eS=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(tS,`
`).replace(eS,"")}function My(e,i){return i=xy(i),xy(e)===i}function Wt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&pn(e,""+o);break;case"className":wn(e,"class",o);break;case"tabIndex":wn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,a,o);break;case"style":zl(e,o,d);break;case"data":if(i!=="object"){wn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),la(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,la(e,a,o))}}function Td(e,i,a,o,h,d){switch(a){case"style":zl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):la(e,a,o)}}}function We(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,d,y,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":wt("invalid",e);var T=d=y=h=null,N=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":y=H;break;case"checked":N=H;break;case"defaultChecked":k=H;break;case"value":d=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:Wt(e,i,o,H,a,null)}}bu(e,d,T,N,k,y,h,!1);return;case"select":wt("invalid",e),o=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:Wt(e,i,h,T,a,null)}i=d,a=y,e.multiple=!!o,i!=null?ms(e,!!o,i,!1):a!=null&&ms(e,!!o,a,!0);return;case"textarea":wt("invalid",e),d=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Wt(e,i,y,T,a,null)}gs(e,o,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(o=a[N],o!=null)&&(N==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,i,N,o,a,null));return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<_o.length;o++)wt(_o[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(e,i,k,o,a,null)}return;default:if(ua(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&Td(e,i,H,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Wt(e,i,T,o,a,null))}function nS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,N=null,k=null,H=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":N=Y;default:o.hasOwnProperty(j)||Wt(e,i,j,null,o,Y)}}for(var P in o){var j=o[P];if(Y=a[P],o.hasOwnProperty(P)&&(j!=null||Y!=null))switch(P){case"type":d=j;break;case"name":h=j;break;case"checked":k=j;break;case"defaultChecked":H=j;break;case"value":y=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:j!==Y&&Wt(e,i,P,j,o,Y)}}oa(e,y,T,N,k,H,d,h);return;case"select":j=y=T=P=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":j=N;default:o.hasOwnProperty(d)||Wt(e,i,d,null,o,N)}for(h in o)if(d=o[h],N=a[h],o.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":P=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==N&&Wt(e,i,h,d,o,N)}i=T,a=y,o=j,P!=null?ms(e,!!a,P,!1):!!o!=!!a&&(i!=null?ms(e,!!a,i,!0):ms(e,!!a,a?[]:"",!1));return;case"textarea":j=P=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,i,T,null,o,h)}for(y in o)if(h=o[y],d=a[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":P=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Wt(e,i,y,h,o,d)}Cu(e,P,j);return;case"option":for(var at in a)P=a[at],a.hasOwnProperty(at)&&P!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Wt(e,i,at,null,o,P));for(N in o)P=o[N],j=a[N],o.hasOwnProperty(N)&&P!==j&&(P!=null||j!=null)&&(N==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Wt(e,i,N,P,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)P=a[ht],a.hasOwnProperty(ht)&&P!=null&&!o.hasOwnProperty(ht)&&Wt(e,i,ht,null,o,P);for(k in o)if(P=o[k],j=a[k],o.hasOwnProperty(k)&&P!==j&&(P!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,i));break;default:Wt(e,i,k,P,o,j)}return;default:if(ua(i)){for(var te in a)P=a[te],a.hasOwnProperty(te)&&P!==void 0&&!o.hasOwnProperty(te)&&Td(e,i,te,void 0,o,P);for(H in o)P=o[H],j=a[H],!o.hasOwnProperty(H)||P===j||P===void 0&&j===void 0||Td(e,i,H,P,o,j);return}}for(var L in a)P=a[L],a.hasOwnProperty(L)&&P!=null&&!o.hasOwnProperty(L)&&Wt(e,i,L,null,o,P);for(Y in o)P=o[Y],j=a[Y],!o.hasOwnProperty(Y)||P===j||P==null&&j==null||Wt(e,i,Y,P,o,j)}function Vy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,y=h.initiatorType,T=h.duration;if(d&&T&&Vy(y)){for(y=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],k=N.startTime;if(k>T)break;var H=N.transferSize,Y=N.initiatorType;H&&Vy(Y)&&(N=N.responseEnd,y+=H*(N<T?1:(T-k)/(N-k)))}if(--o,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,Ad=null;function Nc(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function sS(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var Uy=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,aS=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(lS)}:Uy;function lS(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function Py(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Fa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")vo(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vo(a);for(var d=a.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&vo(e.ownerDocument.body);a=h}while(a);Fa(i)}function By(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function oS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function uS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function jy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Yn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Id=null;function qy(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Yn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Hy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Fy(e,i,a){switch(i=Nc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function vo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);aa(e)}var Qn=new Map,Gy=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ss=tt.d;tt.d={f:hS,r:fS,D:dS,C:mS,L:gS,m:pS,X:yS,S:_S,M:vS};function hS(){var e=ss.f(),i=Ec();return e||i}function fS(e){var i=zn(e);i!==null&&i.tag===5&&i.type==="form"?o_(i):ss.r(e)}var ja=typeof document>"u"?null:document;function Yy(e,i,a){var o=ja;if(o&&typeof i=="string"&&i){var h=gn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Gy.has(h)||(Gy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),We(i,"link",e),Ce(i),o.head.appendChild(i)))}}function dS(e){ss.D(e),Yy("dns-prefetch",e,null)}function mS(e,i){ss.C(e,i),Yy("preconnect",e,i)}function gS(e,i,a){ss.L(e,i,a);var o=ja;if(o&&e&&i){var h='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(e)+'"]';var d=h;switch(i){case"style":d=qa(e);break;case"script":d=Ha(e)}Qn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Qn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Eo(d))||i==="script"&&o.querySelector(To(d))||(i=o.createElement("link"),We(i,"link",e),Ce(i),o.head.appendChild(i)))}}function pS(e,i){ss.m(e,i);var a=ja;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(e)}if(!Qn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Qn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(To(d)))return}o=a.createElement("link"),We(o,"link",e),Ce(o),a.head.appendChild(o)}}}function _S(e,i,a){ss.S(e,i,a);var o=ja;if(o&&e){var h=vi(o).hoistableStyles,d=qa(e);i=i||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(Eo(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Qn.get(d))&&Dd(e,a);var N=y=o.createElement("link");Ce(N),We(N,"link",e),N._p=new Promise(function(k,H){N.onload=k,N.onerror=H}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Dc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function yS(e,i){ss.X(e,i);var a=ja;if(a&&e){var o=vi(a).hoistableScripts,h=Ha(e),d=o.get(h);d||(d=a.querySelector(To(h)),d||(e=S({src:e,async:!0},i),(i=Qn.get(h))&&Od(e,i),d=a.createElement("script"),Ce(d),We(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function vS(e,i){ss.M(e,i);var a=ja;if(a&&e){var o=vi(a).hoistableScripts,h=Ha(e),d=o.get(h);d||(d=a.querySelector(To(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Qn.get(h))&&Od(e,i),d=a.createElement("script"),Ce(d),We(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Qy(e,i,a,o){var h=(h=St.current)?Ic(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=vi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var d=vi(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Eo(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),d||ES(h,e,a,y.state))),i&&o===null)throw Error(r(528,""));return y}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=vi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function qa(e){return'href="'+gn(e)+'"'}function Eo(e){return'link[rel="stylesheet"]['+e+"]"}function Ky(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ES(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),We(i,"link",a),Ce(i),e.head.appendChild(i))}function Ha(e){return'[src="'+gn(e)+'"]'}function To(e){return"script[async]"+e}function Xy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return i.instance=o,Ce(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),We(o,"style",h),Dc(o,a.precedence,e),i.instance=o;case"stylesheet":h=qa(a.href);var d=e.querySelector(Eo(h));if(d)return i.state.loading|=4,i.instance=d,Ce(d),d;o=Ky(a),(h=Qn.get(h))&&Dd(o,h),d=(e.ownerDocument||e).createElement("link"),Ce(d);var y=d;return y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),We(d,"link",o),i.state.loading|=4,Dc(d,a.precedence,e),i.instance=d;case"script":return d=Ha(a.src),(h=e.querySelector(To(d)))?(i.instance=h,Ce(h),h):(o=a,(h=Qn.get(d))&&(o=S({},a),Od(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),We(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Dc(o,a.precedence,e));return i.instance}function Dc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Oc=null;function Zy(e,i,a){if(Oc===null){var o=new Map,h=Oc=new Map;h.set(a,o)}else h=Oc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[_i]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var T=o.get(y);T?T.push(d):o.set(y,[d])}}return o}function Jy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function TS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $y(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function SS(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),d=i.querySelector(Eo(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=xc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ce(d);return}d=i.ownerDocument||i,o=Ky(o),(h=Qn.get(h))&&Dd(o,h),d=d.createElement("link"),Ce(d);var y=d;y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),We(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=xc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var xd=0;function AS(e,i){return e.stylesheets&&e.count===0&&Vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&xd===0&&(xd=62500*iS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>xd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mc=null;function Vc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mc=new Map,i.forEach(bS,e),Mc=null,xc.call(e))}function bS(e,i){if(!(i.state.loading&4)){var a=Mc.get(e);if(a)var o=a.get(null);else{a=new Map,Mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,h),a.set(y,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var So={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function CS(e,i,a,o,h,d,y,T,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Wy(e,i,a,o,h,d,y,T,N,k,H,Y){return e=new CS(e,i,a,y,N,k,H,Y,T),i=1,d===!0&&(i|=24),d=Nn(3,null,null,i),e.current=d,d.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},gf(d),e}function t0(e){return e?(e=Ea,e):Ea}function e0(e,i,a,o,h,d){h=t0(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ns(e,o,i),a!==null&&(Tn(a,e,i),Wl(a,e,i))}function n0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Md(e,i){n0(e,i),(e=e.alternate)&&n0(e,i)}function i0(e){if(e.tag===13||e.tag===31){var i=wr(e,67108864);i!==null&&Tn(i,e,67108864),Md(e,67108864)}}function s0(e){if(e.tag===13||e.tag===31){var i=Mn();i=mr(i);var a=wr(e,i);a!==null&&Tn(a,e,i),Md(e,i)}}var Lc=!0;function wS(e,i,a,o){var h=F.T;F.T=null;var d=tt.p;try{tt.p=2,Vd(e,i,a,o)}finally{tt.p=d,F.T=h}}function RS(e,i,a,o){var h=F.T;F.T=null;var d=tt.p;try{tt.p=8,Vd(e,i,a,o)}finally{tt.p=d,F.T=h}}function Vd(e,i,a,o){if(Lc){var h=Ld(o);if(h===null)Ed(e,i,o,zc,a),a0(e,o);else if(IS(h,e,i,a,o))o.stopPropagation();else if(a0(e,o),i&4&&-1<NS.indexOf(e)){for(;h!==null;){var d=zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=di(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var N=1<<31-_e(y);T.entanglements[1]|=N,y&=~N}xi(d),(Gt&6)===0&&(yc=cn()+500,po(0))}}break;case 31:case 13:T=wr(d,2),T!==null&&Tn(T,d,2),Ec(),Md(d,2)}if(d=Ld(o),d===null&&Ed(e,i,o,zc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ed(e,i,o,null,a)}}function Ld(e){return e=Un(e),zd(e)}var zc=null;function zd(e){if(zc=null,e=yi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return zc=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case bl:return 2;case Cl:return 8;case fs:case jh:return 32;case mu:return 268435456;default:return 32}default:return 32}}var Ud=!1,Ps=null,Bs=null,js=null,Ao=new Map,bo=new Map,qs=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(e,i){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Ao.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(i.pointerId)}}function Co(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=zn(i),i!==null&&i0(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function IS(e,i,a,o,h){switch(i){case"focusin":return Ps=Co(Ps,e,i,a,o,h),!0;case"dragenter":return Bs=Co(Bs,e,i,a,o,h),!0;case"mouseover":return js=Co(js,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Ao.set(d,Co(Ao.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,bo.set(d,Co(bo.get(d)||null,e,i,a,o,h)),!0}return!1}function l0(e){var i=yi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,$n(e.priority,function(){s0(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,$n(e.priority,function(){s0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ul=o,a.target.dispatchEvent(o),Ul=null}else return i=zn(a),i!==null&&i0(i),e.blockedOn=a,!1;i.shift()}return!0}function o0(e,i,a){Uc(e)&&a.delete(i)}function DS(){Ud=!1,Ps!==null&&Uc(Ps)&&(Ps=null),Bs!==null&&Uc(Bs)&&(Bs=null),js!==null&&Uc(js)&&(js=null),Ao.forEach(o0),bo.forEach(o0)}function kc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ud||(Ud=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,DS)))}var Pc=null;function u0(e){Pc!==e&&(Pc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pc===e&&(Pc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(zd(o||a)===null)continue;break}var d=zn(a);d!==null&&(e.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(e){function i(N){return kc(N,e)}Ps!==null&&kc(Ps,e),Bs!==null&&kc(Bs,e),js!==null&&kc(js,e),Ao.forEach(i),bo.forEach(i);for(var a=0;a<qs.length;a++){var o=qs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],y=h[Be]||null;if(typeof d=="function")y||u0(a);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Be]||null)T=y.formAction;else if(zd(h)!==null)continue}else T=y.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),u0(a)}}}function c0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Bc.prototype.render=kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Mn();e0(a,o,e,i,null,null)},Bc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e0(e.current,2,null,e,null,null),Ec(),i[pi]=null}};function Bc(e){this._internalRoot=e}Bc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Eu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qs.length&&i!==0&&i<qs[a].priority;a++);qs.splice(a,0,e),a===0&&l0(e)}};var h0=t.version;if(h0!=="19.2.4")throw Error(r(527,h0,"19.2.4"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var OS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Zn=jc.inject(OS),Ke=jc}catch{}}return Ro.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=y_,d=v_,y=E_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Wy(e,1,!1,null,null,a,o,null,h,d,y,c0),e[pi]=i.current,vd(e),new kd(i)},Ro.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",d=y_,y=v_,T=E_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Wy(e,1,!0,i,a??null,o,h,N,d,y,T,c0),i.context=t0(null),a=i.current,o=Mn(),o=mr(o),h=Rs(o),h.callback=null,Ns(a,h,o),a=o,i.current.lanes=a,fr(i,a),xi(i),e[pi]=i.current,vd(e),new Bc(i)},Ro.version="19.2.4",Ro}var T0;function jS(){if(T0)return jd.exports;T0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=BS(),jd.exports}var qS=jS();const HS=vv(qS);var Ev={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S0=Ys.createContext&&Ys.createContext(Ev),FS=["attr","size","title"];function GS(s,t){if(s==null)return{};var n=YS(s,t),r,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(l=0;l<u.length;l++)r=u[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}function YS(s,t){if(s==null)return{};var n={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;n[r]=s[r]}return n}function nh(){return nh=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},nh.apply(this,arguments)}function A0(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,r)}return n}function ih(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A0(Object(n),!0).forEach(function(r){QS(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):A0(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function QS(s,t,n){return t=KS(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function KS(s){var t=XS(s,"string");return typeof t=="symbol"?t:t+""}function XS(s,t){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Tv(s){return s&&s.map((t,n)=>Ys.createElement(t.tag,ih({key:n},t.attr),Tv(t.child)))}function Ve(s){return t=>Ys.createElement(ZS,nh({attr:ih({},s.attr)},t),Tv(s.child))}function ZS(s){var t=n=>{var{attr:r,size:l,title:u}=s,f=GS(s,FS),m=l||n.size||"1em",_;return n.className&&(_=n.className),s.className&&(_=(_?_+" ":"")+s.className),Ys.createElement("svg",nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,f,{className:_,style:ih(ih({color:s.color||n.color},n.style),s.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ys.createElement("title",null,u),s.children)};return S0!==void 0?Ys.createElement(S0.Consumer,null,n=>t(n)):t(Ev)}function JS(s){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(s)}function $S(s){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(s)}function WS(s){return Ve({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(s)}function t4(s){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function e4(s){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(s)}function n4(s){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(s)}function i4(s){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(s)}function s4(s){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(s)}function b0(s){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(s)}function r4(s){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"},child:[]}]})(s)}function qc(s){return Ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(s)}function C0(s){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(s)}function w0(s){return Ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(s)}function a4(s){return Ve({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(s)}function Sv(s){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(s)}function R0(s){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(s)}function l4(s){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(s)}function o4(s){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(s)}function N0(s){return Ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(s)}function I0(s){return Ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(s)}const u4=()=>{};var D0={};const Av={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const nt=function(s,t){if(!s)throw dl(t)},dl=function(s){return new Error("Firebase Database ("+Av.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const bv=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},c4=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],m=s[n++],_=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Km={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,m=f?s[l+1]:0,_=l+2<s.length,p=_?s[l+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|p>>6,q=p&63;_||(q=64,f||(R=64)),r.push(n[E],n[S],n[R],n[q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(bv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):c4(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],m=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||m==null||p==null||S==null)throw new h4;const R=u<<2|m>>4;if(r.push(R),p!==64){const q=m<<4&240|p>>2;if(r.push(q),S!==64){const Z=p<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class h4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(s){const t=bv(s);return Km.encodeByteArray(t,!0)},sh=function(s){return Cv(s).replace(/\./g,"")},om=function(s){try{return Km.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f4(s){return wv(void 0,s)}function wv(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!d4(n)||(s[n]=wv(s[n],t[n]));return s}function d4(s){return s!=="__proto__"}function m4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const g4=()=>m4().__FIREBASE_DEFAULTS__,p4=()=>{if(typeof process>"u"||typeof D0>"u")return;const s=D0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_4=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&om(s[1]);return t&&JSON.parse(t)},Xm=()=>{try{return u4()||g4()||p4()||_4()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},y4=s=>Xm()?.emulatorHosts?.[s],v4=s=>{const t=y4(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rv=()=>Xm()?.config;class Zm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Jm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E4(s){return(await fetch(s,{credentials:"include"})).ok}function T4(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const Uo={};function S4(){const s={prod:[],emulator:[]};for(const t of Object.keys(Uo))Uo[t]?s.emulator.push(t):s.prod.push(t);return s}function A4(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let O0=!1;function b4(s,t){if(typeof window>"u"||typeof document>"u"||!Jm(window.location.host)||Uo[s]===t||Uo[s]||O0)return;Uo[s]=t;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=S4().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function _(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{O0=!0,f()},R}function E(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=A4(r),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),it=document.getElementById(W)||document.createElement("a"),pt=n("preprendIcon"),dt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const mt=R.element;m(mt),E(it,W);const Mt=p();_(dt,pt),mt.append(dt,Z,it,Mt),document.body.appendChild(mt)}u?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Nv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nv())}function C4(){const s=Xm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R4(){return Av.NODE_ADMIN===!0}function N4(){return!C4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I4(){try{return typeof indexedDB=="object"}catch{return!1}}function D4(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const O4="FirebaseError";class ml extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=O4,Object.setPrototypeOf(this,ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dv.prototype.create)}}class Dv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?x4(u,r):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new ml(l,m,r)}}function x4(s,t){return s.replace(M4,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const M4=/\{\$([^}]+)}/g;function Qo(s){return JSON.parse(s)}function tn(s){return JSON.stringify(s)}const Ov=function(s){let t={},n={},r={},l="";try{const u=s.split(".");t=Qo(om(u[0])||""),n=Qo(om(u[1])||""),l=u[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:l}},V4=function(s){const t=Ov(s),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},L4=function(s){const t=Ov(s).claims;return typeof t=="object"&&t.admin===!0};function cs(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function il(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function x0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function rh(s,t,n){const r={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=t.call(n,s[l],l,s));return r}function ah(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=t[l];if(M0(u)&&M0(f)){if(!ah(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function M0(s){return s!==null&&typeof s=="object"}function z4(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class U4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let S=0;S<16;S++)r[S]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let S=0;S<16;S++)r[S]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let S=16;S<80;S++){const R=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(R<<1|R>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],m=this.chain_[3],_=this.chain_[4],p,E;for(let S=0;S<80;S++){S<40?S<20?(p=m^u&(f^m),E=1518500249):(p=u^f^m,E=1859775393):S<60?(p=u&f|m&(u|f),E=2400959708):(p=u^f^m,E=3395469782);const R=(l<<5|l>>>27)+p+_+E+r[S]&4294967295;_=m,m=f,f=(u<<30|u>>>2)&4294967295,u=l,l=R}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<n;){if(f===0)for(;l<=r;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(u[f]=t.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<n;)if(u[f]=t[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[l]>>u&255,++r;return t}}function k4(s,t){return`${s} failed: ${t} argument `}const P4=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);if(l>=55296&&l<=56319){const u=l-55296;r++,nt(r<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(r)-56320;l=65536+(u<<10)+f}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Ah=function(s){let t=0;for(let n=0;n<s.length;n++){const r=s.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function $m(s){return s&&s._delegate?s._delegate:s}class sl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class B4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Zm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(q4(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j4(s){return s===Pr?void 0:s}function q4(s){return s.instantiationMode==="EAGER"}class H4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new B4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const F4={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},G4=Dt.INFO,Y4={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Q4=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Y4[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wm{constructor(t){this.name=t,this._logLevel=G4,this._logHandler=Q4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?F4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const K4=(s,t)=>t.some(n=>s instanceof n);let V0,L0;function X4(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z4(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,um=new WeakMap,Mv=new WeakMap,Gd=new WeakMap,tg=new WeakMap;function J4(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Qs(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&xv.set(n,s)}).catch(()=>{}),tg.set(t,s),t}function $4(s){if(um.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});um.set(s,t)}let cm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return um.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Mv.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function W4(s){cm=s(cm)}function tA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Yd(this),t,...n);return Mv.set(r,t.sort?t.sort():[t]),Qs(r)}:Z4().includes(s)?function(...t){return s.apply(Yd(this),t),Qs(xv.get(this))}:function(...t){return Qs(s.apply(Yd(this),t))}}function eA(s){return typeof s=="function"?tA(s):(s instanceof IDBTransaction&&$4(s),K4(s,X4())?new Proxy(s,cm):s)}function Qs(s){if(s instanceof IDBRequest)return J4(s);if(Gd.has(s))return Gd.get(s);const t=eA(s);return t!==s&&(Gd.set(s,t),tg.set(t,s)),t}const Yd=s=>tg.get(s);function nA(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,t),m=Qs(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Qs(f.result),_.oldVersion,_.newVersion,Qs(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),m.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const iA=["get","getKey","getAll","getAllKeys","count"],sA=["put","add","delete","clear"],Qd=new Map;function z0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=sA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||iA.includes(n)))return;const u=async function(f,...m){const _=this.transaction(f,l?"readwrite":"readonly");let p=_.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),l&&_.done]))[0]};return Qd.set(t,u),u}W4(s=>({...s,get:(t,n,r)=>z0(t,n)||s.get(t,n,r),has:(t,n)=>!!z0(t,n)||s.has(t,n)}));class rA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aA(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",U0="0.14.8";const os=new Wm("@firebase/app"),lA="@firebase/app-compat",oA="@firebase/analytics-compat",uA="@firebase/analytics",cA="@firebase/app-check-compat",hA="@firebase/app-check",fA="@firebase/auth",dA="@firebase/auth-compat",mA="@firebase/database",gA="@firebase/data-connect",pA="@firebase/database-compat",_A="@firebase/functions",yA="@firebase/functions-compat",vA="@firebase/installations",EA="@firebase/installations-compat",TA="@firebase/messaging",SA="@firebase/messaging-compat",AA="@firebase/performance",bA="@firebase/performance-compat",CA="@firebase/remote-config",wA="@firebase/remote-config-compat",RA="@firebase/storage",NA="@firebase/storage-compat",IA="@firebase/firestore",DA="@firebase/ai",OA="@firebase/firestore-compat",xA="firebase",MA="12.9.0";const fm="[DEFAULT]",VA={[hm]:"fire-core",[lA]:"fire-core-compat",[uA]:"fire-analytics",[oA]:"fire-analytics-compat",[hA]:"fire-app-check",[cA]:"fire-app-check-compat",[fA]:"fire-auth",[dA]:"fire-auth-compat",[mA]:"fire-rtdb",[gA]:"fire-data-connect",[pA]:"fire-rtdb-compat",[_A]:"fire-fn",[yA]:"fire-fn-compat",[vA]:"fire-iid",[EA]:"fire-iid-compat",[TA]:"fire-fcm",[SA]:"fire-fcm-compat",[AA]:"fire-perf",[bA]:"fire-perf-compat",[CA]:"fire-rc",[wA]:"fire-rc-compat",[RA]:"fire-gcs",[NA]:"fire-gcs-compat",[IA]:"fire-fst",[OA]:"fire-fst-compat",[DA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};const lh=new Map,LA=new Map,dm=new Map;function k0(s,t){try{s.container.addComponent(t)}catch(n){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ko(s){const t=s.name;if(dm.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,s);for(const n of lh.values())k0(n,s);for(const n of LA.values())k0(n,s);return!0}function zA(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Vv(s){return s==null?!1:s.settings!==void 0}const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Dv("app","Firebase",UA);class kA{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const Lv=MA;function zv(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:fm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(n||(n=Rv()),!n)throw Ks.create("no-options");const u=lh.get(l);if(u){if(ah(n,u.options)&&ah(r,u.config))return u;throw Ks.create("duplicate-app",{appName:l})}const f=new H4(l);for(const _ of dm.values())f.addComponent(_);const m=new kA(n,r,f);return lh.set(l,m),m}function PA(s=fm){const t=lh.get(s);if(!t&&s===fm&&Rv())return zv();if(!t)throw Ks.create("no-app",{appName:s});return t}function Xs(s,t,n){let r=VA[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${t}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}Ko(new sl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const BA="firebase-heartbeat-database",jA=1,Xo="firebase-heartbeat-store";let Kd=null;function Uv(){return Kd||(Kd=nA(BA,jA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function qA(s){try{const n=(await Uv()).transaction(Xo),r=await n.objectStore(Xo).get(kv(s));return await n.done,r}catch(t){if(t instanceof ml)os.warn(t.message);else{const n=Ks.create("idb-get",{originalErrorMessage:t?.message});os.warn(n.message)}}}async function P0(s,t){try{const r=(await Uv()).transaction(Xo,"readwrite");await r.objectStore(Xo).put(t,kv(s)),await r.done}catch(n){if(n instanceof ml)os.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n?.message});os.warn(r.message)}}}function kv(s){return`${s.name}!${s.options.appId}`}const HA=1024,FA=30;class GA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=B0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>FA){const l=KA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B0(),{heartbeatsToSend:n,unsentEntries:r}=YA(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function B0(){return new Date().toISOString().substring(0,10)}function YA(s,t=HA){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),j0(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),j0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I4()?D4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function j0(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function KA(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function XA(s){Ko(new sl("platform-logger",t=>new rA(t),"PRIVATE")),Ko(new sl("heartbeat",t=>new GA(t),"PRIVATE")),Xs(hm,U0,s),Xs(hm,U0,"esm2020"),Xs("fire-js","")}XA("");var ZA="firebase",JA="12.9.0";Xs(ZA,JA,"app");var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,Pv;(function(){var s;function t(D,C){function I(){}I.prototype=C.prototype,D.F=C.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(V,O,w){for(var b=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)b[bt-2]=arguments[bt];return C.prototype[O].apply(V,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,C,I){I||(I=0);const V=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)V[O]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=D.g[0],I=D.g[1],O=D.g[2];let w=D.g[3],b;b=C+(w^I&(O^w))+V[0]+3614090360&4294967295,C=I+(b<<7&4294967295|b>>>25),b=w+(O^C&(I^O))+V[1]+3905402710&4294967295,w=C+(b<<12&4294967295|b>>>20),b=O+(I^w&(C^I))+V[2]+606105819&4294967295,O=w+(b<<17&4294967295|b>>>15),b=I+(C^O&(w^C))+V[3]+3250441966&4294967295,I=O+(b<<22&4294967295|b>>>10),b=C+(w^I&(O^w))+V[4]+4118548399&4294967295,C=I+(b<<7&4294967295|b>>>25),b=w+(O^C&(I^O))+V[5]+1200080426&4294967295,w=C+(b<<12&4294967295|b>>>20),b=O+(I^w&(C^I))+V[6]+2821735955&4294967295,O=w+(b<<17&4294967295|b>>>15),b=I+(C^O&(w^C))+V[7]+4249261313&4294967295,I=O+(b<<22&4294967295|b>>>10),b=C+(w^I&(O^w))+V[8]+1770035416&4294967295,C=I+(b<<7&4294967295|b>>>25),b=w+(O^C&(I^O))+V[9]+2336552879&4294967295,w=C+(b<<12&4294967295|b>>>20),b=O+(I^w&(C^I))+V[10]+4294925233&4294967295,O=w+(b<<17&4294967295|b>>>15),b=I+(C^O&(w^C))+V[11]+2304563134&4294967295,I=O+(b<<22&4294967295|b>>>10),b=C+(w^I&(O^w))+V[12]+1804603682&4294967295,C=I+(b<<7&4294967295|b>>>25),b=w+(O^C&(I^O))+V[13]+4254626195&4294967295,w=C+(b<<12&4294967295|b>>>20),b=O+(I^w&(C^I))+V[14]+2792965006&4294967295,O=w+(b<<17&4294967295|b>>>15),b=I+(C^O&(w^C))+V[15]+1236535329&4294967295,I=O+(b<<22&4294967295|b>>>10),b=C+(O^w&(I^O))+V[1]+4129170786&4294967295,C=I+(b<<5&4294967295|b>>>27),b=w+(I^O&(C^I))+V[6]+3225465664&4294967295,w=C+(b<<9&4294967295|b>>>23),b=O+(C^I&(w^C))+V[11]+643717713&4294967295,O=w+(b<<14&4294967295|b>>>18),b=I+(w^C&(O^w))+V[0]+3921069994&4294967295,I=O+(b<<20&4294967295|b>>>12),b=C+(O^w&(I^O))+V[5]+3593408605&4294967295,C=I+(b<<5&4294967295|b>>>27),b=w+(I^O&(C^I))+V[10]+38016083&4294967295,w=C+(b<<9&4294967295|b>>>23),b=O+(C^I&(w^C))+V[15]+3634488961&4294967295,O=w+(b<<14&4294967295|b>>>18),b=I+(w^C&(O^w))+V[4]+3889429448&4294967295,I=O+(b<<20&4294967295|b>>>12),b=C+(O^w&(I^O))+V[9]+568446438&4294967295,C=I+(b<<5&4294967295|b>>>27),b=w+(I^O&(C^I))+V[14]+3275163606&4294967295,w=C+(b<<9&4294967295|b>>>23),b=O+(C^I&(w^C))+V[3]+4107603335&4294967295,O=w+(b<<14&4294967295|b>>>18),b=I+(w^C&(O^w))+V[8]+1163531501&4294967295,I=O+(b<<20&4294967295|b>>>12),b=C+(O^w&(I^O))+V[13]+2850285829&4294967295,C=I+(b<<5&4294967295|b>>>27),b=w+(I^O&(C^I))+V[2]+4243563512&4294967295,w=C+(b<<9&4294967295|b>>>23),b=O+(C^I&(w^C))+V[7]+1735328473&4294967295,O=w+(b<<14&4294967295|b>>>18),b=I+(w^C&(O^w))+V[12]+2368359562&4294967295,I=O+(b<<20&4294967295|b>>>12),b=C+(I^O^w)+V[5]+4294588738&4294967295,C=I+(b<<4&4294967295|b>>>28),b=w+(C^I^O)+V[8]+2272392833&4294967295,w=C+(b<<11&4294967295|b>>>21),b=O+(w^C^I)+V[11]+1839030562&4294967295,O=w+(b<<16&4294967295|b>>>16),b=I+(O^w^C)+V[14]+4259657740&4294967295,I=O+(b<<23&4294967295|b>>>9),b=C+(I^O^w)+V[1]+2763975236&4294967295,C=I+(b<<4&4294967295|b>>>28),b=w+(C^I^O)+V[4]+1272893353&4294967295,w=C+(b<<11&4294967295|b>>>21),b=O+(w^C^I)+V[7]+4139469664&4294967295,O=w+(b<<16&4294967295|b>>>16),b=I+(O^w^C)+V[10]+3200236656&4294967295,I=O+(b<<23&4294967295|b>>>9),b=C+(I^O^w)+V[13]+681279174&4294967295,C=I+(b<<4&4294967295|b>>>28),b=w+(C^I^O)+V[0]+3936430074&4294967295,w=C+(b<<11&4294967295|b>>>21),b=O+(w^C^I)+V[3]+3572445317&4294967295,O=w+(b<<16&4294967295|b>>>16),b=I+(O^w^C)+V[6]+76029189&4294967295,I=O+(b<<23&4294967295|b>>>9),b=C+(I^O^w)+V[9]+3654602809&4294967295,C=I+(b<<4&4294967295|b>>>28),b=w+(C^I^O)+V[12]+3873151461&4294967295,w=C+(b<<11&4294967295|b>>>21),b=O+(w^C^I)+V[15]+530742520&4294967295,O=w+(b<<16&4294967295|b>>>16),b=I+(O^w^C)+V[2]+3299628645&4294967295,I=O+(b<<23&4294967295|b>>>9),b=C+(O^(I|~w))+V[0]+4096336452&4294967295,C=I+(b<<6&4294967295|b>>>26),b=w+(I^(C|~O))+V[7]+1126891415&4294967295,w=C+(b<<10&4294967295|b>>>22),b=O+(C^(w|~I))+V[14]+2878612391&4294967295,O=w+(b<<15&4294967295|b>>>17),b=I+(w^(O|~C))+V[5]+4237533241&4294967295,I=O+(b<<21&4294967295|b>>>11),b=C+(O^(I|~w))+V[12]+1700485571&4294967295,C=I+(b<<6&4294967295|b>>>26),b=w+(I^(C|~O))+V[3]+2399980690&4294967295,w=C+(b<<10&4294967295|b>>>22),b=O+(C^(w|~I))+V[10]+4293915773&4294967295,O=w+(b<<15&4294967295|b>>>17),b=I+(w^(O|~C))+V[1]+2240044497&4294967295,I=O+(b<<21&4294967295|b>>>11),b=C+(O^(I|~w))+V[8]+1873313359&4294967295,C=I+(b<<6&4294967295|b>>>26),b=w+(I^(C|~O))+V[15]+4264355552&4294967295,w=C+(b<<10&4294967295|b>>>22),b=O+(C^(w|~I))+V[6]+2734768916&4294967295,O=w+(b<<15&4294967295|b>>>17),b=I+(w^(O|~C))+V[13]+1309151649&4294967295,I=O+(b<<21&4294967295|b>>>11),b=C+(O^(I|~w))+V[4]+4149444226&4294967295,C=I+(b<<6&4294967295|b>>>26),b=w+(I^(C|~O))+V[11]+3174756917&4294967295,w=C+(b<<10&4294967295|b>>>22),b=O+(C^(w|~I))+V[2]+718787259&4294967295,O=w+(b<<15&4294967295|b>>>17),b=I+(w^(O|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+w&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const I=C-this.blockSize,V=this.C;let O=this.h,w=0;for(;w<C;){if(O==0)for(;w<=I;)l(this,D,w),w+=this.blockSize;if(typeof D=="string"){for(;w<C;)if(V[O++]=D.charCodeAt(w++),O==this.blockSize){l(this,V),O=0;break}}else for(;w<C;)if(V[O++]=D[w++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)D[C++]=this.g[I]>>>V&255;return D};function u(D,C){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=C(D)}function f(D,C){this.h=C;const I=[];let V=!0;for(let O=D.length-1;O>=0;O--){const w=D[O]|0;V&&w==C||(I[O]=w,V=!1)}this.g=I}var m={};function _(D){return-128<=D&&D<128?u(D,function(C){return new f([C|0],C<0?-1:0)}):new f([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return it(p(-D));const C=[];let I=1;for(let V=0;D>=I;V++)C[V]=D/I|0,I*=4294967296;return new f(C,0)}function E(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return it(E(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(C,8));let V=S;for(let w=0;w<D.length;w+=8){var O=Math.min(8,D.length-w);const b=parseInt(D.substring(w,w+O),C);O<8?(O=p(Math.pow(C,O)),V=V.j(O).add(p(b))):(V=V.j(I),V=V.add(p(b)))}return V}var S=_(0),R=_(1),q=_(16777216);s=f.prototype,s.m=function(){if(W(this))return-it(this).m();let D=0,C=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);D+=(V>=0?V:4294967296+V)*C,C*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Z(this))return"0";if(W(this))return"-"+it(this).toString(D);const C=p(Math.pow(D,6));var I=this;let V="";for(;;){const O=Mt(I,C).g;I=pt(I,O.j(C));let w=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,Z(I))return w+V;for(;w.length<6;)w="0"+w;V=w+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Z(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=pt(this,D),W(D)?-1:Z(D)?0:1};function it(D){const C=D.g.length,I=[];for(let V=0;V<C;V++)I[V]=~D.g[V];return new f(I,~D.h).add(R)}s.abs=function(){return W(this)?it(this):this},s.add=function(D){const C=Math.max(this.g.length,D.g.length),I=[];let V=0;for(let O=0;O<=C;O++){let w=V+(this.i(O)&65535)+(D.i(O)&65535),b=(w>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=b>>>16,w&=65535,b&=65535,I[O]=b<<16|w}return new f(I,I[I.length-1]&-2147483648?-1:0)};function pt(D,C){return D.add(it(C))}s.j=function(D){if(Z(this)||Z(D))return S;if(W(this))return W(D)?it(this).j(it(D)):it(it(this).j(D));if(W(D))return it(this.j(it(D)));if(this.l(q)<0&&D.l(q)<0)return p(this.m()*D.m());const C=this.g.length+D.g.length,I=[];for(var V=0;V<2*C;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const w=this.i(V)>>>16,b=this.i(V)&65535,bt=D.i(O)>>>16,fe=D.i(O)&65535;I[2*V+2*O]+=b*fe,dt(I,2*V+2*O),I[2*V+2*O+1]+=w*fe,dt(I,2*V+2*O+1),I[2*V+2*O+1]+=b*bt,dt(I,2*V+2*O+1),I[2*V+2*O+2]+=w*bt,dt(I,2*V+2*O+2)}for(D=0;D<C;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=C;D<2*C;D++)I[D]=0;return new f(I,0)};function dt(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function mt(D,C){this.g=D,this.h=C}function Mt(D,C){if(Z(C))throw Error("division by zero");if(Z(D))return new mt(S,S);if(W(D))return C=Mt(it(D),C),new mt(it(C.g),it(C.h));if(W(C))return C=Mt(D,it(C)),new mt(it(C.g),C.h);if(D.g.length>30){if(W(D)||W(C))throw Error("slowDivide_ only works with positive integers.");for(var I=R,V=C;V.l(D)<=0;)I=ie(I),V=ie(V);var O=Vt(I,1),w=Vt(V,1);for(V=Vt(V,2),I=Vt(I,2);!Z(V);){var b=w.add(V);b.l(D)<=0&&(O=O.add(I),w=b),V=Vt(V,1),I=Vt(I,1)}return C=pt(D,O.j(C)),new mt(O,C)}for(O=S;D.l(C)>=0;){for(I=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),w=p(I),b=w.j(C);W(b)||b.l(D)>0;)I-=V,w=p(I),b=w.j(C);Z(w)&&(w=R),O=O.add(w),D=pt(D,b)}return new mt(O,D)}s.B=function(D){return Mt(this,D).h},s.and=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)&D.i(V);return new f(I,this.h&D.h)},s.or=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)|D.i(V);return new f(I,this.h|D.h)},s.xor=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)^D.i(V);return new f(I,this.h^D.h)};function ie(D){const C=D.g.length+1,I=[];for(let V=0;V<C;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(I,D.h)}function Vt(D,C){const I=C>>5;C%=32;const V=D.g.length-I,O=[];for(let w=0;w<V;w++)O[w]=C>0?D.i(w+I)>>>C|D.i(w+I+1)<<32-C:D.i(w+I);return new f(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Pv=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Zs=f}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bv,Mo,jv,Jc,mm,qv,Hv,Fv;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,g){if(g)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break t;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function p(c,g,v){return p=_,p.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,B){for(var J=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)J[Et-2]=arguments[Et];return g.prototype[z].apply(A,J)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function Z(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const B=z.length||0;c.length=v+B;for(let J=0;J<B;J++)c[v+J]=z[J]}else c.push(z)}}class W{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function it(c){f.setTimeout(()=>{throw c},0)}function pt(){var c=D;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class dt{constructor(){this.h=this.g=null}add(g,v){const A=mt.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var mt=new W(()=>new Mt,c=>c.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Vt=!1,D=new dt,C=()=>{const c=Promise.resolve(void 0);ie=()=>{c.then(I)}};function I(){for(var c;c=pt();){try{c.h.call(c.g)}catch(v){it(v)}var g=mt;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var w=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function bt(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(bt,O),bt.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&bt.Z.h.call(this)},bt.prototype.h=function(){bt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++F,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bt(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Qt(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,g,v,A,z){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const J=St(c,g,A,z);return J>-1?(g=c[J],v||(g.fa=!1)):(g=new tt(g,this.src,B,!!A,z),g.fa=v,c.push(g)),g};function gt(c,g){const v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),B;(B=z>=0)&&Array.prototype.splice.call(A,z,1),B&&(ct(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,g,v,A){for(let z=0;z<c.length;++z){const B=c[z];if(!B.da&&B.listener==g&&B.capture==!!v&&B.ha==A)return z}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Le={};function ue(c,g,v,A,z){if(Array.isArray(g)){for(let B=0;B<g.length;B++)ue(c,g[B],v,A,z);return null}return v=Al(v),c&&c[fe]?c.J(g,v,m(A)?!!A.capture:!1,z):or(c,g,v,!1,A,z)}function or(c,g,v,A,z,B){if(!g)throw Error("Invalid event type");const J=m(z)?!!z.capture:!!z;let Et=ur(c);if(Et||(c[Lt]=Et=new st(c)),v=Et.add(g,v,A,J,B),v.proxy)return v;if(A=ea(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)w||(z=J),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(hi(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function c(v){return g.call(c.src,c.listener,v)}const g=Tl;return c}function na(c,g,v,A,z){if(Array.isArray(g))for(var B=0;B<g.length;B++)na(c,g[B],v,A,z);else A=m(A)?!!A.capture:!!A,v=Al(v),c&&c[fe]?(c=c.i,B=String(g).toString(),B in c.g&&(g=c.g[B],v=St(g,v,A,z),v>-1&&(ct(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[B],c.h--)))):c&&(c=ur(c))&&(g=c.g[g.toString()],c=-1,g&&(c=St(g,v,A,z)),(v=c>-1?g[c]:null)&&ia(v))}function ia(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[fe])gt(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(hi(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=ur(g))?(gt(v,c),v.h==0&&(v.src=null,g[Lt]=null)):ct(c)}}}function hi(c){return c in Le?Le[c]:Le[c]="on"+c}function Tl(c,g){if(c.da)c=!0;else{g=new bt(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&ia(c),c=v.call(A,g)}return c}function ur(c){return c=c[Lt],c instanceof st?c:null}var Sl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Al(c){return typeof c=="function"?c:(c[Sl]||(c[Sl]=function(g){return c.handleEvent(g)}),c[Sl])}function Se(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(Se,V),Se.prototype[fe]=!0,Se.prototype.removeEventListener=function(c,g,v,A){na(this,c,g,v,A)};function ze(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var z=g;g=new O(A,c),et(g,z)}z=!0;let B,J;if(v)for(J=v.length-1;J>=0;J--)B=g.g=v[J],z=hs(B,A,!0,g)&&z;if(B=g.g=c,z=hs(B,A,!0,g)&&z,z=hs(B,A,!1,g)&&z,v)for(J=0;J<v.length;J++)B=g.g=v[J],z=hs(B,A,!1,g)&&z}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)ct(v[A]);delete c.g[g],c.h--}}this.G=null},Se.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Se.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function hs(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let B=0;B<g.length;++B){const J=g[B];if(J&&!J.da&&J.capture==v){const Et=J.listener,ye=J.ha||J.src;J.fa&&gt(c.i,J),z=Et.call(ye,A)!==!1&&z}}return z&&!A.defaultPrevented}function Bh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function du(c){c.g=Bh(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class cn extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(c){V.call(this),this.h=c,this.g={}}S(cr,V);var bl=[];function Cl(c){Bt(c.g,function(g,v){this.g.hasOwnProperty(v)&&ia(g)},c),c.g={}}cr.prototype.N=function(){cr.Z.N.call(this),Cl(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=f.JSON.stringify,jh=f.JSON.parse,mu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function gu(){}function pu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){O.call(this,"d")}S(Ke,O);function Ln(){O.call(this,"c")}S(Ln,O);var _e={},_u=null;function sa(){return _u=_u||new Se}_e.Ia="serverreachability";function yu(c){O.call(this,_e.Ia,c)}S(yu,O);function fi(c){const g=sa();ze(g,new yu(g))}_e.STAT_EVENT="statevent";function hr(c,g){O.call(this,_e.STAT_EVENT,c),this.stat=g}S(hr,O);function Ae(c){const g=sa();ze(g,new hr(g,c))}_e.Ja="timingevent";function di(c,g){O.call(this,_e.Ja,c),this.size=g}S(di,O);function mi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function qh(c,g,v,A,z,B){c.info(function(){if(c.g)if(B){var J="",Et=B.split("&");for(let Ft=0;Ft<Et.length;Ft++){var ye=Et[Ft].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const Pn=ce.split("_");J=Pn.length>=2&&Pn[1]=="type"?J+(ce+"="+ye+"&"):J+(ce+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+J})}function vu(c,g,v,A,z,B,J){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+B+" "+J})}function gi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Hh(c,v)+(A?" "+A:"")})}function fr(c,g){c.info(function(){return"TIMEOUT: "+g})}Jn.prototype.info=function(){};function Hh(c,g){if(!c.g)return g;if(!g)return null;try{const B=JSON.parse(g);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let J=1;J<A.length;J++)A[J]=""}}}}return fs(B)}catch{return g}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function mr(){}S(mr,gu),mr.prototype.g=function(){return new XMLHttpRequest},Rl=new mr;function Bi(c){return encodeURIComponent(String(c))}function Eu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function $n(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var be={},Be={};function pi(c,g,v){c.M=1,c.A=gr(we(g)),c.u=v,c.R=!0,ra(c,null)}function ra(c,g){c.F=Date.now(),_i(c),c.B=we(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Wn,c.g=Lu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new cn(p(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(bl[0]=z.toString()),z=bl);for(let B=0;B<z.length;B++){const J=ue(v,z[B],A||g.handleEvent,!1,g.h||g);if(!J)break;g.g[J.key]=J}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),fi(),qh(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const g=this.O;g&&ni(c)==3?g.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)t:{const Et=ni(this.g),ye=this.g.ya(),Ft=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Et!=4||ye==7||(ye==8||Ft<=0?fi(3):fi(2)),yi(this);var g=this.g.ca();this.X=g;var v=Fh(this);if(this.o=g==200,vu(this.i,this.v,this.B,this.l,this.S,Et,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(A)){var B=A;break e}}B=null}if(c=B)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Ae(12),Cn(this),zn(this);break t}}if(this.R){c=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=Su(this,v),ce==Be){Et==4&&(this.m=4,Ae(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==be){this.m=4,Ae(15),gi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,ce,null),vi(this,ce);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Cn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ql(J),J.P=!0,Ae(11))}}else gi(this.i,this.l,v,null),vi(this,v);Et==4&&Cn(this),this.o&&!this.K&&(Et==4?Ou(this.j,this):(this.o=!1,_i(this)))}else qi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Cn(this),zn(this)}}}catch{}};function Fh(c){if(!Tu(c))return c.g.la();const g=Xe(c.g);if(g==="")return"";let v="";const A=g.length,z=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Cn(c),zn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(g[B],{stream:!(z&&B==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Su(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Be:(v=Number(g.substring(v,A)),isNaN(v)?be:(A+=1,A+v>g.length?Be:(g=g.slice(A,A+v),c.C=A+v,g)))}$n.prototype.cancel=function(){this.K=!0,Cn(this)};function _i(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),g)}function yi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fr(this.i,this.B),this.M!=2&&(fi(),Ae(17)),Cn(this),this.m=2,zn(this)):aa(this,this.T-c)};function zn(c){c.j.I==0||c.K||Ou(c.j,c)}function Cn(c){yi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Cl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function vi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ma(v),Es(v);else break t;Sr(v),Ae(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(p(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&ma(v),!b(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Ft=z[g];const ce=Ft[0];if(!(ce<=v.K))if(v.K=ce,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Pn=Ft[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ni=Ft[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ii=Ft[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const si=c.g;if(si){const Ar=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var B=A.h;B.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Dl(B,B.h),B.h=null))}if(A.G){const ga=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,Kt(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var J=c;if(A.na=Vu(A,A.L?A.ba:null,A.W),J.L){Ol(A.h,J);var Et=J,ye=A.O;ye&&(Et.H=ye),Et.D&&(yi(Et),_i(Et)),A.g=J}else Iu(A);v.i.length>0&&wi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ri(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ri(v,7):Bl(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}fi(4)}catch{}}var Ce=class{constructor(c,g){this.g=c,this.map=g}};function Nl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Il(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Dl(c,g){c.g?c.g.add(g):c.h=g}function Ol(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Nl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return q(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,B=null;A>=0?(z=c[v].substring(0,A),B=c[v].substring(A+1)):z=c[v],g(z,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function wn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof wn?(this.l=c.l,je(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.u),this.h=c.h,Ml(this,Ru(c.i)),this.m=c.m):c&&(g=String(c).match(Au))?(this.l=!1,je(this,g[1]||"",!0),this.o=Si(g[2]||""),this.g=Si(g[3]||"",!0),ds(this,g[4]),this.h=Si(g[5]||"",!0),Ml(this,g[6]||"",!0),this.m=Si(g[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}wn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(pr(g,oa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(pr(g,oa,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(pr(v,v.charAt(0)=="/"?Vl:bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",pr(v,Cu)),c.join("")},wn.prototype.resolve=function(c){const g=we(this);let v=!!c.j;v?je(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)ds(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const B=[];for(let J=0;J<z.length;){const Et=z[J++];Et=="."?A&&J==z.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&J==z.length&&B.push("")):(B.push(Et),A=!0)}A=B.join("/")}else A=z}return v?g.h=A:v=c.i.toString()!=="",v?Ml(g,Ru(c.i)):v=!!c.m,v&&(g.m=c.m),g};function we(c){return new wn(c)}function je(c,g,v){c.j=v?Si(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Ml(c,g,v){g instanceof gs?(c.i=g,ca(c.i,c.l)):(v||(g=pr(g,ms)),c.i=new gs(g,c.l))}function Kt(c,g,v){c.i.set(g,v)}function gr(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Si(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pr(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,gn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,bu=/[#\?:]/g,Vl=/[#\?]/g,ms=/[#\?@]/g,Cu=/#/g;function gs(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function pn(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(c,g){pn(this),this.i=null,c=ps(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function wu(c,g){pn(c),g=ps(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ll(c,g){return pn(c),g=ps(c,g),c.g.has(g)}s.forEach=function(c,g){pn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)};function zl(c,g){pn(c);let v=[];if(typeof g=="string")Ll(c,g)&&(v=v.concat(c.g.get(ps(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}s.set=function(c,g){return pn(this),this.i=null,c=ps(this,c),Ll(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=zl(this,c),c.length>0?String(c[0]):g):g};function ua(c,g,v){wu(c,g),v.length>0&&(c.i=null,c.g.set(ps(c,g),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=Bi(v);v=zl(this,v);for(let B=0;B<v.length;B++){let J=z;v[B]!==""&&(J+="="+Bi(v[B])),c.push(J)}}return this.i=c.join("&")};function Ru(c){const g=new gs;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ps(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ca(c,g){g&&!c.j&&(pn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(wu(this,A),ua(this,z,v))},c)),c.j=g}function ti(c,g){const v=new Jn;if(f.Image){const A=new Image;A.onload=E(Un,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Un,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Un,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Ul(c,g){const v=new Jn,A=new AbortController,z=setTimeout(()=>{A.abort(),Un(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(z),B.ok?Un(v,"TestPingServer: ok",!0,g):Un(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Un(v,"TestPingServer: error",!1,g)})}function Un(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function _s(){this.g=new mu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ai,gu),Ai.prototype.g=function(){return new _r(this.i,this.h)};function _r(c,g){Se.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(_r,Se),s=_r.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ei(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ys(this):ei(this),this.readyState==3&&ha(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ys(this))},s.Na=function(c){this.g&&(this.response=c,ys(this))},s.ga=function(){this.g&&ys(this)};function ys(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let g="";return Bt(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function yr(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=kn(v),typeof c=="string"?v!=null&&Bi(v):Kt(c,g,v))}function Jt(c){Se.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,Se);var bi=/^https?$/i,kl=["POST","PUT"];s=Jt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(B){vr(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(kl,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of v)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){vr(this,B)}};function vr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Pl(c),ji(c)}function Pl(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ze(this,"complete"),ze(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},s.Xa=function(){Er(this)};function Er(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(ze(c,"readystatechange"),ni(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=B===0){let J=String(c.D).match(Au)[1]||null;!J&&f.self&&f.self.location&&(J=f.self.location.protocol.slice(0,-1)),A=!bi.test(J?J.toLowerCase():"")}v=A}if(v)ze(c,"complete"),ze(c,"success");else{c.o=6;try{var z=ni(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Pl(c)}}finally{ji(c)}}}}function ji(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||ze(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),jh(g)}};function Xe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const g={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(b(c[A]))continue;var v=Eu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=g[z]||[];g[z]=B,B.push(v)}Qt(g,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function vs(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(c&&c.concurrentRequestLimit),this.Ba=new _s,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(c,g,v,A){Ae(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Vu(this,null,this.W),wi(this)};function Bl(c){if(fa(c),c.I==3){var g=c.V++,v=we(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",g),Kt(v,"TYPE","terminate"),Tr(c,v),g=new $n(c,c.j,g),g.M=2,g.A=gr(we(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Lu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),_i(g)}Mu(c)}function Es(c){c.g&&(ql(c),c.g.cancel(),c.g=null)}function fa(c){Es(c),c.v&&(f.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function wi(c){if(!Il(c.h)&&!c.m){c.m=!0;var g=c.Ea;ie||C(),Vt||(ie(),Vt=!0),D.add(g,c),c.D=0}}function da(c,g){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,g),xu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new $n(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(z.J=B,B=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Nu(this,z,g),v=we(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Tr(this,v),B&&(this.R?g="headers="+Bi(kn(B))+"&"+g:this.u&&yr(v,this.u,B)),Dl(this.h,z),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",g),Kt(v,"SID","null"),z.U=!0,pi(z,v,null)):pi(z,v,g),this.I=2}}else this.I==3&&(c?jl(this,c):this.i.length==0||Il(this.h)||jl(this))};function jl(c,g){var v;g?v=g.l:v=c.V++;const A=we(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Tr(c,A),c.u&&c.o&&yr(A,c.u,c.o),v=new $n(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Nu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Dl(c.h,v),pi(v,A,g)}function Tr(c,g){c.H&&Bt(c.H,function(v,A){Kt(g,A,v)}),c.l&&Bt({},function(v,A){Kt(g,A,v)})}function Nu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;t:{var z=c.i;let Et=-1;for(;;){const ye=["count="+v];Et==-1?v>0?(Et=z[0].g,ye.push("ofs="+Et)):Et=0:ye.push("ofs="+Et);let Ft=!0;for(let ce=0;ce<v;ce++){var B=z[ce].g;const Pn=z[ce].map;if(B-=Et,B<0)Et=Math.max(0,z[ce].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var J=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ni,ii]of J){let si=ii;m(ii)&&(si=fs(ii)),ye.push(B+Ni+"="+encodeURIComponent(si))}}catch(Ni){throw ye.push(B+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(Pn)}}if(Ft){J=ye.join("&");break t}}J=void 0}return c=c.i.splice(0,v),g.G=c,J}function Iu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ie||C(),Vt||(ie(),Vt=!0),D.add(g,c),c.A=0}}function Sr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),xu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Es(this),Du(this))};function ql(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=we(c.na);Kt(g,"RID","rpc"),Kt(g,"SID",c.M),Kt(g,"AID",c.K),Kt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(g,"TO",c.ia),Kt(g,"TYPE","xmlhttp"),Tr(c,g),c.u&&c.o&&yr(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=gr(we(g)),v.u=null,v.R=!0,ra(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Sr(this),Ae(19))};function ma(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ou(c,g){var v=null;if(c.g==g){ma(c),ql(c),c.g=null;var A=2}else if(Ti(c.h,g))v=g.G,Ol(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=sa(),ze(A,new di(A,v)),wi(c)}else Iu(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&da(c,g)||A==2&&Sr(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function xu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ri(c,g){if(c.j.info("Error code "+g),g==2){var v=p(c.bb,c),A=c.Ua;const z=!A;A=new wn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||je(A,"https"),gr(A),z?ti(A.toString(),v):Ul(A.toString(),v)}else Ae(2);c.I=0,c.l&&c.l.pa(g),Mu(c),fa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const g=xl(c.h);(g.length!=0||c.i.length!=0)&&(Z(c.ja,g),Z(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Vu(c,g,v){var A=v instanceof wn?we(v):new wn(v);if(A.g!="")g&&(A.g=g+"."+A.g),ds(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const B=new wn(null);A&&je(B,A),g&&(B.g=g),z&&ds(B,z),v&&(B.h=v),A=B}return v=c.G,g=c.wa,v&&g&&Kt(A,v,g),Kt(A,"VER",c.ka),Tr(c,A),A}function Lu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Jt(new Ai({ab:v})):new Jt(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}s=zu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(c,g){return new hn(c,g)};function hn(c,g){Se.call(this),this.g=new vs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!b(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hi(this)}S(hn,Se),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Bl(this.g)},hn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fs(c),c=v);g.i.push(new Ce(g.Ya++,c)),g.I==3&&wi(g)},hn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,hn.Z.N.call(this)};function Uu(c){Ke.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(Uu,Ke);function ku(){Ln.call(this),this.status=1}S(ku,Ln);function Hi(c){this.g=c}S(Hi,zu),Hi.prototype.ra=function(){ze(this.g,"a")},Hi.prototype.qa=function(c){ze(this.g,new Uu(c))},Hi.prototype.pa=function(c){ze(this.g,new ku)},Hi.prototype.oa=function(){ze(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Fv=function(){return new Ts},Hv=function(){return sa()},qv=_e,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Jc=dr,wl.COMPLETE="complete",jv=wl,pu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Mo=pu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,Bv=Jt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let gl="12.9.0";function $A(s){gl=s}const Yr=new Wm("@firebase/firestore");function Ya(){return Yr.logLevel}function rt(s,...t){if(Yr.logLevel<=Dt.DEBUG){const n=t.map(eg);Yr.debug(`Firestore (${gl}): ${s}`,...n)}}function us(s,...t){if(Yr.logLevel<=Dt.ERROR){const n=t.map(eg);Yr.error(`Firestore (${gl}): ${s}`,...n)}}function Qr(s,...t){if(Yr.logLevel<=Dt.WARN){const n=t.map(eg);Yr.warn(`Firestore (${gl}): ${s}`,...n)}}function eg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function vt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Gv(s,r,n)}function Gv(s,t,n){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function me(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||Gv(t,l,r)}function Pt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ml{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Yv{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class tb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eb{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){me(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},m=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>m(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new Yv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class nb{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ib{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new nb(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sb{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vv(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){me(this.o===void 0,3512);const r=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=rb(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function Ot(s,t){return s<t?-1:s>t?1:0}function gm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return Xd(l)===Xd(u)?Ot(l,u):Xd(l)?1:-1}return Ot(s.length,t.length)}const ab=55296,lb=57343;function Xd(s){const t=s.charCodeAt(0);return t>=ab&&t<=lb}function rl(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const F0="__name__";class Mi{constructor(t,n,r){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&vt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=Mi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Ot(t.length,n.length)}static compareSegments(t,n){const r=Mi.isNumericId(t),l=Mi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Mi.extractNumericId(t).compare(Mi.extractNumericId(n)):gm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class de extends Mi{construct(t,n,r){return new de(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new de(n)}static emptyPath(){return new de([])}}const ob=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Mi{construct(t,n,r){return new dn(t,n,r)}static isValidIdentifier(t){return ob.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new dn([F0])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(r+=m,l++):(u(),l++)}if(u(),f)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dn(n)}static emptyPath(){return new dn([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(de.fromString(t))}static fromName(t){return new ft(de.fromString(t).popFirst(5))}static empty(){return new ft(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return de.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new de(t.slice()))}}function ub(s,t,n){if(!n)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function cb(s,t,n,r){if(t===!0&&r===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function G0(s){if(!ft.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function hb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fb(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function pm(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fb(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Me(s,t){const n={typeString:s};return t&&(n.value=t),n}function iu(s,t){if(!hb(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ot($.INVALID_ARGUMENT,n);return!0}const Y0=-62135596800,Q0=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(t){return xe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Q0);return new xe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Y0)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(iu(t,xe._jsonSchema))return new xe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Y0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:Me("string",xe._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new xe(0,0))}static max(){return new yt(new xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zo=-1;function db(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new er(l,ft.empty(),t)}function mb(s){return new er(s.readTime,s.key,Zo)}class er{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new er(yt.min(),ft.empty(),Zo)}static max(){return new er(yt.max(),ft.empty(),Zo)}}function gb(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(s.documentKey,t.documentKey),n!==0?n:Ot(s.largestBatchId,t.largestBatchId))}const pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bh(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==pb)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):X.reject(n)}static resolve(t){return new X(((n,r)=>{n(t)}))}static reject(t){return new X(((n,r)=>{r(t)}))}static waitFor(t){return new X(((n,r)=>{let l=0,u=0,f=!1;t.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(_=>r(_)))})),f=!0,u===l&&n()}))}static or(t){let n=X.resolve(!1);for(const r of t)n=n.next((l=>l?X.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new X(((r,l)=>{const u=t.length,f=new Array(u);let m=0;for(let _=0;_<u;_++){const p=_;n(t[p]).next((E=>{f[p]=E,++m,m===u&&r(f)}),(E=>l(E)))}}))}static doWhile(t,n){return new X(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function yb(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;const vb=-1;function wh(s){return s==null}function _m(s){return s===0&&1/s==-1/0}const Qv="";function Eb(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=K0(t)),t=Tb(s.get(n),t);return K0(t)}function Tb(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case Qv:n+="";break;default:n+=u}}return n}function K0(s){return s+Qv+""}function X0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function su(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function Sb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}let Qe=class ym{constructor(t,n){this.comparator=t,this.root=n||Js.EMPTY}insert(t,n){return new ym(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(t){return new ym(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Js.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}},Fc=class{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Js=class rs{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??rs.RED,this.left=l??rs.EMPTY,this.right=u??rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new rs(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return rs.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}};Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1;Js.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Js(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new Qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(t){return new Z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class Z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fs{constructor(t){this.fields=t,t.sort(dn.comparator)}static empty(){return new Fs([])}unionWith(t){let n=new Pe(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Fs(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return rl(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Kv("Invalid base64 string: "+u):u}})(t);return new en(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(s){if(me(!!s,39018),typeof s=="string"){let t=0;const n=Ab.exec(s);if(me(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(s.seconds),nanos:Te(s.nanos)}}function Te(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ir(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const Xv="server_timestamp",Zv="__type__",Jv="__previous_value__",$v="__local_write_time__";function ig(s){return(s?.mapValue?.fields||{})[Zv]?.stringValue===Xv}function Rh(s){const t=s.mapValue.fields[Jv];return ig(t)?Rh(t):t}function Jo(s){const t=nr(s.mapValue.fields[$v].timestampValue);return new xe(t.seconds,t.nanos)}class bb{constructor(t,n,r,l,u,f,m,_,p,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=S}}const oh="(default)";class $o{constructor(t,n){this.projectId=t,this.database=n||oh}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof $o&&t.projectId===this.projectId&&t.database===this.database}}function Cb(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(s.options.projectId,t)}const wb="__type__",Rb="__max__",Gc={mapValue:{}},Nb="__vector__",vm="value";function sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ig(s)?4:Db(s)?9007199254740991:Ib(s)?10:11:vt(28295,{value:s})}function ki(s,t){if(s===t)return!0;const n=sr(s);if(n!==sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Jo(s).isEqual(Jo(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=nr(l.timestampValue),m=nr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return ir(l.bytesValue).isEqual(ir(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return Te(l.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(l.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Te(l.integerValue)===Te(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Te(l.doubleValue),m=Te(u.doubleValue);return f===m?_m(f)===_m(m):isNaN(f)&&isNaN(m)}return!1})(s,t);case 9:return rl(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(X0(f)!==X0(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!ki(f[_],m[_])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Wo(s,t){return(s.values||[]).find((n=>ki(n,t)))!==void 0}function al(s,t){if(s===t)return 0;const n=sr(s),r=sr(t);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Te(u.integerValue||u.doubleValue),_=Te(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1})(s,t);case 3:return J0(s.timestampValue,t.timestampValue);case 4:return J0(Jo(s),Jo(t));case 5:return gm(s.stringValue,t.stringValue);case 6:return(function(u,f){const m=ir(u),_=ir(f);return m.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),_=f.split("/");for(let p=0;p<m.length&&p<_.length;p++){const E=Ot(m[p],_[p]);if(E!==0)return E}return Ot(m.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ot(Te(u.latitude),Te(f.latitude));return m!==0?m:Ot(Te(u.longitude),Te(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return $0(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},_=f.fields||{},p=m[vm]?.arrayValue,E=_[vm]?.arrayValue,S=Ot(p?.values?.length||0,E?.values?.length||0);return S!==0?S:$0(p,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},_=Object.keys(m),p=f.fields||{},E=Object.keys(p);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const R=gm(_[S],E[S]);if(R!==0)return R;const q=al(m[_[S]],p[E[S]]);if(q!==0)return q}return Ot(_.length,E.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function J0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const n=nr(s),r=nr(t),l=Ot(n.seconds,r.seconds);return l!==0?l:Ot(n.nanos,r.nanos)}function $0(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=al(n[l],r[l]);if(u)return u}return Ot(n.length,r.length)}function ll(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=nr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ir(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ft.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Em(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Em(n.fields[f])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function $c(s){switch(sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(s);return t?16+$c(t):16;case 5:return 2*s.stringValue.length;case 6:return ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+$c(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return su(r.fields,((u,f)=>{l+=u.length+$c(f)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function Tm(s){return!!s&&"integerValue"in s}function sg(s){return!!s&&"arrayValue"in s}function W0(s){return!!s&&"nullValue"in s}function t1(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zd(s){return!!s&&"mapValue"in s}function Ib(s){return(s?.mapValue?.fields||{})[wb]?.stringValue===Nb}function ko(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return su(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=ko(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ko(s.arrayValue.values[n]);return t}return{...s}}function Db(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Rb}class Vi{constructor(t){this.value=t}static empty(){return new Vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Zd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ko(n)}setAll(t){let n=dn.emptyPath(),r={},l=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,r,l),r={},l=[],n=m.popLast()}f?r[m.lastSegment()]=ko(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Zd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){su(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new Vi(ko(this.value))}}class an{constructor(t,n,r,l,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new an(t,0,yt.min(),yt.min(),yt.min(),Vi.empty(),0)}static newFoundDocument(t,n,r,l){return new an(t,1,n,yt.min(),r,l,0)}static newNoDocument(t,n){return new an(t,2,n,yt.min(),yt.min(),Vi.empty(),0)}static newUnknownDocument(t,n){return new an(t,3,n,yt.min(),yt.min(),Vi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(t,n){this.position=t,this.inclusive=n}}function e1(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],f=s.position[l];if(u.field.isKeyField()?r=ft.comparator(ft.fromName(f.referenceValue),n.key):r=al(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function n1(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],t.position[n]))return!1;return!0}class ch{constructor(t,n="asc"){this.field=t,this.dir=n}}function Ob(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Wv{}class ke extends Wv{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Mb(t,n,r):n==="array-contains"?new zb(t,r):n==="in"?new Ub(t,r):n==="not-in"?new kb(t,r):n==="array-contains-any"?new Pb(t,r):new ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Vb(t,r):new Lb(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends Wv{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Pi(t,n)}matches(t){return t2(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t2(s){return s.op==="and"}function e2(s){return xb(s)&&t2(s)}function xb(s){for(const t of s.filters)if(t instanceof Pi)return!1;return!0}function Sm(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+ll(s.value);if(e2(s))return s.filters.map((t=>Sm(t))).join(",");{const t=s.filters.map((n=>Sm(n))).join(",");return`${s.op}(${t})`}}function n2(s,t){return s instanceof ke?(function(r,l){return l instanceof ke&&r.op===l.op&&r.field.isEqual(l.field)&&ki(r.value,l.value)})(s,t):s instanceof Pi?(function(r,l){return l instanceof Pi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,m)=>u&&n2(f,l.filters[m])),!0):!1})(s,t):void vt(19439)}function i2(s){return s instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`})(s):s instanceof Pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(i2).join(" ,")+"}"})(s):"Filter"}class Mb extends ke{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class Vb extends ke{constructor(t,n){super(t,"in",n),this.keys=s2("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Lb extends ke{constructor(t,n){super(t,"not-in",n),this.keys=s2("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function s2(s,t){return(t.arrayValue?.values||[]).map((n=>ft.fromName(n.referenceValue)))}class zb extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sg(n)&&Wo(n.arrayValue,this.value)}}class Ub extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wo(this.value.arrayValue,n)}}class kb extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wo(this.value.arrayValue,n)}}class Pb extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wo(this.value.arrayValue,r)))}}class Bb{constructor(t,n=null,r=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function i1(s,t=null,n=[],r=[],l=null,u=null,f=null){return new Bb(s,t,n,r,l,u,f)}function rg(s){const t=Pt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Sm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),wh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>ll(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>ll(r))).join(",")),t.Te=n}return t.Te}function ag(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Ob(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!n2(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!n1(s.startAt,t.startAt)&&n1(s.endAt,t.endAt)}function Am(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Nh{constructor(t,n=null,r=[],l=[],u=null,f="F",m=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jb(s,t,n,r,l,u,f,m){return new Nh(s,t,n,r,l,u,f,m)}function lg(s){return new Nh(s)}function s1(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function qb(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Hb(s){return s.collectionGroup!==null}function Po(s){const t=Pt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pe(dn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new ch(u,r))})),n.has(dn.keyField().canonicalString())||t.Ie.push(new ch(dn.keyField(),r))}return t.Ie}function Ui(s){const t=Pt(s);return t.Ee||(t.Ee=Fb(t,Po(s))),t.Ee}function Fb(s,t){if(s.limitType==="F")return i1(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new ch(l.field,u)}));const n=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return i1(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function bm(s,t,n){return new Nh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Ih(s,t){return ag(Ui(s),Ui(t))&&s.limitType===t.limitType}function r2(s){return`${rg(Ui(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>i2(l))).join(", ")}]`),wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ll(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ll(l))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function Dh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ft.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Po(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(f,m,_){const p=e1(f,m,_);return f.inclusive?p<=0:p<0})(r.startAt,Po(r),l)||r.endAt&&!(function(f,m,_){const p=e1(f,m,_);return f.inclusive?p>=0:p>0})(r.endAt,Po(r),l))})(s,t)}function Gb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function a2(s){return(t,n)=>{let r=!1;for(const l of Po(s)){const u=Yb(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function Yb(s,t,n){const r=s.field.isKeyField()?ft.comparator(t.key,n.key):(function(u,f,m){const _=f.data.field(u),p=m.data.field(u);return _!==null&&p!==null?al(_,p):vt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}class $r{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){su(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}}const Qb=new Qe(ft.comparator);function rr(){return Qb}const l2=new Qe(ft.comparator);function Vo(...s){let t=l2;for(const n of s)t=t.insert(n.key,n);return t}function Kb(s){let t=l2;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function jr(){return Bo()}function o2(){return Bo()}function Bo(){return new $r((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Xb=new Pe(ft.comparator);function jt(...s){let t=Xb;for(const n of s)t=t.add(n);return t}const Zb=new Pe(Ot);function Jb(){return Zb}function $b(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_m(t)?"-0":t}}function Wb(s){return{integerValue:""+s}}class Oh{constructor(){this._=void 0}}function t3(s,t,n){return s instanceof Cm?(function(l,u){const f={fields:{[Zv]:{stringValue:Xv},[$v]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ig(u)&&(u=Rh(u)),u&&(f.fields[Jv]=u),{mapValue:f}})(n,t):s instanceof hh?u2(s,t):s instanceof fh?c2(s,t):(function(l,u){const f=n3(l,u),m=r1(f)+r1(l.Ae);return Tm(f)&&Tm(l.Ae)?Wb(m):$b(l.serializer,m)})(s,t)}function e3(s,t,n){return s instanceof hh?u2(s,t):s instanceof fh?c2(s,t):n}function n3(s,t){return s instanceof wm?(function(r){return Tm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Cm extends Oh{}class hh extends Oh{constructor(t){super(),this.elements=t}}function u2(s,t){const n=h2(t);for(const r of s.elements)n.some((l=>ki(l,r)))||n.push(r);return{arrayValue:{values:n}}}class fh extends Oh{constructor(t){super(),this.elements=t}}function c2(s,t){let n=h2(t);for(const r of s.elements)n=n.filter((l=>!ki(l,r)));return{arrayValue:{values:n}}}class wm extends Oh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function r1(s){return Te(s.integerValue||s.doubleValue)}function h2(s){return sg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function i3(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof hh&&l instanceof hh||r instanceof fh&&l instanceof fh?rl(r.elements,l.elements,ki):r instanceof wm&&l instanceof wm?ki(r.Ae,l.Ae):r instanceof Cm&&l instanceof Cm})(s.transform,t.transform)}class Fr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Fr}static exists(t){return new Fr(void 0,t)}static updateTime(t){return new Fr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class og{}function f2(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new r3(s.key,Fr.none()):new ug(s.key,s.data,Fr.none());{const n=s.data,r=Vi.empty();let l=new Pe(dn.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new xh(s.key,r,new Fs(l.toArray()),Fr.none())}}function s3(s,t,n){s instanceof ug?(function(l,u,f){const m=l.value.clone(),_=l1(l.fieldTransforms,u,f.transformResults);m.setAll(_),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,t,n):s instanceof xh?(function(l,u,f){if(!Wc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=l1(l.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(d2(l)),_.setAll(m),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function jo(s,t,n,r){return s instanceof ug?(function(u,f,m,_){if(!Wc(u.precondition,f))return m;const p=u.value.clone(),E=o1(u.fieldTransforms,_,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(s,t,n,r):s instanceof xh?(function(u,f,m,_){if(!Wc(u.precondition,f))return m;const p=o1(u.fieldTransforms,_,f),E=f.data;return E.setAll(d2(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,t,n)}function a1(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&rl(r,l,((u,f)=>i3(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ug extends og{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xh extends og{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function d2(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function l1(s,t,n){const r=new Map;me(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,m=t.data.field(u.field);r.set(u.field,e3(f,m,n[l]))}return r}function o1(s,t,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,t3(u,f,t))}return r}class r3 extends og{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a3{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&s3(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=jo(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=jo(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=o2();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const _=f2(f,m);_!==null&&r.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&rl(this.mutations,t.mutations,((n,r)=>a1(n,r)))&&rl(this.baseMutations,t.baseMutations,((n,r)=>a1(n,r)))}}class l3{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class o3{constructor(t,n){this.count=t,this.unchangedNames=n}}var Oe,zt;function m2(s){if(s===void 0)return us("GRPC error has no .code"),$.UNKNOWN;switch(s){case Oe.OK:return $.OK;case Oe.CANCELLED:return $.CANCELLED;case Oe.UNKNOWN:return $.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return $.INTERNAL;case Oe.UNAVAILABLE:return $.UNAVAILABLE;case Oe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Oe.NOT_FOUND:return $.NOT_FOUND;case Oe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Oe.ABORTED:return $.ABORTED;case Oe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Oe.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:s})}}(zt=Oe||(Oe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function u3(){return new TextEncoder}const c3=new Zs([4294967295,4294967295],0);function u1(s){const t=u3().encode(s),n=new Pv;return n.update(t),new Uint8Array(n.digest())}function c1(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zs([n,r],0),new Zs([l,u],0)]}class cg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lo(`Invalid padding: ${n}`);if(r<0)throw new Lo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Lo(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Lo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zs.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Zs.fromNumber(r)));return l.compare(c3)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=u1(t),[r,l]=c1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new cg(u,l,n);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=u1(t),[r,l]=c1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.be(f)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,ru.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Mh(yt.min(),l,new Qe(Ot),rr(),jt())}}class ru{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ru(r,n,jt(),jt(),jt())}}class th{constructor(t,n,r,l){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=l}}class g2{constructor(t,n){this.targetId=t,this.Ce=n}}class p2{constructor(t,n,r=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class h1{constructor(){this.ve=0,this.Fe=f1(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),r=jt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:u})}})),new ru(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=f1()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class h3{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.He=Yc(),this.Je=Yc(),this.Ze=new Qe(Ot)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Am(u))if(r===0){const f=new ft(u.path);this.et(n,f,an.newNoDocument(f,yt.min()))}else me(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(t),_=m?this.ct(m,t,f):1;if(_!==0){this.it(n);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=ir(r).toUint8Array()}catch(_){if(_ instanceof Kv)return Qr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new cg(f,l,u)}catch(_){return Qr(_ instanceof Lo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Am(m.target)){const _=new ft(m.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,an.newNoDocument(_,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=jt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new Mh(t,n,this.Ze,this.je,r);return this.je=rr(),this.He=Yc(),this.Je=Yc(),this.Ze=new Qe(Ot),l}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new h1,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Pe(Ot),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Pe(Ot),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new h1),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Yc(){return new Qe(ft.comparator)}function f1(){return new Qe(ft.comparator)}const f3={asc:"ASCENDING",desc:"DESCENDING"},d3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m3={and:"AND",or:"OR"};class g3{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Rm(s,t){return s.useProto3Json||wh(t)?t:{value:t}}function p3(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _3(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function $a(s){return me(!!s,49232),yt.fromTimestamp((function(n){const r=nr(n);return new xe(r.seconds,r.nanos)})(s))}function y3(s,t){return Nm(s,t).canonicalString()}function Nm(s,t){const n=(function(l){return new de(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function _2(s){const t=de.fromString(s);return me(S2(t),10190,{key:t.toString()}),t}function Jd(s,t){const n=_2(t);if(n.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ft(v2(n))}function y2(s,t){return y3(s.databaseId,t)}function v3(s){const t=_2(s);return t.length===4?de.emptyPath():v2(t)}function d1(s){return new de(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function v2(s){return me(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function E3(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:vt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(me(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(me(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?$.UNKNOWN:m2(p.code);return new ot(E,p.message||"")})(f);n=new p2(r,l,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Jd(s,r.document.name),u=$a(r.document.updateTime),f=r.document.createTime?$a(r.document.createTime):yt.min(),m=new Vi({mapValue:{fields:r.document.fields}}),_=an.newFoundDocument(l,u,f,m),p=r.targetIds||[],E=r.removedTargetIds||[];n=new th(p,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Jd(s,r.document),u=r.readTime?$a(r.readTime):yt.min(),f=an.newNoDocument(l,u),m=r.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Jd(s,r.document),u=r.removedTargetIds||[];n=new th([],u,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new o3(l,u),m=r.targetId;n=new g2(m,f)}}return n}function T3(s,t){return{documents:[y2(s,t.path)]}}function S3(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y2(s,l);const u=(function(p){if(p.length!==0)return T2(Pi.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(R){return{field:Ka(R.field),direction:C3(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Rm(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:l}}function A3(s){let t=v3(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){me(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const R=E2(S);return R instanceof Pi&&e2(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(Z){return new ch(Xa(Z.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,wh(R)?null:R})(n.limit));let _=null;n.startAt&&(_=(function(S){const R=!!S.before,q=S.values||[];return new uh(q,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const R=!S.before,q=S.values||[];return new uh(q,R)})(n.endAt)),jb(t,l,f,u,m,"F",_,p)}function b3(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function E2(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(n.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return ke.create(Xa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Pi.create(n.compositeFilter.filters.map((r=>E2(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(s):vt(30097,{filter:s})}function C3(s){return f3[s]}function w3(s){return d3[s]}function R3(s){return m3[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Xa(s){return dn.fromServerFormat(s.fieldPath)}function T2(s){return s instanceof ke?(function(n){if(n.op==="=="){if(t1(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(W0(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t1(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(W0(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:w3(n.op),value:n.value}}})(s):s instanceof Pi?(function(n){const r=n.getFilters().map((l=>T2(l)));return r.length===1?r[0]:{compositeFilter:{op:R3(n.op),filters:r}}})(s):vt(54877,{filter:s})}function S2(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Gs{constructor(t,n,r,l,u=yt.min(),f=yt.min(),m=en.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class N3{constructor(t){this.yt=t}}function I3(s){const t=A3({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(t,t.limit,"L"):t}class D3{constructor(){this.Sn=new O3}addToCollectionParentIndex(t,n){return this.Sn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(er.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(er.min())}updateCollectionGroup(t,n,r){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class O3{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new Pe(de.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Pe(de.comparator)).toArray()}}const m1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A2=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(A2,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class ol{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ol(0)}static ar(){return new ol(-1)}}const g1="LruGarbageCollector",x3=1048576;function p1([s,t],[n,r]){const l=Ot(s,n);return l===0?Ot(t,r):l}class M3{constructor(t){this.Pr=t,this.buffer=new Pe(p1),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class V3{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(g1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?rt(g1,"Ignoring IndexedDB error during garbage collection: ",n):await bh(n)}await this.Ar(3e5)}))}}class L3{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return X.resolve(Ch.ce);const r=new M3(n);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(m1)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m1):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,l,u,f,m,_,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,m=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(p=Date.now(),Ya()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(_-m)+`ms
	Removed ${S} documents in `+(p-_)+`ms
Total Duration: ${p-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function z3(s,t){return new L3(s,t)}class U3{constructor(){this.changes=new $r((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class k3{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class P3{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&jo(r.mutation,l,Fs.empty(),xe.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=jt()){const l=jr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let f=Vo();return u.forEach(((m,_)=>{f=f.insert(m,_.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=jr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,jt())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,r,l){let u=rr();const f=Bo(),m=(function(){return Bo()})();return n.forEach(((_,p)=>{const E=r.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof xh)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),jo(E.mutation,p,E.mutation.getFieldMask(),xe.now())):f.set(p.key,Fs.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new k3(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=Bo();let l=new Qe(((f,m)=>f-m)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((_=>{const p=n.get(_);if(p===null)return;let E=r.get(_)||Fs.empty();E=m.applyToLocalView(p,E),r.set(_,E);const S=(l.get(m.batchId)||jt()).add(_);l=l.insert(m.batchId,S)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),p=_.key,E=_.value,S=o2();E.forEach((R=>{if(!u.has(R)){const q=f2(n.get(R),r.get(R));q!==null&&S.set(R,q),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,p,S))}return X.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return qb(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Hb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):X.resolve(jr());let m=Zo,_=u;return f.next((p=>X.forEach(p,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{_=_.insert(E,R)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,_,p,jt()))).next((E=>({batchId:m,changes:Kb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next((r=>{let l=Vo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let f=Vo();return this.indexManager.getCollectionParents(t,u).next((m=>X.forEach(m,(_=>{const p=(function(S,R){return new Nh(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,l).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((f=>{u.forEach(((_,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,an.newInvalidDocument(E)))}));let m=Vo();return f.forEach(((_,p)=>{const E=u.get(_);E!==void 0&&jo(E.mutation,p,Fs.empty(),xe.now()),Dh(n,p)&&(m=m.insert(_,p))})),m}))}}class B3{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:$a(l.createTime)}})(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:I3(l.bundledQuery),readTime:$a(l.readTime)}})(n)),X.resolve()}}class j3{constructor(){this.overlays=new Qe(ft.comparator),this.Lr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const r=jr();return X.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.bt(t,n,u)})),X.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(t,n,r){const l=jr(),u=n.length+1,f=new ft(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,p=_.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new Qe(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=u.get(p.largestBatchId);E===null&&(E=jr(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=jr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=l)););return X.resolve(m)}bt(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new l3(n,r));let u=this.Lr.get(n);u===void 0&&(u=jt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class q3{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}class hg{constructor(){this.kr=new Pe(Fe.Kr),this.qr=new Pe(Fe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Fe(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new ft(new de([])),r=new Fe(n,t),l=new Fe(n,t+1),u=[];return this.qr.forEachInRange([r,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ft(new de([])),r=new Fe(n,t),l=new Fe(n,t+1);let u=jt();return this.qr.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Fe(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ft.comparator(t.key,n.key)||Ot(t.Hr,n.Hr)}static Ur(t,n){return Ot(t.Hr,n.Hr)||ft.comparator(t.key,n.key)}}class H3{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pe(Fe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new a3(u,n,r,l);this.mutationQueue.push(f);for(const m of l)this.Jr=this.Jr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(t,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?vb:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),l=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(f=>{const m=this.Zr(f.Hr);u.push(m)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Pe(Ot);return n.forEach((l=>{const u=new Fe(l,0),f=new Fe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;ft.isDocumentKey(u)||(u=u.child(""));const f=new Fe(new ft(u),0);let m=new Pe(Ot);return this.Jr.forEachWhile((_=>{const p=_.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(m=m.add(_.Hr)),!0)}),f),X.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){me(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(n.mutations,(l=>{const u=new Fe(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Fe(n,0),l=this.Jr.firstAfterOrEqual(r);return X.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class F3{constructor(t){this.ti=t,this.docs=(function(){return new Qe(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(t,n){let r=rr();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=rr();const f=n.path,m=new ft(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:p,value:{document:E}}=_.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||gb(mb(E),r)<=0||(l.has(E.key)||Dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(t,n,r,l){vt(9500)}ni(t,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new G3(this)}getSize(t){return X.resolve(this.size)}}class G3 extends U3{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),X.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class Y3{constructor(t){this.persistence=t,this.ri=new $r((n=>rg(n)),ag),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new hg,this.targetCount=0,this.oi=ol._r()}forEachTarget(t,n){return this.ri.forEach(((r,l)=>n(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),X.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ol(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.lr(n),X.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),X.waitFor(u).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return X.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),X.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return X.resolve(r)}containsKey(t,n){return X.resolve(this.si.containsKey(n))}}class b2{constructor(t,n){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new q3,this.referenceDelegate=t(this),this.li=new Y3(this),this.indexManager=new D3,this.remoteDocumentCache=(function(l){return new F3(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new N3(n),this.Pi=new B3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new j3,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new H3(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){rt("MemoryPersistence","Starting transaction:",t);const l=new Q3(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class Q3 extends _b{constructor(t){super(),this.currentSequenceNumber=t}}class fg{constructor(t){this.persistence=t,this.Ri=new hg,this.Ai=null}static Vi(t){return new fg(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),X.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const l=ft.fromPath(r);return this.mi(t,l).next((u=>{u||n.removeEntry(l,yt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class dh{constructor(t,n){this.persistence=t,this.fi=new $r((r=>Eb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=z3(this,n)}static Vi(t,n){return new dh(t,n)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return X.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((u=>u?X.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(r++,u.removeEntry(f,yt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$c(t.data.value)),n}wr(t,n,r){return X.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class dg{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=l}static Es(t,n){let r=jt(),l=jt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new dg(t,n.fromCache,r,l)}}class K3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class X3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return N4()?8:yb(Nv())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new K3;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,r,l){return r.documentReadCount<this.Vs?(Ya()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ya()<=Dt.DEBUG&&rt("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ya()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(n))):X.resolve())}gs(t,n){if(s1(n))return X.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=bm(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=jt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((_=>{const p=this.bs(n,m);return this.Ss(n,p,f,_.readTime)?this.gs(t,bm(n,null,"F")):this.Ds(t,p,n,_)}))))})))))}ps(t,n,r,l){return s1(n)||l.isEqual(yt.min())?X.resolve(null):this.fs.getDocuments(t,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,l)?X.resolve(null):(Ya()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.Ds(t,f,n,db(l,Zo)).next((m=>m)))}))}bs(t,n){let r=new Pe(a2(t));return n.forEach(((l,u)=>{Dh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,r){return Ya()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.fs.getDocumentsMatchingQuery(t,n,er.min(),r)}Ds(t,n,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const mg="LocalStore",Z3=3e8;class J3{constructor(t,n,r,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new Qe(Ot),this.Fs=new $r((u=>rg(u)),ag),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function $3(s,t,n,r){return new J3(s,t,n,r)}async function C2(s,t){const n=Pt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let _=jt();for(const p of l){f.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(r,_).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function w2(s){const t=Pt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function W3(s,t){const n=Pt(s),r=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];t.targetChanges.forEach(((E,S)=>{const R=l.get(S);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let q=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken(en.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),l=l.insert(S,q),(function(W,it,pt){return W.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Z3?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(R,q,E)&&m.push(n.li.updateTargetData(u,q))}));let _=rr(),p=jt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(tC(u,f,t.documentUpdates).next((E=>{_=E.Bs,p=E.Ls}))),!r.isEqual(yt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return X.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,p))).next((()=>_))})).then((u=>(n.vs=l,u)))}function tC(s,t,n){let r=jt(),l=jt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=rr();return n.forEach(((m,_)=>{const p=u.get(m);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(m)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(m,_.readTime),f=f.insert(m,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(_),f=f.insert(m,_)):rt(mg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",_.version)})),{Bs:f,Ls:l}}))}function eC(s,t){const n=Pt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,t).next((u=>u?(l=u,X.resolve(l)):n.li.allocateTargetId(r).next((f=>(l=new Gs(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Im(s,t,n){const r=Pt(s),l=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!pl(f))throw f;rt(mg,`Failed to update sequence numbers for target ${t}: ${f}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function _1(s,t,n){const r=Pt(s);let l=yt.min(),u=jt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,p,E){const S=Pt(_),R=S.Fs.get(E);return R!==void 0?X.resolve(S.vs.get(R)):S.li.getTargetData(p,E)})(r,f,Ui(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((_=>{u=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,n?l:yt.min(),n?u:jt()))).next((m=>(nC(r,Gb(t),m),{documents:m,ks:u})))))}function nC(s,t,n){let r=s.Ms.get(t)||yt.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class y1{constructor(){this.activeTargetIds=Jb()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iC{constructor(){this.vo=new y1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new y1,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class sC{Mo(t){}shutdown(){}}const v1="ConnectivityMonitor";class E1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(v1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(v1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Dm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const $d="RestConnection",rC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,n,r,l,u){const f=Dm(),m=this.Qo(t,n.toUriEncodedString());rt($d,`Sending RPC '${t}' ${f}:`,m,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,u);const{host:p}=new URL(m),E=Jm(p);return this.zo(t,m,_,r,E).then((S=>(rt($d,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Qr($d,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(t,n,r,l,u,f){return this.Wo(t,n,r,l,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const r=rC[t];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class lC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",No=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends aC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Wa.c_){const t=Hv();No(t,qv.STAT_EVENT,(n=>{n.stat===mm.PROXY?rt(sn,"STAT_EVENT: detected buffering proxy"):n.stat===mm.NOPROXY&&rt(sn,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(t,n,r,l,u){const f=Dm();return new Promise(((m,_)=>{const p=new Bv;p.setWithCredentials(!0),p.listenOnce(jv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const S=p.getResponseJson();rt(sn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case Jc.TIMEOUT:rt(sn,`RPC '${t}' ${f} timed out`),_(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const R=p.getStatus();if(rt(sn,`RPC '${t}' ${f} failed with status:`,R,"response text:",p.getResponseText()),R>0){let q=p.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const W=(function(pt){const dt=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN})(Z.status);_(new ot(W,Z.message))}else _(new ot($.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new ot($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{rt(sn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(l);rt(sn,`RPC '${t}' ${f} sending request:`,l),p.send(n,"POST",E,r,15)}))}T_(t,n,r){const l=Dm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const p=u.join("");rt(sn,`Creating RPC '${t}' stream ${l}: ${p}`,m);const E=f.createWebChannel(p,m);this.I_(E);let S=!1,R=!1;const q=new lC({Ho:Z=>{R?rt(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(S||(rt(sn,`Opening RPC '${t}' stream ${l} transport.`),E.open(),S=!0),rt(sn,`RPC '${t}' stream ${l} sending:`,Z),E.send(Z))},Jo:()=>E.close()});return No(E,Mo.EventType.OPEN,(()=>{R||(rt(sn,`RPC '${t}' stream ${l} transport opened.`),q.i_())})),No(E,Mo.EventType.CLOSE,(()=>{R||(R=!0,rt(sn,`RPC '${t}' stream ${l} transport closed`),q.o_(),this.E_(E))})),No(E,Mo.EventType.ERROR,(Z=>{R||(R=!0,Qr(sn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),q.o_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),No(E,Mo.EventType.MESSAGE,(Z=>{if(!R){const W=Z.data[0];me(!!W,16349);const it=W,pt=it?.error||it[0]?.error;if(pt){rt(sn,`RPC '${t}' stream ${l} received error:`,pt);const dt=pt.status;let mt=(function(Vt){const D=Oe[Vt];if(D!==void 0)return m2(D)})(dt),Mt=pt.message;dt==="NOT_FOUND"&&Mt.includes("database")&&Mt.includes("does not exist")&&Mt.includes(this.databaseId.database)&&Qr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),mt===void 0&&(mt=$.INTERNAL,Mt="Unknown error status: "+dt+" with message "+pt.message),R=!0,q.o_(new ot(mt,Mt)),E.close()}else rt(sn,`RPC '${t}' stream ${l} received:`,W),q.__(W)}})),Wa.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Fv()}}function oC(s){return new Wa(s)}function Wd(){return typeof document<"u"?document:null}function R2(s){return new g3(s,!0)}Wa.c_=!1;class N2{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const T1="PersistentStream";class uC{constructor(t,n,r,l,u,f,m,_){this.Ci=t,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N2(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(T1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(rt(T1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cC extends uC{constructor(t,n,r,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=E3(this.serializer,t),r=(function(u){if(!("targetChange"in u))return yt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?yt.min():f.readTime?$a(f.readTime):yt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=d1(this.serializer),n.addTarget=(function(u,f){let m;const _=f.target;if(m=Am(_)?{documents:T3(u,_)}:{query:S3(u,_).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_3(u,f.resumeToken);const p=Rm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(yt.min())>0){m.readTime=p3(u,f.snapshotVersion.toTimestamp());const p=Rm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const r=b3(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=d1(this.serializer),n.removeTarget=t,this.K_(n)}}class hC{}class fC extends hC{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Nm(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot($.UNKNOWN,u.toString())}))}jo(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,Nm(n,r),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dC(s,t,n,r){return new fC(s,t,n,r)}class mC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ul="RemoteStore";class gC{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{lu(this)&&(rt(ul,"Restarting streams for network reachability change."),await(async function(_){const p=Pt(_);p.Ea.add(4),await au(p),p.Va.set("Unknown"),p.Ea.delete(4),await Vh(p)})(this))}))})),this.Va=new mC(r,l)}}async function Vh(s){if(lu(s))for(const t of s.Ra)await t(!0)}async function au(s){for(const t of s.Ra)await t(!1)}function I2(s,t){const n=Pt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),yg(n)?_g(n):_l(n).O_()&&pg(n,t))}function gg(s,t){const n=Pt(s),r=_l(n);n.Ia.delete(t),r.O_()&&D2(n,t),n.Ia.size===0&&(r.O_()?r.L_():lu(n)&&n.Va.set("Unknown"))}function pg(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_l(s).Z_(t)}function D2(s,t){s.da.$e(t),_l(s).X_(t)}function _g(s){s.da=new h3({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),_l(s).start(),s.Va.ua()}function yg(s){return lu(s)&&!_l(s).x_()&&s.Ia.size>0}function lu(s){return Pt(s).Ea.size===0}function O2(s){s.da=void 0}async function pC(s){s.Va.set("Online")}async function _C(s){s.Ia.forEach(((t,n)=>{pg(s,t)}))}async function yC(s,t){O2(s),yg(s)?(s.Va.ha(t),_g(s)):s.Va.set("Unknown")}async function vC(s,t,n){if(s.Va.set("Online"),t instanceof p2&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.da.removeTarget(m))})(s,t)}catch(r){rt(ul,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await S1(s,r)}else if(t instanceof th?s.da.Xe(t):t instanceof g2?s.da.st(t):s.da.tt(t),!n.isEqual(yt.min()))try{const r=await w2(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(_.resumeToken,f))}})),m.targetMismatches.forEach(((_,p)=>{const E=u.Ia.get(_);if(!E)return;u.Ia.set(_,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),D2(u,_);const S=new Gs(E.target,_,p,E.sequenceNumber);pg(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){rt(ul,"Failed to raise snapshot:",r),await S1(s,r)}}async function S1(s,t,n){if(!pl(t))throw t;s.Ea.add(1),await au(s),s.Va.set("Offline"),n||(n=()=>w2(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(ul,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Vh(s)}))}async function A1(s,t){const n=Pt(s);n.asyncQueue.verifyOperationInProgress(),rt(ul,"RemoteStore received new credentials");const r=lu(n);n.Ea.add(3),await au(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Vh(n)}async function EC(s,t){const n=Pt(s);t?(n.Ea.delete(2),await Vh(n)):t||(n.Ea.add(2),await au(n),n.Va.set("Unknown"))}function _l(s){return s.ma||(s.ma=(function(n,r,l){const u=Pt(n);return u.sa(),new cC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:pC.bind(null,s),Yo:_C.bind(null,s),t_:yC.bind(null,s),J_:vC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),yg(s)?_g(s):s.Va.set("Unknown")):(await s.ma.stop(),O2(s))}))),s.ma}class vg{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const f=Date.now()+r,m=new vg(t,n,f,l,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x2(s,t){if(us("AsyncQueue",`${t}: ${s}`),pl(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class tl{static emptySet(t){return new tl(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=Vo(),this.sortedSet=new Qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof tl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new tl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class b1{constructor(){this.ga=new Qe(ft.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class cl{constructor(t,n,r,l,u,f,m,_,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new cl(t,n,tl.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class TC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class SC{constructor(){this.queries=C1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Pt(n),u=l.queries;l.queries=C1(),u.forEach(((f,m)=>{for(const _ of m.ba)_.onError(r)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function C1(){return new $r((s=>r2(s)),Ih)}async function AC(s,t){const n=Pt(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(r=2):(u=new TC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=x2(f,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Eg(n)}async function bC(s,t){const n=Pt(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CC(s,t){const n=Pt(s);let r=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(l)&&(r=!0);f.wa=l}}r&&Eg(n)}function wC(s,t,n){const r=Pt(s),l=r.queries.get(t);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(t)}function Eg(s){s.Ca.forEach((t=>{t.next()}))}var Om,w1;(w1=Om||(Om={})).Ma="default",w1.Cache="cache";class RC{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new cl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Om.Cache}}class M2{constructor(t){this.key=t}}class V2{constructor(t){this.key=t}}class NC{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=a2(t),this.tu=new tl(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new b1,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const R=l.get(E),q=Dh(this.query,S)?S:null,Z=!!R&&this.mutatedKeys.has(R.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let it=!1;R&&q?R.data.isEqual(q.data)?Z!==W&&(r.track({type:3,doc:q}),it=!0):this.su(R,q)||(r.track({type:2,doc:q}),it=!0,(_&&this.eu(q,_)>0||p&&this.eu(q,p)<0)&&(m=!0)):!R&&q?(r.track({type:0,doc:q}),it=!0):R&&!q&&(r.track({type:1,doc:R}),it=!0,(_||p)&&(m=!0)),it&&(q?(f=f.add(q),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(q,Z){const W=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:it})}};return W(q)-W(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),l=l??!1;const m=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,p=_!==this.Xa;return this.Xa=_,f.length!==0||p?{snapshot:new cl(this.query,t.tu,u,f,t.mutatedKeys,_===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new V2(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new M2(r))})),n}cu(t){this.Za=t.ks,this.Ya=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tg="SyncEngine";class IC{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class DC{constructor(t){this.key=t,this.hu=!1}}class OC{constructor(t,n,r,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new $r((m=>r2(m)),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qe(ft.comparator),this.Au=new Map,this.Vu=new hg,this.du={},this.mu=new Map,this.fu=ol.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xC(s,t,n=!0){const r=P2(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await L2(r,t,n,!0),l}async function MC(s,t){const n=P2(s);await L2(n,t,!0,!1)}async function L2(s,t,n,r){const l=await eC(s.localStore,Ui(t)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await VC(s,t,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&I2(s.remoteStore,l),m}async function VC(s,t,n,r,l){s.pu=(S,R,q)=>(async function(W,it,pt,dt){let mt=it.view.ru(pt);mt.Ss&&(mt=await _1(W.localStore,it.query,!1).then((({documents:D})=>it.view.ru(D,mt))));const Mt=dt&&dt.targetChanges.get(it.targetId),ie=dt&&dt.targetMismatches.get(it.targetId)!=null,Vt=it.view.applyChanges(mt,W.isPrimaryClient,Mt,ie);return N1(W,it.targetId,Vt.au),Vt.snapshot})(s,S,R,q);const u=await _1(s.localStore,t,!0),f=new NC(t,u.ks),m=f.ru(u.documents),_=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),p=f.applyChanges(m,s.isPrimaryClient,_);N1(s,n,p.au);const E=new IC(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),p.snapshot}async function LC(s,t,n){const r=Pt(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!Ih(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&gg(r.remoteStore,l.targetId),xm(r,l.targetId)})).catch(bh)):(xm(r,l.targetId),await Im(r.localStore,l.targetId,!0))}async function zC(s,t){const n=Pt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gg(n.remoteStore,r.targetId))}async function z2(s,t){const n=Pt(s);try{const r=await W3(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?me(f.hu,14607):l.removedDocuments.size>0&&(me(f.hu,42227),f.hu=!1))})),await k2(n,r,t)}catch(r){await bh(r)}}function R1(s,t,n){const r=Pt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const _=Pt(f);_.onlineState=m;let p=!1;_.queries.forEach(((E,S)=>{for(const R of S.ba)R.va(m)&&(p=!0)})),p&&Eg(_)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function UC(s,t,n){const r=Pt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let f=new Qe(ft.comparator);f=f.insert(u,an.newNoDocument(u,yt.min()));const m=jt().add(u),_=new Mh(yt.min(),new Map,new Qe(Ot),f,m);await z2(r,_),r.Ru=r.Ru.remove(u),r.Au.delete(t),Sg(r)}else await Im(r.localStore,t,!1).then((()=>xm(r,t,n))).catch(bh)}function xm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||U2(s,r)}))}function U2(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(gg(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),Sg(s))}function N1(s,t,n){for(const r of n)r instanceof M2?(s.Vu.addReference(r.key,t),kC(s,r)):r instanceof V2?(rt(Tg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||U2(s,r.key)):vt(19791,{wu:r})}function kC(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(rt(Tg,"New document in limbo: "+n),s.Eu.add(r),Sg(s))}function Sg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ft(de.fromString(t)),r=s.fu.next();s.Au.set(r,new DC(n)),s.Ru=s.Ru.insert(n,r),I2(s.remoteStore,new Gs(Ui(lg(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function k2(s,t,n){const r=Pt(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,_)=>{f.push(r.pu(_,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(p){l.push(p);const E=dg.Es(_.targetId,p);u.push(E)}})))})),await Promise.all(f),r.Pu.J_(l),await(async function(_,p){const E=Pt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(p,(R=>X.forEach(R.Ts,(q=>E.persistence.referenceDelegate.addReference(S,R.targetId,q))).next((()=>X.forEach(R.Is,(q=>E.persistence.referenceDelegate.removeReference(S,R.targetId,q)))))))))}catch(S){if(!pl(S))throw S;rt(mg,"Failed to update sequence numbers: "+S)}for(const S of p){const R=S.targetId;if(!S.fromCache){const q=E.vs.get(R),Z=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(Z);E.vs=E.vs.insert(R,W)}}})(r.localStore,u))}async function PC(s,t){const n=Pt(s);if(!n.currentUser.isEqual(t)){rt(Tg,"User change. New user:",t.toKey());const r=await C2(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((_=>{_.reject(new ot($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await k2(n,r.Ns)}}function BC(s,t){const n=Pt(s),r=n.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let l=jt();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function P2(s){const t=Pt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=z2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UC.bind(null,t),t.Pu.J_=CC.bind(null,t.eventManager),t.Pu.yu=wC.bind(null,t.eventManager),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=R2(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return $3(this.persistence,new X3,t.initialUser,this.serializer)}Cu(t){return new b2(fg.Vi,this.serializer)}Du(t){return new iC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class jC extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){me(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new V3(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new b2((r=>dh.Vi(r,n)),this.serializer)}}class Mm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PC.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SC})()}createDatastore(t){const n=R2(t.databaseInfo.databaseId),r=oC(t.databaseInfo);return dC(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,f,m){return new gC(r,l,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>R1(this.syncEngine,n,0)),(function(){return E1.v()?new E1:new sC})())}createSyncEngine(t,n){return(function(l,u,f,m,_,p,E){const S=new OC(l,u,f,m,_,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Pt(n);rt(ul,"RemoteStore shutting down."),r.Ea.add(5),await au(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class qC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ar="FirestoreClient";class HC{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{rt(ar,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(rt(ar,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=x2(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function tm(s,t){s.asyncQueue.verifyOperationInProgress(),rt(ar,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await C2(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function I1(s,t){s.asyncQueue.verifyOperationInProgress();const n=await FC(s);rt(ar,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>A1(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>A1(t.remoteStore,l))),s._onlineComponents=t}async function FC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(ar,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Qr("Error using user provided cache. Falling back to memory cache: "+n),await tm(s,new mh)}}else rt(ar,"Using default OfflineComponentProvider"),await tm(s,new jC(void 0));return s._offlineComponents}async function GC(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(ar,"Using user provided OnlineComponentProvider"),await I1(s,s._uninitializedComponentsProvider._online)):(rt(ar,"Using default OnlineComponentProvider"),await I1(s,new Mm))),s._onlineComponents}async function YC(s){const t=await GC(s),n=t.eventManager;return n.onListen=xC.bind(null,t.syncEngine),n.onUnlisten=LC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=MC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zC.bind(null,t.syncEngine),n}function QC(s,t,n={}){const r=new Hr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,_,p){const E=new qC({next:R=>{E.Nu(),f.enqueueAndForget((()=>bC(u,S)));const q=R.docs.has(m);!q&&R.fromCache?p.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&R.fromCache&&_&&_.source==="server"?p.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),S=new RC(lg(m.path),E,{includeMetadataChanges:!0,Ka:!0});return AC(u,S)})(await YC(s),s.asyncQueue,t,n,r))),r.promise}function B2(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const KC="ComponentProvider",D1=new Map;function XC(s,t,n,r,l){return new bb(s,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,B2(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const j2="firestore.googleapis.com",O1=!0;class x1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j2,this.ssl=O1}else this.host=t.host,this.ssl=t.ssl??O1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=A2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<x3)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B2(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ag{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WA;switch(r.type){case"firstParty":return new ib(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=D1.get(n);r&&(rt(KC,"Removing Datastore"),D1.delete(n),r.terminate())})(this),Promise.resolve()}}function ZC(s,t,n,r={}){s=pm(s,Ag);const l=Jm(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;l&&(E4(`https://${m}`),b4("Firestore",!0)),u.host!==j2&&u.host!==m&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:m,ssl:l,emulatorOptions:r};if(!ah(_,f)&&(s._setSettings(_),r.mockUserToken)){let p,E;if(typeof r.mockUserToken=="string")p=r.mockUserToken,E=rn.MOCK_USER;else{p=T4(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(S)}s._authCredentials=new tb(new Yv(p,E))}}class bg{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new bg(this.firestore,t,this._query)}}class mn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(iu(n,mn._jsonSchema))return new mn(t,r||null,new ft(de.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:Me("string",mn._jsonSchemaVersion),referencePath:Me("string")};class tu extends bg{constructor(t,n,r){super(t,n,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new ft(t))}withConverter(t){return new tu(this.firestore,t,this._path)}}function JC(s,t,...n){if(s=$m(s),arguments.length===1&&(t=ng.newId()),ub("doc","path",t),s instanceof Ag){const r=de.fromString(t,...n);return G0(r),new mn(s,null,new ft(r))}{if(!(s instanceof mn||s instanceof tu))throw new ot($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(de.fromString(t,...n));return G0(r),new mn(s.firestore,s instanceof tu?s.converter:null,new ft(r))}}const M1="AsyncQueue";class V1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N2(this,"async_queue_retry"),this._c=()=>{const r=Wd();r&&rt(M1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!pl(t))throw t;rt(M1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",L1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=vg.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:L1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function L1(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class q2 extends Ag{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new V1,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new V1(t),this._firestoreClient=void 0,await t}}}function $C(s,t){const n=typeof s=="object"?s:PA(),r=typeof s=="string"?s:oh,l=zA(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=v4("firestore");u&&ZC(l,...u)}return l}function WC(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||t6(s),s._firestoreClient}function t6(s){const t=s._freezeSettings(),n=XC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new HC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Li{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Li(en.fromBase64String(t))}catch(n){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Li(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(iu(t,Li._jsonSchema))return Li.fromBase64String(t.bytes)}}Li._jsonSchemaVersion="firestore/bytes/1.0",Li._jsonSchema={type:Me("string",Li._jsonSchemaVersion),bytes:Me("string")};class H2{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class $s{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$s._jsonSchemaVersion}}static fromJSON(t){if(iu(t,$s._jsonSchema))return new $s(t.latitude,t.longitude)}}$s._jsonSchemaVersion="firestore/geoPoint/1.0",$s._jsonSchema={type:Me("string",$s._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class Ws{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(iu(t,Ws._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ws(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ws._jsonSchemaVersion="firestore/vectorValue/1.0",Ws._jsonSchema={type:Me("string",Ws._jsonSchemaVersion),vectorValues:Me("object")};function F2(s,t,n){if((t=$m(t))instanceof H2)return t._internalPath;if(typeof t=="string")return n6(s,t);throw Vm("Field path arguments must be of type string or ",s)}const e6=new RegExp("[~\\*/\\[\\]]");function n6(s,t,n){if(t.search(e6)>=0)throw Vm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new H2(...t.split("."))._internalPath}catch{throw Vm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Vm(s,t,n,r,l){let u=`Function ${t}() called with invalid data`;u+=". ";let f="";return new ot($.INVALID_ARGUMENT,u+s+f)}class i6{convertValue(t,n="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return su(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[vm].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new Ws(n)}convertGeoPoint(t){return new $s(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Rh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jo(t));default:return null}}convertTimestamp(t){const n=nr(t);return new xe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=de.fromString(t);me(S2(r),9688,{name:t});const l=new $o(r.get(1),r.get(3)),u=new ft(r.popFirst(5));return l.isEqual(n)||us(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class s6 extends i6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Li(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,n)}}const z1="@firebase/firestore",U1="4.11.0";class G2{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new r6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(F2("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r6 extends G2{data(){return super.data()}}class zo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends G2{constructor(t,n,r,l,u,f){super(t,n,r,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(F2("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Me("string",Gr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class eh extends Gr{data(t={}){return super.data(t)}}class qo{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new zo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const _=new eh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new zo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const _=new eh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new zo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:a6(m.type),doc:_,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function a6(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Me("string",qo._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function l6(s){s=pm(s,mn);const t=pm(s.firestore,q2),n=WC(t);return QC(n,s._key).then((r=>o6(t,s,r)))}function o6(s,t,n){const r=n.docs.get(t._key),l=new s6(s);return new Gr(s,l,t._key,r,new zo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){$A(Lv),Ko(new sl("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new q2(new eb(r.getProvider("auth-internal")),new sb(f,r.getProvider("app-check-internal")),Cb(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xs(z1,U1,t),Xs(z1,U1,"esm2020")})();const u6={apiKey:"AIzaSyApo7T486mxPBuFFAOTKa13ktiDoz_Ww-4",authDomain:"act1maamrich.firebaseapp.com",projectId:"act1maamrich",storageBucket:"act1maamrich.firebasestorage.app",messagingSenderId:"722768316793",appId:"1:722768316793:web:bcef9477e003349c7807a8",measurementId:"G-JRPXB6C4ZF"},c6=zv(u6),h6=$C(c6),f6=async s=>{try{const t=JC(h6,"socialLinks",s),n=await l6(t);return n.exists()?n.data().links:null}catch(t){throw console.error("Error loading from Firestore:",t),t}};var k1={};const P1="@firebase/database",B1="1.1.0";let Y2="";function d6(s){Y2=s}class m6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Qo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class g6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return cs(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Q2=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new m6(t)}}catch{}return new g6},qr=Q2("localStorage"),p6=Q2("sessionStorage");const el=new Wm("@firebase/database"),_6=(function(){let s=1;return function(){return s++}})(),K2=function(s){const t=P4(s),n=new U4;n.update(t);const r=n.digest();return Km.encodeByteArray(r)},ou=function(...s){let t="";for(let n=0;n<s.length;n++){const r=s[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ou.apply(null,r):typeof r=="object"?t+=tn(r):t+=r,t+=" "}return t};let Ho=null,j1=!0;const y6=function(s,t){nt(!0,"Can't turn on custom loggers persistently."),el.logLevel=Dt.VERBOSE,Ho=el.log.bind(el)},ln=function(...s){if(j1===!0&&(j1=!1,Ho===null&&p6.get("logging_enabled")===!0&&y6()),Ho){const t=ou.apply(null,s);Ho(t)}},uu=function(s){return function(...t){ln(s,...t)}},Lm=function(...s){const t="FIREBASE INTERNAL ERROR: "+ou(...s);el.error(t)},Kr=function(...s){const t=`FIREBASE FATAL ERROR: ${ou(...s)}`;throw el.error(t),new Error(t)},Vn=function(...s){const t="FIREBASE WARNING: "+ou(...s);el.warn(t)},v6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},X2=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},E6=function(s){if(document.readyState==="complete")s();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hl="[MIN_NAME]",Xr="[MAX_NAME]",yl=function(s,t){if(s===t)return 0;if(s===hl||t===Xr)return-1;if(t===hl||s===Xr)return 1;{const n=q1(s),r=q1(t);return n!==null?r!==null?n-r===0?s.length-t.length:n-r:-1:r!==null?1:s<t?-1:1}},T6=function(s,t){return s===t?0:s<t?-1:1},Io=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+tn(t))},Cg=function(s){if(typeof s!="object"||s===null)return tn(s);const t=[];for(const r in s)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=tn(t[r]),n+=":",n+=Cg(s[t[r]]);return n+="}",n},Z2=function(s,t){const n=s.length;if(n<=t)return[s];const r=[];for(let l=0;l<n;l+=t)l+t>n?r.push(s.substring(l,n)):r.push(s.substring(l,l+t));return r};function Xn(s,t){for(const n in s)s.hasOwnProperty(n)&&t(n,s[n])}const J2=function(s){nt(!X2(s),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let l,u,f,m,_;s===0?(u=0,f=0,l=1/s===-1/0?1:0):(l=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=m+r,f=Math.round(s*Math.pow(2,n-m)-Math.pow(2,n))):(u=0,f=Math.round(s/Math.pow(2,1-r-n))));const p=[];for(_=n;_;_-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(_=t;_;_-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(l?1:0),p.reverse();const E=p.join("");let S="";for(_=0;_<64;_+=8){let R=parseInt(E.substr(_,8),2).toString(16);R.length===1&&(R="0"+R),S=S+R}return S.toLowerCase()},S6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},A6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},b6=new RegExp("^-?(0*)\\d{1,10}$"),C6=-2147483648,w6=2147483647,q1=function(s){if(b6.test(s)){const t=Number(s);if(t>=C6&&t<=w6)return t}return null},cu=function(s){try{s()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Vn("Exception was thrown by user callback.",n),t},Math.floor(0))}},R6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fo=function(s,t){const n=setTimeout(s,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class N6{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Vv(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Vn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class I6{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vn(t)}}const wg="5",$2="v",W2="s",tE="r",eE="f",nE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iE="ls",sE="p",zm="ac",rE="websocket",aE="long_polling";class D6{constructor(t,n,r,l,u=!1,f="",m=!1,_=!1,p=null){this.secure=n,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=_,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&qr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function O6(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function lE(s,t,n){nt(typeof t=="string","typeof type must == string"),nt(typeof n=="object","typeof params must == object");let r;if(t===rE)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===aE)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);O6(s)&&(n.ns=s.namespace);const l=[];return Xn(n,(u,f)=>{l.push(u+"="+f)}),r+l.join("&")}class x6{constructor(){this.counters_={}}incrementCounter(t,n=1){cs(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return f4(this.counters_)}}const em={},nm={};function Rg(s){const t=s.toString();return em[t]||(em[t]=new x6),em[t]}function M6(s,t){const n=s.toString();return nm[n]||(nm[n]=t()),nm[n]}class V6{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&cu(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const H1="start",L6="close",z6="pLPCommand",U6="pRTLPCB",oE="id",uE="pw",cE="ser",k6="cb",P6="seg",B6="ts",j6="d",q6="dframe",hE=1870,fE=30,H6=hE-fE,F6=25e3,G6=3e4;class Za{constructor(t,n,r,l,u,f,m){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uu(t),this.stats_=Rg(n),this.urlFn=_=>(this.appCheckToken&&(_[zm]=this.appCheckToken),lE(n,aE,_))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new V6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(G6)),E6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ng((...u)=>{const[f,m,_,p,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===H1)this.id=m,this.password=_;else if(f===L6)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[H1]="t",r[cE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[k6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$2]=wg,this.transportSessionId&&(r[W2]=this.transportSessionId),this.lastSessionId&&(r[iE]=this.lastSessionId),this.applicationId&&(r[sE]=this.applicationId),this.appCheckToken&&(r[zm]=this.appCheckToken),typeof location<"u"&&location.hostname&&nE.test(location.hostname)&&(r[tE]=eE);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Za.forceAllow_=!0}static forceDisallow(){Za.forceDisallow_=!0}static isAvailable(){return Za.forceAllow_?!0:!Za.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!S6()&&!A6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=tn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Cv(n),l=Z2(r,H6);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[q6]="t",r[oE]=t,r[uE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=tn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ng{constructor(t,n,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_6(),window[z6+this.uniqueCallbackIdentifier]=t,window[U6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ng.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){ln("frame writing exception"),m.stack&&ln(m.stack),ln(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ln("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[oE]=this.myID,t[uE]=this.myPW,t[cE]=this.currentSerial;let n=this.urlFn(t),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fE+r.length<=hE;){const f=this.pendingSegs.shift();r=r+"&"+P6+l+"="+f.seg+"&"+B6+l+"="+f.ts+"&"+j6+l+"="+f.d,l++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(r,Math.floor(F6)),u=()=>{clearTimeout(l),r()};this.addTag(t,u)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ln("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const Y6=16384,Q6=45e3;let gh=null;typeof MozWebSocket<"u"?gh=MozWebSocket:typeof WebSocket<"u"&&(gh=WebSocket);class oi{constructor(t,n,r,l,u,f,m){this.connId=t,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uu(this.connId),this.stats_=Rg(n),this.connURL=oi.connectionURL_(n,f,m,l,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,l,u){const f={};return f[$2]=wg,typeof location<"u"&&location.hostname&&nE.test(location.hostname)&&(f[tE]=eE),n&&(f[W2]=n),r&&(f[iE]=r),l&&(f[zm]=l),u&&(f[sE]=u),lE(t,rE,f)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qr.set("previous_websocket_failure",!0);try{let r;R4(),this.mySock=new gh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){oi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&gh!==null&&!oi.forceDisallow_}static previouslyFailed(){return qr.isInMemoryStorage||qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){qr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qo(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(nt(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=tn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Z2(n,Y6);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Q6))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}oi.responsesRequiredToBeHealthy=2;oi.healthyTimeout=3e4;class eu{static get ALL_TRANSPORTS(){return[Za,oi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=oi&&oi.isAvailable();let r=n&&!oi.previouslyFailed();if(t.webSocketOnly&&(n||Vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[oi];else{const l=this.transports_=[];for(const u of eu.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);eu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}eu.globalTransportInitialized_=!1;const K6=6e4,X6=5e3,Z6=10*1024,J6=100*1024,im="t",F1="d",$6="s",G1="r",W6="e",Y1="o",Q1="a",K1="n",X1="p",tw="h";class ew{constructor(t,n,r,l,u,f,m,_,p,E){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=_,this.onKill_=p,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uu("c:"+this.id+":"),this.transportManager_=new eu(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>J6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Z6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(im in t){const n=t[im];n===Q1?this.upgradeIfSecondaryHealthy_():n===G1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Y1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Io("t",t),r=Io("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:X1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Q1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:K1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Io("t",t),r=Io("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Io(im,t);if(F1 in t){const r=t[F1];if(n===tw){const l={...r};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===K1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$6?this.onConnectionShutdown_(r):n===G1?this.onReset_(r):n===W6?Lm("Server Error: "+r):n===Y1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lm("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wg!==r&&Vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(K6))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(X6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:X1,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class dE{put(t,n,r,l){}merge(t,n,r,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class mE{constructor(t){this.allowedEvents_=t,this.listeners_={},nt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const l=this.getInitialEvent(t);l&&n.apply(r,l)}off(t,n,r){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!r||r===l[u].context)){l.splice(u,1);return}}validateEventType_(t){nt(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class ph extends mE{static getInstance(){return new ph}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Iv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return nt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Z1=32,J1=768;class oe{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ee(){return new oe("")}function Ut(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function lr(s){return s.pieces_.length-s.pieceNum_}function le(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new oe(s.pieces_,t)}function gE(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function nw(s){let t="";for(let n=s.pieceNum_;n<s.pieces_.length;n++)s.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[n])));return t||"/"}function pE(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function _E(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let n=s.pieceNum_;n<s.pieces_.length-1;n++)t.push(s.pieces_[n]);return new oe(t,0)}function Ye(s,t){const n=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)n.push(s.pieces_[r]);if(t instanceof oe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&n.push(r[l])}return new oe(n,0)}function xt(s){return s.pieceNum_>=s.pieces_.length}function Kn(s,t){const n=Ut(s),r=Ut(t);if(n===null)return t;if(n===r)return Kn(le(s),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function yE(s,t){if(lr(s)!==lr(t))return!1;for(let n=s.pieceNum_,r=t.pieceNum_;n<=s.pieces_.length;n++,r++)if(s.pieces_[n]!==t.pieces_[r])return!1;return!0}function ui(s,t){let n=s.pieceNum_,r=t.pieceNum_;if(lr(s)>lr(t))return!1;for(;n<s.pieces_.length;){if(s.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class iw{constructor(t,n){this.errorPrefix_=n,this.parts_=pE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ah(this.parts_[r]);vE(this)}}function sw(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Ah(t),vE(s)}function rw(s){const t=s.parts_.pop();s.byteLength_-=Ah(t),s.parts_.length>0&&(s.byteLength_-=1)}function vE(s){if(s.byteLength_>J1)throw new Error(s.errorPrefix_+"has a key path longer than "+J1+" bytes ("+s.byteLength_+").");if(s.parts_.length>Z1)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Z1+") or object contains a cycle "+Br(s))}function Br(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class Ig extends mE{static getInstance(){return new Ig}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return nt(t==="visible","Unknown event type: "+t),[this.visible_]}}const Do=1e3,aw=300*1e3,$1=30*1e3,lw=1.3,ow=3e4,uw="server_kill",W1=3;class ls extends dE{constructor(t,n,r,l,u,f,m,_){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=ls.nextPersistentConnectionId_++,this.log_=uu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Do,this.maxReconnectDelay_=aw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ig.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&ph.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const l=++this.requestNumber_,u={r:l,a:t,b:n};this.log_(tn(u)),nt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(t){this.initConnection_();const n=new Zm,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const m=f.d;f.s==="ok"?n.resolve(m):n.reject(m)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(t,n,r,l){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),nt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),nt(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:l,hashFn:n,query:t,tag:r};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r},f="q";t.tag&&(u.q=n._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(f,u,m=>{const _=m.d,p=m.s;ls.warnOnListenWarnings_(_,n),(this.listens.get(r)&&this.listens.get(r).get(l))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(r,l),t.onComplete&&t.onComplete(p,_))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&cs(t,"w")){const r=il(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||L4(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$1)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=V4(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,l=>{const u=l.s,f=l.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),nt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,t._queryObject,n)}sendUnlisten_(t,n,r,l){this.log_("Unlisten on "+t+" for "+n);const u={p:t},f="n";l&&(u.q=r,u.t=l),this.sendRequest(f,u)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,l){const u={p:n,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(t,n,r,l){this.putInternal("p",t,n,r,l)}merge(t,n,r,l){this.putInternal("m",t,n,r,l)}putInternal(t,n,r,l,u){this.initConnection_();const f={p:n,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:l}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tn(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Lm("Unrecognized action received from server: "+tn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){nt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ow&&(this.reconnectDelay_=Do),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+ls.nextConnectionId_++,u=this.lastSessionId;let f=!1,m=null;const _=function(){m?m.close():(f=!0,r())},p=function(S){nt(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(S)};this.realtime_={close:_,sendRequest:p};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,R]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);f?ln("getToken() completed but was canceled"):(ln("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=R&&R.token,m=new ew(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,q=>{Vn(q+" ("+this.repoInfo_.toString()+")"),this.interrupt(uw)},u))}catch(S){this.log_("Failed to get token: "+S),f||(this.repoInfo_.nodeAdmin&&Vn(S),_())}}}interrupt(t){ln("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ln("Resuming connection for reason: "+t),delete this.interruptReasons_[t],x0(this.interruptReasons_)&&(this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(u=>Cg(u)).join("$"):r="default";const l=this.removeListen_(t,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const r=new oe(t).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(t,n){ln("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=W1&&(this.reconnectDelay_=$1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ln("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=W1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Y2.replace(/\./g,"-")]=1,Iv()?t["framework.cordova"]=1:w4()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ph.getInstance().currentlyOnline();return x0(this.interruptReasons_)&&t}}ls.nextPersistentConnectionId_=0;ls.nextConnectionId_=0;class kt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new kt(t,n)}}class Lh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new kt(hl,t),l=new kt(hl,n);return this.compare(r,l)!==0}minPost(){return kt.MIN}}let Kc;class EE extends Lh{static get __EMPTY_NODE(){return Kc}static set __EMPTY_NODE(t){Kc=t}compare(t,n){return yl(t.name,n.name)}isDefinedOn(t){throw dl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return kt.MIN}maxPost(){return new kt(Xr,Kc)}makePost(t,n){return nt(typeof t=="string","KeyIndex indexValue must always be a string."),new kt(t,Kc)}toString(){return".key"}}const nl=new EE;class Xc{constructor(t,n,r,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=n?r(t.key,n):1,l&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ge{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Ge.RED,this.left=l??bn.EMPTY_NODE,this.right=u??bn.EMPTY_NODE}copy(t,n,r,l,u){return new Ge(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return bn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,l;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return bn.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class cw{copy(t,n,r,l,u){return this}insert(t,n,r){return new Ge(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bn{constructor(t,n=bn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new bn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(t){return new bn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,l=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Xc(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Xc(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Xc(this.root_,null,this.comparator_,!0,t)}}bn.EMPTY_NODE=new cw;function hw(s,t){return yl(s.name,t.name)}function Dg(s,t){return yl(s,t)}let Um;function fw(s){Um=s}const TE=function(s){return typeof s=="number"?"number:"+J2(s):"string:"+s},SE=function(s){if(s.isLeafNode()){const t=s.val();nt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&cs(t,".sv"),"Priority must be a string or number.")}else nt(s===Um||s.isEmpty(),"priority of unexpected type.");nt(s===Um||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let tv;class He{static set __childrenNodeConstructor(t){tv=t}static get __childrenNodeConstructor(){return tv}constructor(t,n=He.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,nt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),SE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new He(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xt(t)?this:Ut(t)===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:He.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Ut(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(nt(r!==".priority"||lr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,He.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+TE(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=J2(this.value_):t+=this.value_,this.lazyHash_=K2(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===He.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof He.__childrenNodeConstructor?-1:(nt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,l=He.VALUE_TYPE_ORDER.indexOf(n),u=He.VALUE_TYPE_ORDER.indexOf(r);return nt(l>=0,"Unknown leaf type: "+n),nt(u>=0,"Unknown leaf type: "+r),l===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}He.VALUE_TYPE_ORDER=["object","boolean","number","string"];let AE,bE;function dw(s){AE=s}function mw(s){bE=s}class gw extends Lh{compare(t,n){const r=t.node.getPriority(),l=n.node.getPriority(),u=r.compareTo(l);return u===0?yl(t.name,n.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(Xr,new He("[PRIORITY-POST]",bE))}makePost(t,n){const r=AE(t);return new kt(n,new He("[PRIORITY-POST]",r))}toString(){return".priority"}}const un=new gw;const pw=Math.log(2);class _w{constructor(t){const n=u=>parseInt(Math.log(u)/pw,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=r(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const _h=function(s,t,n,r){s.sort(t);const l=function(_,p){const E=p-_;let S,R;if(E===0)return null;if(E===1)return S=s[_],R=n?n(S):S,new Ge(R,S.node,Ge.BLACK,null,null);{const q=parseInt(E/2,10)+_,Z=l(_,q),W=l(q+1,p);return S=s[q],R=n?n(S):S,new Ge(R,S.node,Ge.BLACK,Z,W)}},u=function(_){let p=null,E=null,S=s.length;const R=function(Z,W){const it=S-Z,pt=S;S-=Z;const dt=l(it+1,pt),mt=s[it],Mt=n?n(mt):mt;q(new Ge(Mt,mt.node,W,null,dt))},q=function(Z){p?(p.left=Z,p=Z):(E=Z,p=Z)};for(let Z=0;Z<_.count;++Z){const W=_.nextBitIsOne(),it=Math.pow(2,_.count-(Z+1));W?R(it,Ge.BLACK):(R(it,Ge.BLACK),R(it,Ge.RED))}return E},f=new _w(s.length),m=u(f);return new bn(r||t,m)};let sm;const Ga={};class as{static get Default(){return nt(Ga&&un,"ChildrenNode.ts has not been loaded"),sm=sm||new as({".priority":Ga},{".priority":un}),sm}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=il(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof bn?n:null}hasIndex(t){return cs(this.indexSet_,t.toString())}addIndex(t,n){nt(t!==nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const u=n.getIterator(kt.Wrap);let f=u.getNext();for(;f;)l=l||t.isDefinedOn(f.node),r.push(f),f=u.getNext();let m;l?m=_h(r,t.getCompare()):m=Ga;const _=t.toString(),p={...this.indexSet_};p[_]=t;const E={...this.indexes_};return E[_]=m,new as(E,p)}addToIndexes(t,n){const r=rh(this.indexes_,(l,u)=>{const f=il(this.indexSet_,u);if(nt(f,"Missing index implementation for "+u),l===Ga)if(f.isDefinedOn(t.node)){const m=[],_=n.getIterator(kt.Wrap);let p=_.getNext();for(;p;)p.name!==t.name&&m.push(p),p=_.getNext();return m.push(t),_h(m,f.getCompare())}else return Ga;else{const m=n.get(t.name);let _=l;return m&&(_=_.remove(new kt(t.name,m))),_.insert(t,t.node)}});return new as(r,this.indexSet_)}removeFromIndexes(t,n){const r=rh(this.indexes_,l=>{if(l===Ga)return l;{const u=n.get(t.name);return u?l.remove(new kt(t.name,u)):l}});return new as(r,this.indexSet_)}}let Oo;class Yt{static get EMPTY_NODE(){return Oo||(Oo=new Yt(new bn(Dg),null,as.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SE(this.priorityNode_),this.children_.isEmpty()&&nt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Oo}updatePriority(t){return this.children_.isEmpty()?this:new Yt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Oo:n}}getChild(t){const n=Ut(t);return n===null?this:this.getImmediateChild(n).getChild(le(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(nt(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new kt(t,n);let l,u;n.isEmpty()?(l=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(t,n),u=this.indexMap_.addToIndexes(r,this.children_));const f=l.isEmpty()?Oo:this.priorityNode_;return new Yt(l,f,u)}}updateChild(t,n){const r=Ut(t);if(r===null)return n;{nt(Ut(t)!==".priority"||lr(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(le(t),n);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,l=0,u=!0;if(this.forEachChild(un,(f,m)=>{n[f]=m.val(t),r++,u&&Yt.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!t&&u&&l<2*r){const f=[];for(const m in n)f[m]=n[m];return f}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+TE(this.getPriority().val())+":"),this.forEachChild(un,(n,r)=>{const l=r.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":K2(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new kt(t,n));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new kt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new kt(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,kt.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,t)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,kt.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,t)>0;)l.getNext(),u=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===hu?-1:0}withIndex(t){if(t===nl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Yt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===nl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(un),l=n.getIterator(un);let u=r.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===nl?null:this.indexMap_.get(t.toString())}}Yt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yw extends Yt{constructor(){super(new bn(Dg),Yt.EMPTY_NODE,as.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Yt.EMPTY_NODE}isEmpty(){return!1}}const hu=new yw;Object.defineProperties(kt,{MIN:{value:new kt(hl,Yt.EMPTY_NODE)},MAX:{value:new kt(Xr,hu)}});EE.__EMPTY_NODE=Yt.EMPTY_NODE;He.__childrenNodeConstructor=Yt;fw(hu);mw(hu);const vw=!0;function on(s,t=null){if(s===null)return Yt.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),nt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const n=s;return new He(n,on(t))}if(!(s instanceof Array)&&vw){const n=[];let r=!1;if(Xn(s,(f,m)=>{if(f.substring(0,1)!=="."){const _=on(m);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),n.push(new kt(f,_)))}}),n.length===0)return Yt.EMPTY_NODE;const u=_h(n,hw,f=>f.name,Dg);if(r){const f=_h(n,un.getCompare());return new Yt(u,on(t),new as({".priority":f},{".priority":un}))}else return new Yt(u,on(t),as.Default)}else{let n=Yt.EMPTY_NODE;return Xn(s,(r,l)=>{if(cs(s,r)&&r.substring(0,1)!=="."){const u=on(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(on(t))}}dw(on);class Ew extends Lh{constructor(t){super(),this.indexPath_=t,nt(!xt(t)&&Ut(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),l=this.extractChild(n.node),u=r.compareTo(l);return u===0?yl(t.name,n.name):u}makePost(t,n){const r=on(t),l=Yt.EMPTY_NODE.updateChild(this.indexPath_,r);return new kt(n,l)}maxPost(){const t=Yt.EMPTY_NODE.updateChild(this.indexPath_,hu);return new kt(Xr,t)}toString(){return pE(this.indexPath_,0).join("/")}}class Tw extends Lh{compare(t,n){const r=t.node.compareTo(n.node);return r===0?yl(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(t,n){const r=on(t);return new kt(n,r)}toString(){return".value"}}const Sw=new Tw;function Aw(s){return{type:"value",snapshotNode:s}}function bw(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Cw(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function ev(s,t,n){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:n}}function ww(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Og{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return nt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return nt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hl}hasEnd(){return this.endSet_}getIndexEndValue(){return nt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return nt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return nt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===un}copy(){const t=new Og;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function nv(s){const t={};if(s.isDefault())return t;let n;if(s.index_===un?n="$priority":s.index_===Sw?n="$value":s.index_===nl?n="$key":(nt(s.index_ instanceof Ew,"Unrecognized index type!"),n=s.index_.toString()),t.orderBy=tn(n),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=tn(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+tn(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=tn(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+tn(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function iv(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let n=s.viewFrom_;n===""&&(s.isViewFromLeft()?n="l":n="r"),t.vf=n}return s.index_!==un&&(t.i=s.index_.toString()),t}class yh extends dE{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(nt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=uu("p:rest:"),this.listens_={}}listen(t,n,r,l){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=yh.getListenId_(t,r),m={};this.listens_[f]=m;const _=nv(t._queryParams);this.restRequest_(u+".json",_,(p,E)=>{let S=E;if(p===404&&(S=null,p=null),p===null&&this.onDataUpdate_(u,S,!1,r),il(this.listens_,f)===m){let R;p?p===401?R="permission_denied":R="rest_error:"+p:R="ok",l(R,null)}})}unlisten(t,n){const r=yh.getListenId_(t,n);delete this.listens_[r]}get(t){const n=nv(t._queryParams),r=t._path.toString(),l=new Zm;return this.restRequest_(r+".json",n,(u,f)=>{let m=f;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(r,m,!1,null),l.resolve(m)):l.reject(new Error(m))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+z4(n);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let _=null;if(m.status>=200&&m.status<300){try{_=Qo(m.responseText)}catch{Vn("Failed to parse JSON response for "+f+": "+m.responseText)}r(null,_)}else m.status!==401&&m.status!==404&&Vn("Got unsuccessful REST response for "+f+" Status: "+m.status),r(m.status);r=null}},m.open("GET",f,!0),m.send()})}}class Rw{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function vh(){return{value:null,children:new Map}}function CE(s,t,n){if(xt(t))s.value=n,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,n);else{const r=Ut(t);s.children.has(r)||s.children.set(r,vh());const l=s.children.get(r);t=le(t),CE(l,t,n)}}function km(s,t,n){s.value!==null?n(t,s.value):Nw(s,(r,l)=>{const u=new oe(t.toString()+"/"+r);km(l,u,n)})}function Nw(s,t){s.children.forEach((n,r)=>{t(r,n)})}class Iw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Xn(this.last_,(r,l)=>{n[r]=n[r]-l}),this.last_=t,n}}const sv=10*1e3,Dw=30*1e3,Ow=300*1e3;class xw{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Iw(t);const r=sv+(Dw-sv)*Math.random();Fo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Xn(t,(l,u)=>{u>0&&cs(this.statsToReport_,l)&&(n[l]=u,r=!0)}),r&&this.server_.reportStats(n),Fo(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ow))}}var zi;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zi||(zi={}));function wE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function RE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function NE(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Eh{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=zi.ACK_USER_WRITE,this.source=wE()}operationForChild(t){if(xt(this.path)){if(this.affectedTree.value!=null)return nt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new oe(t));return new Eh(ee(),n,this.revert)}}else return nt(Ut(this.path)===t,"operationForChild called for unrelated child."),new Eh(le(this.path),this.affectedTree,this.revert)}}class Zr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=zi.OVERWRITE}operationForChild(t){return xt(this.path)?new Zr(this.source,ee(),this.snap.getImmediateChild(t)):new Zr(this.source,le(this.path),this.snap)}}class nu{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=zi.MERGE}operationForChild(t){if(xt(this.path)){const n=this.children.subtree(new oe(t));return n.isEmpty()?null:n.value?new Zr(this.source,ee(),n.value):new nu(this.source,ee(),n)}else return nt(Ut(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new nu(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xg{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xt(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ut(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Mw(s,t,n,r){const l=[],u=[];return t.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(ww(f.childName,f.snapshotNode))}),xo(s,l,"child_removed",t,r,n),xo(s,l,"child_added",t,r,n),xo(s,l,"child_moved",u,r,n),xo(s,l,"child_changed",t,r,n),xo(s,l,"value",t,r,n),l}function xo(s,t,n,r,l,u){const f=r.filter(m=>m.type===n);f.sort((m,_)=>Lw(s,m,_)),f.forEach(m=>{const _=Vw(s,m,u);l.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(_,s.query_))})})}function Vw(s,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function Lw(s,t,n){if(t.childName==null||n.childName==null)throw dl("Should only compare child_ events.");const r=new kt(t.childName,t.snapshotNode),l=new kt(n.childName,n.snapshotNode);return s.index_.compare(r,l)}function IE(s,t){return{eventCache:s,serverCache:t}}function Go(s,t,n,r){return IE(new xg(t,n,r),s.serverCache)}function DE(s,t,n,r){return IE(s.eventCache,new xg(t,n,r))}function Pm(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Jr(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let rm;const zw=()=>(rm||(rm=new bn(T6)),rm);class ae{static fromObject(t){let n=new ae(null);return Xn(t,(r,l)=>{n=n.set(new oe(r),l)}),n}constructor(t,n=zw()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ee(),value:this.value};if(xt(t))return null;{const r=Ut(t),l=this.children.get(r);if(l!==null){const u=l.findRootMostMatchingPathAndValue(le(t),n);return u!=null?{path:Ye(new oe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xt(t))return this;{const n=Ut(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new ae(null)}}set(t,n){if(xt(t))return new ae(n,this.children);{const r=Ut(t),u=(this.children.get(r)||new ae(null)).set(le(t),n),f=this.children.insert(r,u);return new ae(this.value,f)}}remove(t){if(xt(t))return this.children.isEmpty()?new ae(null):new ae(null,this.children);{const n=Ut(t),r=this.children.get(n);if(r){const l=r.remove(le(t));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new ae(null):new ae(this.value,u)}else return this}}get(t){if(xt(t))return this.value;{const n=Ut(t),r=this.children.get(n);return r?r.get(le(t)):null}}setTree(t,n){if(xt(t))return n;{const r=Ut(t),u=(this.children.get(r)||new ae(null)).setTree(le(t),n);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new ae(this.value,f)}}fold(t){return this.fold_(ee(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((l,u)=>{r[l]=u.fold_(Ye(t,l),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ee(),n)}findOnPath_(t,n,r){const l=this.value?r(n,this.value):!1;if(l)return l;if(xt(t))return null;{const u=Ut(t),f=this.children.get(u);return f?f.findOnPath_(le(t),Ye(n,u),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ee(),n)}foreachOnPath_(t,n,r){if(xt(t))return this;{this.value&&r(n,this.value);const l=Ut(t),u=this.children.get(l);return u?u.foreachOnPath_(le(t),Ye(n,l),r):new ae(null)}}foreach(t){this.foreach_(ee(),t)}foreach_(t,n){this.children.inorderTraversal((r,l)=>{l.foreach_(Ye(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class ci{constructor(t){this.writeTree_=t}static empty(){return new ci(new ae(null))}}function Yo(s,t,n){if(xt(t))return new ci(new ae(n));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const l=r.path;let u=r.value;const f=Kn(l,t);return u=u.updateChild(f,n),new ci(s.writeTree_.set(l,u))}else{const l=new ae(n),u=s.writeTree_.setTree(t,l);return new ci(u)}}}function rv(s,t,n){let r=s;return Xn(n,(l,u)=>{r=Yo(r,Ye(t,l),u)}),r}function av(s,t){if(xt(t))return ci.empty();{const n=s.writeTree_.setTree(t,new ae(null));return new ci(n)}}function Bm(s,t){return Wr(s,t)!=null}function Wr(s,t){const n=s.writeTree_.findRootMostValueAndPath(t);return n!=null?s.writeTree_.get(n.path).getChild(Kn(n.path,t)):null}function lv(s){const t=[],n=s.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(un,(r,l)=>{t.push(new kt(r,l))}):s.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&t.push(new kt(r,l.value))}),t}function tr(s,t){if(xt(t))return s;{const n=Wr(s,t);return n!=null?new ci(new ae(n)):new ci(s.writeTree_.subtree(t))}}function jm(s){return s.writeTree_.isEmpty()}function fl(s,t){return OE(ee(),s.writeTree_,t)}function OE(s,t,n){if(t.value!=null)return n.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((l,u)=>{l===".priority"?(nt(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=OE(Ye(s,l),u,n)}),!n.getChild(s).isEmpty()&&r!==null&&(n=n.updateChild(Ye(s,".priority"),r)),n}}function xE(s,t){return UE(t,s)}function Uw(s,t,n,r,l){nt(r>s.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),s.allWrites.push({path:t,snap:n,writeId:r,visible:l}),l&&(s.visibleWrites=Yo(s.visibleWrites,t,n)),s.lastWriteId=r}function kw(s,t){for(let n=0;n<s.allWrites.length;n++){const r=s.allWrites[n];if(r.writeId===t)return r}return null}function Pw(s,t){const n=s.allWrites.findIndex(m=>m.writeId===t);nt(n>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[n];s.allWrites.splice(n,1);let l=r.visible,u=!1,f=s.allWrites.length-1;for(;l&&f>=0;){const m=s.allWrites[f];m.visible&&(f>=n&&Bw(m,r.path)?l=!1:ui(r.path,m.path)&&(u=!0)),f--}if(l){if(u)return jw(s),!0;if(r.snap)s.visibleWrites=av(s.visibleWrites,r.path);else{const m=r.children;Xn(m,_=>{s.visibleWrites=av(s.visibleWrites,Ye(r.path,_))})}return!0}else return!1}function Bw(s,t){if(s.snap)return ui(s.path,t);for(const n in s.children)if(s.children.hasOwnProperty(n)&&ui(Ye(s.path,n),t))return!0;return!1}function jw(s){s.visibleWrites=ME(s.allWrites,qw,ee()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function qw(s){return s.visible}function ME(s,t,n){let r=ci.empty();for(let l=0;l<s.length;++l){const u=s[l];if(t(u)){const f=u.path;let m;if(u.snap)ui(n,f)?(m=Kn(n,f),r=Yo(r,m,u.snap)):ui(f,n)&&(m=Kn(f,n),r=Yo(r,ee(),u.snap.getChild(m)));else if(u.children){if(ui(n,f))m=Kn(n,f),r=rv(r,m,u.children);else if(ui(f,n))if(m=Kn(f,n),xt(m))r=rv(r,ee(),u.children);else{const _=il(u.children,Ut(m));if(_){const p=_.getChild(le(m));r=Yo(r,ee(),p)}}}else throw dl("WriteRecord should have .snap or .children")}}return r}function VE(s,t,n,r,l){if(!r&&!l){const u=Wr(s.visibleWrites,t);if(u!=null)return u;{const f=tr(s.visibleWrites,t);if(jm(f))return n;if(n==null&&!Bm(f,ee()))return null;{const m=n||Yt.EMPTY_NODE;return fl(f,m)}}}else{const u=tr(s.visibleWrites,t);if(!l&&jm(u))return n;if(!l&&n==null&&!Bm(u,ee()))return null;{const f=function(p){return(p.visible||l)&&(!r||!~r.indexOf(p.writeId))&&(ui(p.path,t)||ui(t,p.path))},m=ME(s.allWrites,f,t),_=n||Yt.EMPTY_NODE;return fl(m,_)}}}function Hw(s,t,n){let r=Yt.EMPTY_NODE;const l=Wr(s.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(un,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(n){const u=tr(s.visibleWrites,t);return n.forEachChild(un,(f,m)=>{const _=fl(tr(u,new oe(f)),m);r=r.updateImmediateChild(f,_)}),lv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=tr(s.visibleWrites,t);return lv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function Fw(s,t,n,r,l){nt(r||l,"Either existingEventSnap or existingServerSnap must exist");const u=Ye(t,n);if(Bm(s.visibleWrites,u))return null;{const f=tr(s.visibleWrites,u);return jm(f)?l.getChild(n):fl(f,l.getChild(n))}}function Gw(s,t,n,r){const l=Ye(t,n),u=Wr(s.visibleWrites,l);if(u!=null)return u;if(r.isCompleteForChild(n)){const f=tr(s.visibleWrites,l);return fl(f,r.getNode().getImmediateChild(n))}else return null}function Yw(s,t){return Wr(s.visibleWrites,t)}function Qw(s,t,n,r,l,u,f){let m;const _=tr(s.visibleWrites,t),p=Wr(_,ee());if(p!=null)m=p;else if(n!=null)m=fl(_,n);else return[];if(m=m.withIndex(f),!m.isEmpty()&&!m.isLeafNode()){const E=[],S=f.getCompare(),R=u?m.getReverseIteratorFrom(r,f):m.getIteratorFrom(r,f);let q=R.getNext();for(;q&&E.length<l;)S(q,r)!==0&&E.push(q),q=R.getNext();return E}else return[]}function Kw(){return{visibleWrites:ci.empty(),allWrites:[],lastWriteId:-1}}function qm(s,t,n,r){return VE(s.writeTree,s.treePath,t,n,r)}function LE(s,t){return Hw(s.writeTree,s.treePath,t)}function ov(s,t,n,r){return Fw(s.writeTree,s.treePath,t,n,r)}function Th(s,t){return Yw(s.writeTree,Ye(s.treePath,t))}function Xw(s,t,n,r,l,u){return Qw(s.writeTree,s.treePath,t,n,r,l,u)}function Mg(s,t,n){return Gw(s.writeTree,s.treePath,t,n)}function zE(s,t){return UE(Ye(s.treePath,t),s.writeTree)}function UE(s,t){return{treePath:s,writeTree:t}}class Zw{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;nt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),nt(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,ev(r,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,Cw(r,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,bw(r,t.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,ev(r,t.snapshotNode,l.oldSnap));else throw dl("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class Jw{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const kE=new Jw;class Vg{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new xg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mg(this.writes_,t,r)}}getChildAfterChild(t,n,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jr(this.viewCache_),u=Xw(this.writes_,l,n,1,r,t);return u.length===0?null:u[0]}}function $w(s,t){nt(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),nt(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function Ww(s,t,n,r,l){const u=new Zw;let f,m;if(n.type===zi.OVERWRITE){const p=n;p.source.fromUser?f=Hm(s,t,p.path,p.snap,r,l,u):(nt(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!xt(p.path),f=Sh(s,t,p.path,p.snap,r,l,m,u))}else if(n.type===zi.MERGE){const p=n;p.source.fromUser?f=eR(s,t,p.path,p.children,r,l,u):(nt(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),f=Fm(s,t,p.path,p.children,r,l,m,u))}else if(n.type===zi.ACK_USER_WRITE){const p=n;p.revert?f=sR(s,t,p.path,r,l,u):f=nR(s,t,p.path,p.affectedTree,r,l,u)}else if(n.type===zi.LISTEN_COMPLETE)f=iR(s,t,n.path,r,u);else throw dl("Unknown operation type: "+n.type);const _=u.getChanges();return tR(t,f,_),{viewCache:f,changes:_}}function tR(s,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Pm(s);(n.length>0||!s.eventCache.isFullyInitialized()||l&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(Aw(Pm(t)))}}function PE(s,t,n,r,l,u){const f=t.eventCache;if(Th(r,n)!=null)return t;{let m,_;if(xt(n))if(nt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=Jr(t),E=p instanceof Yt?p:Yt.EMPTY_NODE,S=LE(r,E);m=s.filter.updateFullNode(t.eventCache.getNode(),S,u)}else{const p=qm(r,Jr(t));m=s.filter.updateFullNode(t.eventCache.getNode(),p,u)}else{const p=Ut(n);if(p===".priority"){nt(lr(n)===1,"Can't have a priority with additional path components");const E=f.getNode();_=t.serverCache.getNode();const S=ov(r,n,E,_);S!=null?m=s.filter.updatePriority(E,S):m=f.getNode()}else{const E=le(n);let S;if(f.isCompleteForChild(p)){_=t.serverCache.getNode();const R=ov(r,n,f.getNode(),_);R!=null?S=f.getNode().getImmediateChild(p).updateChild(E,R):S=f.getNode().getImmediateChild(p)}else S=Mg(r,p,t.serverCache);S!=null?m=s.filter.updateChild(f.getNode(),p,S,E,l,u):m=f.getNode()}}return Go(t,m,f.isFullyInitialized()||xt(n),s.filter.filtersNodes())}}function Sh(s,t,n,r,l,u,f,m){const _=t.serverCache;let p;const E=f?s.filter:s.filter.getIndexedFilter();if(xt(n))p=E.updateFullNode(_.getNode(),r,null);else if(E.filtersNodes()&&!_.isFiltered()){const q=_.getNode().updateChild(n,r);p=E.updateFullNode(_.getNode(),q,null)}else{const q=Ut(n);if(!_.isCompleteForPath(n)&&lr(n)>1)return t;const Z=le(n),it=_.getNode().getImmediateChild(q).updateChild(Z,r);q===".priority"?p=E.updatePriority(_.getNode(),it):p=E.updateChild(_.getNode(),q,it,Z,kE,null)}const S=DE(t,p,_.isFullyInitialized()||xt(n),E.filtersNodes()),R=new Vg(l,S,u);return PE(s,S,n,l,R,m)}function Hm(s,t,n,r,l,u,f){const m=t.eventCache;let _,p;const E=new Vg(l,t,u);if(xt(n))p=s.filter.updateFullNode(t.eventCache.getNode(),r,f),_=Go(t,p,!0,s.filter.filtersNodes());else{const S=Ut(n);if(S===".priority")p=s.filter.updatePriority(t.eventCache.getNode(),r),_=Go(t,p,m.isFullyInitialized(),m.isFiltered());else{const R=le(n),q=m.getNode().getImmediateChild(S);let Z;if(xt(R))Z=r;else{const W=E.getCompleteChild(S);W!=null?gE(R)===".priority"&&W.getChild(_E(R)).isEmpty()?Z=W:Z=W.updateChild(R,r):Z=Yt.EMPTY_NODE}if(q.equals(Z))_=t;else{const W=s.filter.updateChild(m.getNode(),S,Z,R,E,f);_=Go(t,W,m.isFullyInitialized(),s.filter.filtersNodes())}}}return _}function uv(s,t){return s.eventCache.isCompleteForChild(t)}function eR(s,t,n,r,l,u,f){let m=t;return r.foreach((_,p)=>{const E=Ye(n,_);uv(t,Ut(E))&&(m=Hm(s,m,E,p,l,u,f))}),r.foreach((_,p)=>{const E=Ye(n,_);uv(t,Ut(E))||(m=Hm(s,m,E,p,l,u,f))}),m}function cv(s,t,n){return n.foreach((r,l)=>{t=t.updateChild(r,l)}),t}function Fm(s,t,n,r,l,u,f,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _=t,p;xt(n)?p=r:p=new ae(null).setTree(n,r);const E=t.serverCache.getNode();return p.children.inorderTraversal((S,R)=>{if(E.hasChild(S)){const q=t.serverCache.getNode().getImmediateChild(S),Z=cv(s,q,R);_=Sh(s,_,new oe(S),Z,l,u,f,m)}}),p.children.inorderTraversal((S,R)=>{const q=!t.serverCache.isCompleteForChild(S)&&R.value===null;if(!E.hasChild(S)&&!q){const Z=t.serverCache.getNode().getImmediateChild(S),W=cv(s,Z,R);_=Sh(s,_,new oe(S),W,l,u,f,m)}}),_}function nR(s,t,n,r,l,u,f){if(Th(l,n)!=null)return t;const m=t.serverCache.isFiltered(),_=t.serverCache;if(r.value!=null){if(xt(n)&&_.isFullyInitialized()||_.isCompleteForPath(n))return Sh(s,t,n,_.getNode().getChild(n),l,u,m,f);if(xt(n)){let p=new ae(null);return _.getNode().forEachChild(nl,(E,S)=>{p=p.set(new oe(E),S)}),Fm(s,t,n,p,l,u,m,f)}else return t}else{let p=new ae(null);return r.foreach((E,S)=>{const R=Ye(n,E);_.isCompleteForPath(R)&&(p=p.set(E,_.getNode().getChild(R)))}),Fm(s,t,n,p,l,u,m,f)}}function iR(s,t,n,r,l){const u=t.serverCache,f=DE(t,u.getNode(),u.isFullyInitialized()||xt(n),u.isFiltered());return PE(s,f,n,r,kE,l)}function sR(s,t,n,r,l,u){let f;if(Th(r,n)!=null)return t;{const m=new Vg(r,t,l),_=t.eventCache.getNode();let p;if(xt(n)||Ut(n)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=qm(r,Jr(t));else{const S=t.serverCache.getNode();nt(S instanceof Yt,"serverChildren would be complete if leaf node"),E=LE(r,S)}E=E,p=s.filter.updateFullNode(_,E,u)}else{const E=Ut(n);let S=Mg(r,E,t.serverCache);S==null&&t.serverCache.isCompleteForChild(E)&&(S=_.getImmediateChild(E)),S!=null?p=s.filter.updateChild(_,E,S,le(n),m,u):t.eventCache.getNode().hasChild(E)?p=s.filter.updateChild(_,E,Yt.EMPTY_NODE,le(n),m,u):p=_,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=qm(r,Jr(t)),f.isLeafNode()&&(p=s.filter.updateFullNode(p,f,u)))}return f=t.serverCache.isFullyInitialized()||Th(r,ee())!=null,Go(t,p,f,s.filter.filtersNodes())}}function rR(s,t){const n=Jr(s.viewCache_);return n&&(s.query._queryParams.loadsAllData()||!xt(t)&&!n.getImmediateChild(Ut(t)).isEmpty())?n.getChild(t):null}function hv(s,t,n,r){t.type===zi.MERGE&&t.source.queryId!==null&&(nt(Jr(s.viewCache_),"We should always have a full cache before handling merges"),nt(Pm(s.viewCache_),"Missing event cache, even though we have a server cache"));const l=s.viewCache_,u=Ww(s.processor_,l,t,n,r);return $w(s.processor_,u.viewCache),nt(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,aR(s,u.changes,u.viewCache.eventCache.getNode())}function aR(s,t,n,r){const l=s.eventRegistrations_;return Mw(s.eventGenerator_,t,n,l)}let fv;function lR(s){nt(!fv,"__referenceConstructor has already been defined"),fv=s}function Lg(s,t,n,r){const l=t.source.queryId;if(l!==null){const u=s.views.get(l);return nt(u!=null,"SyncTree gave us an op for an invalid query."),hv(u,t,n,r)}else{let u=[];for(const f of s.views.values())u=u.concat(hv(f,t,n,r));return u}}function zg(s,t){let n=null;for(const r of s.views.values())n=n||rR(r,t);return n}let dv;function oR(s){nt(!dv,"__referenceConstructor has already been defined"),dv=s}class mv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ae(null),this.pendingWriteTree_=Kw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uR(s,t,n,r,l){return Uw(s.pendingWriteTree_,t,n,r,l),l?Uh(s,new Zr(wE(),t,n)):[]}function Ja(s,t,n=!1){const r=kw(s.pendingWriteTree_,t);if(Pw(s.pendingWriteTree_,t)){let u=new ae(null);return r.snap!=null?u=u.set(ee(),!0):Xn(r.children,f=>{u=u.set(new oe(f),!0)}),Uh(s,new Eh(r.path,u,n))}else return[]}function zh(s,t,n){return Uh(s,new Zr(RE(),t,n))}function cR(s,t,n){const r=ae.fromObject(n);return Uh(s,new nu(RE(),t,r))}function hR(s,t,n,r){const l=HE(s,r);if(l!=null){const u=FE(l),f=u.path,m=u.queryId,_=Kn(f,t),p=new Zr(NE(m),_,n);return GE(s,f,p)}else return[]}function fR(s,t,n,r){const l=HE(s,r);if(l){const u=FE(l),f=u.path,m=u.queryId,_=Kn(f,t),p=ae.fromObject(n),E=new nu(NE(m),_,p);return GE(s,f,E)}else return[]}function BE(s,t,n){const l=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(f,m)=>{const _=Kn(f,t),p=zg(m,_);if(p)return p});return VE(l,t,u,n,!0)}function Uh(s,t){return jE(t,s.syncPointTree_,null,xE(s.pendingWriteTree_,ee()))}function jE(s,t,n,r){if(xt(s.path))return qE(s,t,n,r);{const l=t.get(ee());n==null&&l!=null&&(n=zg(l,ee()));let u=[];const f=Ut(s.path),m=s.operationForChild(f),_=t.children.get(f);if(_&&m){const p=n?n.getImmediateChild(f):null,E=zE(r,f);u=u.concat(jE(m,_,p,E))}return l&&(u=u.concat(Lg(l,s,r,n))),u}}function qE(s,t,n,r){const l=t.get(ee());n==null&&l!=null&&(n=zg(l,ee()));let u=[];return t.children.inorderTraversal((f,m)=>{const _=n?n.getImmediateChild(f):null,p=zE(r,f),E=s.operationForChild(f);E&&(u=u.concat(qE(E,m,_,p)))}),l&&(u=u.concat(Lg(l,s,r,n))),u}function HE(s,t){return s.tagToQueryMap.get(t)}function FE(s){const t=s.indexOf("$");return nt(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new oe(s.substr(0,t))}}function GE(s,t,n){const r=s.syncPointTree_.get(t);nt(r,"Missing sync point for query tag that we're tracking");const l=xE(s.pendingWriteTree_,t);return Lg(r,n,l,null)}class Ug{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Ug(n)}node(){return this.node_}}class kg{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ye(this.path_,t);return new kg(this.syncTree_,n)}node(){return BE(this.syncTree_,this.path_)}}const dR=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},gv=function(s,t,n){if(!s||typeof s!="object")return s;if(nt(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return mR(s[".sv"],t,n);if(typeof s[".sv"]=="object")return gR(s[".sv"],t);nt(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},mR=function(s,t,n){if(s==="timestamp")return n.timestamp;nt(!1,"Unexpected server value: "+s)},gR=function(s,t,n){s.hasOwnProperty("increment")||nt(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&nt(!1,"Unexpected increment value: "+r);const l=t.node();if(nt(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const f=l.getValue();return typeof f!="number"?r:f+r},pR=function(s,t,n,r){return Pg(t,new kg(n,s),r)},_R=function(s,t,n){return Pg(s,new Ug(t),n)};function Pg(s,t,n){const r=s.getPriority().val(),l=gv(r,t.getImmediateChild(".priority"),n);let u;if(s.isLeafNode()){const f=s,m=gv(f.getValue(),t,n);return m!==f.getValue()||l!==f.getPriority().val()?new He(m,on(l)):s}else{const f=s;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new He(l))),f.forEachChild(un,(m,_)=>{const p=Pg(_,t.getImmediateChild(m),n);p!==_&&(u=u.updateImmediateChild(m,p))}),u}}class Bg{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function jg(s,t){let n=t instanceof oe?t:new oe(t),r=s,l=Ut(n);for(;l!==null;){const u=il(r.node.children,l)||{children:{},childCount:0};r=new Bg(l,r,u),n=le(n),l=Ut(n)}return r}function vl(s){return s.node.value}function YE(s,t){s.node.value=t,Gm(s)}function QE(s){return s.node.childCount>0}function yR(s){return vl(s)===void 0&&!QE(s)}function kh(s,t){Xn(s.node.children,(n,r)=>{t(new Bg(n,s,r))})}function KE(s,t,n,r){n&&t(s),kh(s,l=>{KE(l,t,!0)})}function vR(s,t,n){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function fu(s){return new oe(s.parent===null?s.name:fu(s.parent)+"/"+s.name)}function Gm(s){s.parent!==null&&ER(s.parent,s.name,s)}function ER(s,t,n){const r=yR(n),l=cs(s.node.children,t);r&&l?(delete s.node.children[t],s.node.childCount--,Gm(s)):!r&&!l&&(s.node.children[t]=n.node,s.node.childCount++,Gm(s))}const TR=/[\[\].#$\/\u0000-\u001F\u007F]/,SR=/[\[\].#$\u0000-\u001F\u007F]/,am=10*1024*1024,XE=function(s){return typeof s=="string"&&s.length!==0&&!TR.test(s)},AR=function(s){return typeof s=="string"&&s.length!==0&&!SR.test(s)},bR=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),AR(s)},ZE=function(s,t,n){const r=n instanceof oe?new iw(n,s):n;if(t===void 0)throw new Error(s+"contains undefined "+Br(r));if(typeof t=="function")throw new Error(s+"contains a function "+Br(r)+" with contents = "+t.toString());if(X2(t))throw new Error(s+"contains "+t.toString()+" "+Br(r));if(typeof t=="string"&&t.length>am/3&&Ah(t)>am)throw new Error(s+"contains a string greater than "+am+" utf8 bytes "+Br(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,u=!1;if(Xn(t,(f,m)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!XE(f)))throw new Error(s+" contains an invalid key ("+f+") "+Br(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sw(r,f),ZE(s,m,r),rw(r)}),l&&u)throw new Error(s+' contains ".value" child '+Br(r)+" in addition to actual children.")}},CR=function(s,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!XE(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!bR(n))throw new Error(k4(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class wR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function RR(s,t){let n=null;for(let r=0;r<t.length;r++){const l=t[r],u=l.getPath();n!==null&&!yE(u,n.path)&&(s.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&s.eventLists_.push(n)}function ta(s,t,n){RR(s,n),NR(s,r=>ui(r,t)||ui(t,r))}function NR(s,t){s.recursionDepth_++;let n=!0;for(let r=0;r<s.eventLists_.length;r++){const l=s.eventLists_[r];if(l){const u=l.path;t(u)?(IR(s.eventLists_[r]),s.eventLists_[r]=null):n=!1}}n&&(s.eventLists_=[]),s.recursionDepth_--}function IR(s){for(let t=0;t<s.events.length;t++){const n=s.events[t];if(n!==null){s.events[t]=null;const r=n.getEventRunner();Ho&&ln("event: "+n.toString()),cu(r)}}}const DR="repo_interrupt",OR=25;class xR{constructor(t,n,r,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vh(),this.transactionQueueTree_=new Bg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function MR(s,t,n){if(s.stats_=Rg(s.repoInfo_),s.forceRestClient_||R6())s.server_=new yh(s.repoInfo_,(r,l,u,f)=>{pv(s,r,l,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>_v(s,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new ls(s.repoInfo_,t,(r,l,u,f)=>{pv(s,r,l,u,f)},r=>{_v(s,r)},r=>{LR(s,r)},s.authTokenProvider_,s.appCheckProvider_,n),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=M6(s.repoInfo_,()=>new xw(s.stats_,s.server_)),s.infoData_=new Rw,s.infoSyncTree_=new mv({startListening:(r,l,u,f)=>{let m=[];const _=s.infoData_.getNode(r._path);return _.isEmpty()||(m=zh(s.infoSyncTree_,r._path,_),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),qg(s,"connected",!1),s.serverSyncTree_=new mv({startListening:(r,l,u,f)=>(s.server_.listen(r,u,l,(m,_)=>{const p=f(m,_);ta(s.eventQueue_,r._path,p)}),[]),stopListening:(r,l)=>{s.server_.unlisten(r,l)}})}function VR(s){const n=s.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function JE(s){return dR({timestamp:VR(s)})}function pv(s,t,n,r,l){s.dataUpdateCount++;const u=new oe(t);n=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,n):n;let f=[];if(l)if(r){const _=rh(n,p=>on(p));f=fR(s.serverSyncTree_,u,_,l)}else{const _=on(n);f=hR(s.serverSyncTree_,u,_,l)}else if(r){const _=rh(n,p=>on(p));f=cR(s.serverSyncTree_,u,_)}else{const _=on(n);f=zh(s.serverSyncTree_,u,_)}let m=u;f.length>0&&(m=Fg(s,u)),ta(s.eventQueue_,m,f)}function _v(s,t){qg(s,"connected",t),t===!1&&UR(s)}function LR(s,t){Xn(t,(n,r)=>{qg(s,n,r)})}function qg(s,t,n){const r=new oe("/.info/"+t),l=on(n);s.infoData_.updateSnapshot(r,l);const u=zh(s.infoSyncTree_,r,l);ta(s.eventQueue_,r,u)}function zR(s){return s.nextWriteId_++}function UR(s){$E(s,"onDisconnectEvents");const t=JE(s),n=vh();km(s.onDisconnect_,ee(),(l,u)=>{const f=pR(l,u,s.serverSyncTree_,t);CE(n,l,f)});let r=[];km(n,ee(),(l,u)=>{r=r.concat(zh(s.serverSyncTree_,l,u));const f=jR(s,l);Fg(s,f)}),s.onDisconnect_=vh(),ta(s.eventQueue_,ee(),r)}function kR(s){s.persistentConnection_&&s.persistentConnection_.interrupt(DR)}function $E(s,...t){let n="";s.persistentConnection_&&(n=s.persistentConnection_.id+":"),ln(n,...t)}function WE(s,t,n){return BE(s.serverSyncTree_,t,n)||Yt.EMPTY_NODE}function Hg(s,t=s.transactionQueueTree_){if(t||Ph(s,t),vl(t)){const n=eT(s,t);nt(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&PR(s,fu(t),n)}else QE(t)&&kh(t,n=>{Hg(s,n)})}function PR(s,t,n){const r=n.map(p=>p.currentWriteId),l=WE(s,t,r);let u=l;const f=l.hash();for(let p=0;p<n.length;p++){const E=n[p];nt(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const S=Kn(t,E.path);u=u.updateChild(S,E.currentOutputSnapshotRaw)}const m=u.val(!0),_=t;s.server_.put(_.toString(),m,p=>{$E(s,"transaction put response",{path:_.toString(),status:p});let E=[];if(p==="ok"){const S=[];for(let R=0;R<n.length;R++)n[R].status=2,E=E.concat(Ja(s.serverSyncTree_,n[R].currentWriteId)),n[R].onComplete&&S.push(()=>n[R].onComplete(null,!0,n[R].currentOutputSnapshotResolved)),n[R].unwatcher();Ph(s,jg(s.transactionQueueTree_,t)),Hg(s,s.transactionQueueTree_),ta(s.eventQueue_,t,E);for(let R=0;R<S.length;R++)cu(S[R])}else{if(p==="datastale")for(let S=0;S<n.length;S++)n[S].status===3?n[S].status=4:n[S].status=0;else{Vn("transaction at "+_.toString()+" failed: "+p);for(let S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=p}Fg(s,t)}},f)}function Fg(s,t){const n=tT(s,t),r=fu(n),l=eT(s,n);return BR(s,l,r),r}function BR(s,t,n){if(t.length===0)return;const r=[];let l=[];const f=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const _=t[m],p=Kn(n,_.path);let E=!1,S;if(nt(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)E=!0,S=_.abortReason,l=l.concat(Ja(s.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=OR)E=!0,S="maxretry",l=l.concat(Ja(s.serverSyncTree_,_.currentWriteId,!0));else{const R=WE(s,_.path,f);_.currentInputSnapshot=R;const q=t[m].update(R.val());if(q!==void 0){ZE("transaction failed: Data returned ",q,_.path);let Z=on(q);typeof q=="object"&&q!=null&&cs(q,".priority")||(Z=Z.updatePriority(R.getPriority()));const it=_.currentWriteId,pt=JE(s),dt=_R(Z,R,pt);_.currentOutputSnapshotRaw=Z,_.currentOutputSnapshotResolved=dt,_.currentWriteId=zR(s),f.splice(f.indexOf(it),1),l=l.concat(uR(s.serverSyncTree_,_.path,dt,_.currentWriteId,_.applyLocally)),l=l.concat(Ja(s.serverSyncTree_,it,!0))}else E=!0,S="nodata",l=l.concat(Ja(s.serverSyncTree_,_.currentWriteId,!0))}ta(s.eventQueue_,n,l),l=[],E&&(t[m].status=2,(function(R){setTimeout(R,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(S==="nodata"?r.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):r.push(()=>t[m].onComplete(new Error(S),!1,null))))}Ph(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)cu(r[m]);Hg(s,s.transactionQueueTree_)}function tT(s,t){let n,r=s.transactionQueueTree_;for(n=Ut(t);n!==null&&vl(r)===void 0;)r=jg(r,n),t=le(t),n=Ut(t);return r}function eT(s,t){const n=[];return nT(s,t,n),n.sort((r,l)=>r.order-l.order),n}function nT(s,t,n){const r=vl(t);if(r)for(let l=0;l<r.length;l++)n.push(r[l]);kh(t,l=>{nT(s,l,n)})}function Ph(s,t){const n=vl(t);if(n){let r=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[r]=n[l],r++);n.length=r,YE(t,n.length>0?n:void 0)}kh(t,r=>{Ph(s,r)})}function jR(s,t){const n=fu(tT(s,t)),r=jg(s.transactionQueueTree_,t);return vR(r,l=>{lm(s,l)}),lm(s,r),KE(r,l=>{lm(s,l)}),n}function lm(s,t){const n=vl(t);if(n){const r=[];let l=[],u=-1;for(let f=0;f<n.length;f++)n[f].status===3||(n[f].status===1?(nt(u===f-1,"All SENT items should be at beginning of queue."),u=f,n[f].status=3,n[f].abortReason="set"):(nt(n[f].status===0,"Unexpected transaction status in abort"),n[f].unwatcher(),l=l.concat(Ja(s.serverSyncTree_,n[f].currentWriteId,!0)),n[f].onComplete&&r.push(n[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?YE(t,void 0):n.length=u+1,ta(s.eventQueue_,fu(t),l);for(let f=0;f<r.length;f++)cu(r[f])}}function qR(s){let t="";const n=s.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let l=n[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function HR(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const n of s.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vn(`Invalid query segment '${n}' in query '${s}'`)}return t}const yv=function(s,t){const n=FR(s),r=n.namespace;n.domain==="firebase.com"&&Kr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Kr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||v6();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new D6(n.host,n.secure,r,l,t,"",r!==n.subdomain),path:new oe(n.pathString)}},FR=function(s){let t="",n="",r="",l="",u="",f=!0,m="https",_=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let E=s.indexOf("/");E===-1&&(E=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),t=s.substring(0,Math.min(E,S)),E<S&&(l=qR(s.substring(E,S)));const R=HR(s.substring(Math.min(s.length,S)));p=t.indexOf(":"),p>=0?(f=m==="https"||m==="wss",_=parseInt(t.substring(p+1),10)):p=t.length;const q=t.slice(0,p);if(q.toLowerCase()==="localhost")n="localhost";else if(q.split(".").length<=2)n=q;else{const Z=t.indexOf(".");r=t.substring(0,Z).toLowerCase(),n=t.substring(Z+1),u=r}"ns"in R&&(u=R.ns)}return{host:t,port:_,domain:n,subdomain:r,secure:f,scheme:m,pathString:l,namespace:u}};class Gg{constructor(t,n,r,l){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=l}get key(){return xt(this._path)?null:gE(this._path)}get ref(){return new El(this._repo,this._path)}get _queryIdentifier(){const t=iv(this._queryParams),n=Cg(t);return n==="{}"?"default":n}get _queryObject(){return iv(this._queryParams)}isEqual(t){if(t=$m(t),!(t instanceof Gg))return!1;const n=this._repo===t._repo,r=yE(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+nw(this._path)}}class El extends Gg{constructor(t,n){super(t,n,new Og,!1)}get parent(){const t=_E(this._path);return t===null?null:new El(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}lR(El);oR(El);const GR="FIREBASE_DATABASE_EMULATOR_HOST",Ym={};let YR=!1;function QR(s,t,n,r,l){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Kr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ln("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=yv(u,l),m=f.repoInfo,_;typeof process<"u"&&k1&&(_=k1[GR]),_?(u=`http://${_}?ns=${m.namespace}`,f=yv(u,l),m=f.repoInfo):f.repoInfo.secure;const p=new I6(s.name,s.options,t);CR("Invalid Firebase Database URL",f),xt(f.path)||Kr("Database URL must point to the root of a Firebase Database (not including a child path).");const E=XR(m,s,p,new N6(s,n));return new ZR(E,s)}function KR(s,t){const n=Ym[t];(!n||n[s.key]!==s)&&Kr(`Database ${t}(${s.repoInfo_}) has already been deleted.`),kR(s),delete n[s.key]}function XR(s,t,n,r){let l=Ym[t.name];l||(l={},Ym[t.name]=l);let u=l[s.toURLString()];return u&&Kr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new xR(s,YR,n,r),l[s.toURLString()]=u,u}class ZR{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new El(this._repo,ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Kr("Cannot call "+t+" on a deleted database.")}}function JR(s){d6(Lv),Ko(new sl("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return QR(r,l,u,n)},"PUBLIC").setMultipleInstances(!0)),Xs(P1,B1,s),Xs(P1,B1,"esm2020")}ls.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};ls.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};JR();const $R=[{name:"Facebook",iconName:"FaFacebook",color:"bg-blue-600",darkColor:"bg-blue-700",placeholder:"https://facebook.com/yourusername"},{name:"GitHub",iconName:"FaGithub",color:"bg-gray-800",darkColor:"bg-gray-900",placeholder:"https://github.com/yourusername"},{name:"Instagram",iconName:"FaInstagram",color:"bg-pink-600",darkColor:"bg-pink-700",placeholder:"https://instagram.com/yourusername"},{name:"Portfolio",iconName:"FaGlobe",color:"bg-purple-600",darkColor:"bg-purple-700",placeholder:"https://yourportfolio.com"},{name:"Twitter",iconName:"FaTwitter",color:"bg-blue-400",darkColor:"bg-blue-500",placeholder:"https://twitter.com/yourusername"},{name:"YouTube",iconName:"FaYoutube",color:"bg-red-600",darkColor:"bg-red-700",placeholder:"https://youtube.com/@yourchannel"},{name:"TikTok",iconName:"FaTiktok",color:"bg-black",darkColor:"bg-gray-900",placeholder:"https://tiktok.com/@yourusername"},{name:"Discord",iconName:"FaDiscord",color:"bg-indigo-600",darkColor:"bg-indigo-700",placeholder:"https://discord.gg/yourserver"}],Zc=s=>{switch(s){case"FaFacebook":return K.jsx($S,{});case"FaGithub":return K.jsx(WS,{});case"FaInstagram":return K.jsx(t4,{});case"FaGlobe":return K.jsx(a4,{});case"FaTwitter":return K.jsx(n4,{});case"FaYoutube":return K.jsx(i4,{});case"FaTiktok":return K.jsx(e4,{});case"FaDiscord":return K.jsx(JS,{});default:return K.jsx(Sv,{})}};function WR(){const[s,t]=Sn.useState(""),[n,r]=Sn.useState([]),[l,u]=Sn.useState(!1),[f,m]=Sn.useState(null),[_,p]=Sn.useState(null),[E,S]=Sn.useState(!1),[R,q]=Sn.useState(""),[Z,W]=Sn.useState(""),[it,pt]=Sn.useState(!1),[dt,mt]=Sn.useState(!1);Sn.useEffect(()=>{const b=window.location.hash.replace("#","");b&&b!==""?(t(b),Mt(b)):u(!0)},[]);const Mt=async w=>{pt(!0);try{const b=await f6(w);if(b)r(b),O("Loaded from cloud! ");else{const bt=localStorage.getItem(`links_${w}`);bt?(r(JSON.parse(bt)),O("Loaded from local storage ")):u(!0)}}catch(b){console.error("Error loading links:",b),O("Error loading links. Using local backup.");const bt=localStorage.getItem(`links_${w}`);bt?r(JSON.parse(bt)):u(!0)}finally{pt(!1)}},ie=async()=>{if(!s.trim()){O("Please enter a username");return}mt(!0);const w=s.toLowerCase().replace(/\s+/g,"");try{await ie(w,n),localStorage.setItem(`links_${w}`,JSON.stringify(n)),window.location.hash=w,t(w),u(!1);const b=`${window.location.origin}${window.location.pathname}#${w}`;q(b),O(" Saved to cloud! Available on all devices.")}catch(b){console.error("Error saving:",b),O(" Saved locally only. Cloud save failed."),localStorage.setItem(`links_${w}`,JSON.stringify(n)),window.location.hash=w,t(w),u(!1)}finally{mt(!1)}},Vt=w=>{const b={id:Date.now(),platform:w.name,url:"",iconName:w.iconName,color:w.color,darkColor:w.darkColor,placeholder:w.placeholder,isEditing:!0};r([...n,b])},D=(w,b,bt)=>{r(n.map(fe=>fe.id===w?{...fe,[b]:bt}:fe))},C=w=>{r(n.filter(b=>b.id!==w))},I=w=>{r(n.map(b=>b.id===w?{...b,isEditing:!b.isEditing}:b))},V=(w,b=null)=>{navigator.clipboard.writeText(w),b!==null?(m(b),setTimeout(()=>m(null),2e3)):O("Copied to clipboard! ")},O=w=>{W(w),setTimeout(()=>W(""),3e3)};return Sn.useEffect(()=>{E?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[E]),Sn.useEffect(()=>{const w=()=>{const bt=window.location.hash.replace("#","");bt&&bt!==""?(t(bt),Mt(bt),u(!1)):(u(!0),r([]))};return window.addEventListener("hashchange",w),()=>window.removeEventListener("hashchange",w)},[]),l?K.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${E?"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"}`,children:[K.jsx("button",{onClick:()=>S(!E),className:`fixed top-4 right-4 p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 z-10 ${E?"bg-yellow-400 text-gray-900 hover:bg-yellow-300":"bg-gray-800 text-yellow-400 hover:bg-gray-700"}`,children:E?K.jsx(N0,{size:20}):K.jsx(R0,{size:20})}),Z&&K.jsx("div",{className:"fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-bounce",children:Z}),K.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[K.jsxs("div",{className:`backdrop-blur-sm shadow-lg rounded-2xl p-8 mb-8 ${E?"bg-gray-800/80":"bg-white/80"}`,children:[K.jsx("h1",{className:`text-4xl font-bold text-center mb-4 ${E?"text-white":"text-gray-800"}`,children:"Create Your Link Page "}),K.jsx("p",{className:`text-center mb-6 ${E?"text-gray-300":"text-gray-600"}`,children:"No sign-up required! Links save to cloud automatically."}),K.jsxs("div",{className:"max-w-md mx-auto",children:[K.jsx("label",{className:`block text-sm font-medium mb-2 ${E?"text-gray-300":"text-gray-700"}`,children:"Choose your username"}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("input",{type:"text",value:s,onChange:w=>t(w.target.value),placeholder:"john123",className:`flex-1 px-4 py-3 rounded-lg border focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition ${E?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),K.jsxs("button",{onClick:ie,disabled:dt,className:`px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transform hover:scale-105 transition-all duration-200 flex items-center gap-2 ${dt?"opacity-50 cursor-not-allowed":""}`,children:[dt?K.jsx(qc,{className:"animate-pulse"}):K.jsx(o4,{}),dt?"Saving...":"Create"]})]}),K.jsxs("p",{className:`text-sm mt-2 ${E?"text-gray-400":"text-gray-500"}`,children:["Your page will be at: ",window.location.origin,window.location.pathname,"#",s||"username"]})]})]}),K.jsxs("div",{className:`backdrop-blur-sm shadow-lg rounded-2xl p-8 ${E?"bg-gray-800/80":"bg-white/80"}`,children:[K.jsx("h2",{className:`text-2xl font-semibold mb-6 ${E?"text-white":"text-gray-800"}`,children:"Add Your Links"}),K.jsxs("div",{className:"mb-8",children:[K.jsx("h3",{className:`text-sm font-medium mb-3 ${E?"text-gray-400":"text-gray-600"}`,children:"Choose platforms to add:"}),K.jsx("div",{className:"flex flex-wrap gap-2",children:$R.map((w,b)=>K.jsxs("button",{onClick:()=>Vt(w),className:`${w.color} text-white px-4 py-2 rounded-lg hover:opacity-90 transform hover:scale-105 transition-all duration-200 flex items-center gap-2 text-sm`,children:[Zc(w.iconName),w.name,K.jsx(l4,{size:12})]},b))})]}),n.length>0?K.jsx("div",{className:"space-y-3",children:n.map(w=>K.jsx("div",{className:`p-4 rounded-xl ${E?"bg-gray-700/50":"bg-gray-50"}`,children:w.isEditing?K.jsxs("div",{className:"flex gap-2",children:[K.jsx("div",{className:`${w.color} text-white p-3 rounded-lg flex items-center gap-2`,children:Zc(w.iconName)}),K.jsx("input",{type:"url",value:w.url,onChange:b=>D(w.id,"url",b.target.value),placeholder:w.placeholder,className:`flex-1 px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition ${E?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300 text-gray-900"}`}),K.jsx("button",{onClick:()=>I(w.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:K.jsx(b0,{})}),K.jsx("button",{onClick:()=>C(w.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:K.jsx(I0,{})})]}):K.jsxs("div",{className:"flex items-center justify-between",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("span",{className:`${w.color} text-white p-2 rounded-lg`,children:Zc(w.iconName)}),K.jsx("span",{className:E?"text-white":"text-gray-800",children:w.url||"No URL set"})]}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("button",{onClick:()=>I(w.id),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition",children:K.jsx(w0,{})}),K.jsx("button",{onClick:()=>C(w.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition",children:K.jsx(I0,{})})]})]})},w.id))}):K.jsxs("div",{className:`text-center py-12 ${E?"text-gray-400":"text-gray-500"}`,children:[K.jsx(Sv,{className:"text-5xl mx-auto mb-4 opacity-50"}),K.jsx("p",{children:"No links yet. Add some above!"})]}),n.length>0&&K.jsx("div",{className:"mt-6 text-center",children:K.jsxs("button",{onClick:ie,disabled:dt,className:`px-8 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transform hover:scale-105 transition-all duration-200 flex items-center gap-2 mx-auto ${dt?"opacity-50 cursor-not-allowed":""}`,children:[dt?K.jsx(qc,{className:"animate-pulse"}):K.jsx(qc,{}),dt?"Saving to Cloud...":"Save & Publish to Cloud"]})})]})]})]}):it?K.jsx("div",{className:`min-h-screen flex items-center justify-center ${E?"bg-gray-900":"bg-gray-50"}`,children:K.jsxs("div",{className:"text-center",children:[K.jsx(r4,{className:"text-6xl text-purple-600 animate-bounce mx-auto mb-4"}),K.jsx("p",{className:E?"text-white":"text-gray-800",children:"Loading links from cloud..."})]})}):K.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${E?"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"}`,children:[K.jsx("button",{onClick:()=>S(!E),className:`fixed top-4 right-4 p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 z-10 ${E?"bg-yellow-400 text-gray-900 hover:bg-yellow-300":"bg-gray-800 text-yellow-400 hover:bg-gray-700"}`,children:E?K.jsx(N0,{size:20}):K.jsx(R0,{size:20})}),K.jsx("button",{onClick:()=>u(!0),className:`fixed top-4 left-4 p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 z-10 ${E?"bg-purple-600 text-white hover:bg-purple-700":"bg-purple-500 text-white hover:bg-purple-600"}`,children:K.jsx(w0,{size:20})}),K.jsxs("div",{className:`fixed top-4 left-20 p-2 rounded-full shadow-lg z-10 ${E?"bg-green-600":"bg-green-500"} text-white text-xs`,children:[K.jsx(qc,{className:"inline mr-1"})," Cloud Saved"]}),K.jsxs("div",{className:`fixed bottom-4 left-1/2 transform -translate-x-1/2 z-10 ${E?"bg-gray-800":"bg-white"} rounded-full shadow-lg px-4 py-2 flex items-center gap-2`,children:[K.jsx("span",{className:E?"text-gray-300":"text-gray-600",children:"Share:"}),K.jsxs("span",{className:"text-purple-600 font-mono text-sm",children:[window.location.origin,window.location.pathname,"#",s]}),K.jsx("button",{onClick:()=>V(`${window.location.origin}${window.location.pathname}#${s}`),className:"p-1 hover:bg-gray-100 rounded-full transition",children:K.jsx(C0,{className:E?"text-gray-400":"text-gray-600"})})]}),K.jsx("div",{className:`backdrop-blur-sm shadow-lg transition-colors duration-300 ${E?"bg-gray-800/80":"bg-white/80"}`,children:K.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[K.jsxs("h1",{className:`text-5xl font-bold text-center transition-colors duration-300 ${E?"text-white":"text-gray-800"}`,children:[s," ",K.jsx("span",{className:"text-5xl animate-bounce inline-block",children:""})]}),K.jsx("p",{className:`text-center mt-2 transition-colors duration-300 ${E?"text-gray-300":"text-gray-600"}`,children:"Connect with me on social media"}),K.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[K.jsxs("div",{className:"text-center",children:[K.jsx("div",{className:`text-2xl font-bold ${E?"text-purple-400":"text-purple-600"}`,children:n.length}),K.jsx("div",{className:`text-sm ${E?"text-gray-400":"text-gray-500"}`,children:"Platforms"})]}),K.jsxs("div",{className:"text-center",children:[K.jsx("div",{className:`text-2xl font-bold ${E?"text-purple-400":"text-purple-600"}`,children:""}),K.jsx("div",{className:`text-sm ${E?"text-gray-400":"text-gray-500"}`,children:"Active"})]})]})]})}),K.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12",children:[K.jsx("div",{className:"space-y-4",children:n.map((w,b)=>K.jsxs("div",{className:"relative group",onMouseEnter:()=>p(b),onMouseLeave:()=>p(null),children:[K.jsxs("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",className:`${E?w.darkColor:w.color} text-white p-5 rounded-xl hover:opacity-90 transform hover:scale-105 hover:shadow-2xl transition-all duration-300 block shadow-lg relative overflow-hidden`,children:[K.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),K.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("span",{className:"text-2xl",children:Zc(w.iconName)}),K.jsx("span",{className:"text-xl font-semibold",children:w.platform})]}),K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("button",{onClick:bt=>{bt.preventDefault(),V(w.url,b)},className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors duration-200",children:f===b?K.jsx(b0,{size:16}):K.jsx(C0,{size:16})}),K.jsx(s4,{className:`text-2xl transform transition-transform duration-300 ${_===b?"translate-x-1":""}`})]})]})]}),_===b&&K.jsxs("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-sm py-1 px-3 rounded-lg whitespace-nowrap",children:["Click to visit ",w.platform,K.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-800 rotate-45"})]})]},w.id))}),K.jsxs("div",{className:`text-center mt-12 transition-colors duration-300 ${E?"text-gray-400":"text-gray-500"}`,children:[K.jsxs("p",{children:["Create your own link page at ",K.jsx("a",{href:window.location.pathname,className:"text-purple-600 hover:underline",children:"MySocialLink"})]}),K.jsx("div",{className:"flex justify-center gap-4 mt-4",children:K.jsx("span",{className:"text-sm opacity-75",children:" Cloud saved  Access anywhere"})})]})]}),Z&&K.jsx("div",{className:"fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-bounce",children:Z})]})}HS.createRoot(document.getElementById("root")).render(K.jsx(Ys.StrictMode,{children:K.jsx(WR,{})}));
